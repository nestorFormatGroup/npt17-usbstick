commit 1d5bc3bb7a66e385876888d463002d1c9397642c
Author: Ondrej Holy <oholy@redhat.com>
Date:   2016-02-18

    Update NEWS for 1.26.3 release

M	NEWS

commit 12f104b037312be771983ad7eb67f34e841a0bdd
Author: Ondrej Holy <oholy@redhat.com>
Date:	2016-02-06

    udisks2: Avoid crashes during unmount

    Commit c014b64 was pushed to prevent race between unmount reply and
    retry timer. Result of mount operation reply should be stored if
    unmount operation is in progress, however it isn't, because the
    conditional statement is always true. Fix the condition accordingly.

    https://bugzilla.gnome.org/show_bug.cgi?id=678555

M	monitor/udisks2/gvfsudisks2mount.c

commit ea78c2bf2fdd357d69c50a66eb664cde76beb1b6
Author: Ondrej Holy <oholy@redhat.com>
Date:	2016-01-05

    ftp: Invalidate dir cache on write close

    Wrong file size is cached if query_info is executed during write
    operation, because dir cache is invalidated on open_for_write. Wrong
    file size might cause that e.g. POSIX editors fails to read file
    content over fuse daemon. Invalidate the cache also on close_write
    to fix this issue.

    https://bugzilla.gnome.org/show_bug.cgi?id=760159

M	daemon/gvfsbackendftp.c

commit 428adf56bbca298c0a92091de6dc10369d020a83
Author: Ondrej Holy <oholy@redhat.com>
Date:	2016-01-27

    network: Fix crashes when mount failed

    Mount operation might fail if you run multiple mount operations
    concurrently.
    Backend memory is released consequently. Unfortunatelly some idle
    sources
    and signal handlers are not removed, which might cause segmentation
    faults.
    This patch fixes this and also some other memory leaks.

    https://bugzilla.gnome.org/show_bug.cgi?id=712235

M	daemon/gvfsbackendnetwork.c

commit b7a511b4c80ccf996985a8c009ecc07b7fa97f03
Author: Wolfgang Stöggl <c72578@yahoo.de>
Date:	2016-01-21

    Updated German translation

M	po/de.po

commit 1085c645cb460753b42dc20f0376f38cd7e8d817
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-12-05

    sftp: Fail cancelled jobs

    Fail jobs which have been marked as cancelled, otherwise the job
    remains
    and blocks unmounting. This can be reproduced by cancelling while
    copying a large file to/from a mount and then trying to unmount it.

    https://bugzilla.gnome.org/show_bug.cgi?id=759061

M	daemon/gvfsbackendsftp.c

commit 7c20c24de6d803963b96ee39df49e478a933c946
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-12-10

    metadata: Avoid endless recursion when copying meta files

    meta_builder_copy is traversing the tree while at the same time
    possibly
    writing to it. This might leads to endless recursion and consequent
    segmentation fault. Do the entire copy into a new MetaFile that is not
    inserted into the source tree and consequently insert the MetaFile
    once
    the copy is done.

    https://bugzilla.gnome.org/show_bug.cgi?id=759341

M	metadata/metabuilder.c

commit c5a3b9cfa2125462b629891812d166d1d1bd6f80
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-10-06

    udisks2: Do not show notification if unmount failed

    "You can now unplug..." notification is shown regardless of errors
    currently. Error dialog is shown together with this notification.
    Device might be still mounted and it might not be safe to unmount it.
    Therefore show this notification only if there are no errors.

    https://bugzilla.gnome.org/show_bug.cgi?id=746769

M	monitor/udisks2/gvfsudisks2drive.c
M	monitor/udisks2/gvfsudisks2mount.c
M	monitor/udisks2/gvfsudisks2utils.c
M	monitor/udisks2/gvfsudisks2utils.h

commit 358214524e2925746944462189daf0e7f2ade8d1
Author: Dmitry Eremin-Solenikov <dbaryshkov@gmail.com>
Date:	2015-11-10

    daemon: Don't leak mountable_name

    If the daemon code allocates a unique mountable_name, later this
    string
    is lost. Store and free it properly to remove the memory leak.

    https://bugzilla.gnome.org/show_bug.cgi?id=757901

    Signed-off-by: Dmitry Eremin-Solenikov <dbaryshkov@gmail.com>
    [oholy@redhat.com: commit message modification]
    Signed-off-by: Ondrej Holy <oholy@redhat.com>

M	daemon/daemon-main.c

commit 7fc6980907025d4726f5da1b84d804f3b3dbcced
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-11-09

    Post release version bump

M	configure.ac

commit a8acc8177e476d5ef75ff3e2aa21d6ec0520c581
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-11-09

    Update NEWS for 1.26.2 release

M	NEWS

commit d7fc2c623b688661f94ac6d050e4077b9f84610e
Author: Aurimas Černius <aurisc4@gmail.com>
Date:	2015-11-06

    Fixed errors in Lithuanian translation

M	po/lt.po

commit ac80e77f6e45a3b688238e1fbf5b8baba98b58b4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:	2015-10-23

    Accept XDG_RUNTIME_DIR/bus as a valid D-Bus session/user bus

    These checks for DBUS_SESSION_BUS_ADDRESS were added to solve
    https://bugzilla.gnome.org/show_bug.cgi?id=526454,
    in which non-X11-session processes (for example a system service),
    or processes under su or similar inside an X11 session, could cause
    a dbus-daemon to be autolaunched via dbus-launch. If there was no
    X11 display to represent the lifetime of a session, the dbus-daemon
    would potentially run forever, causing a "leaked" process;
    additionally, other uses of D-Bus by the same uid would start more
    dbus-daemons.

    This becomes potentially problematic on systems with the "user bus"
    model introduced in dbus 1.10: libdbus, GDBus and sd-bus will now
    all try the per-uid socket XDG_RUNTIME_DIR/bus before attempting
    autolaunch, so if those are known to be the only implementations in
    use on a "legacy-free" system, setting DBUS_SESSION_BUS_ADDRESS is
    unnecessary. Check for that socket before giving up.

    XDG_RUNTIME_DIR/bus as implemented by dbus 1.10 with systemd avoids
    several of the down sides of autolaunching: it will never start more
    than one session bus per uid, and the socket and bus will
    automatically
    be cleaned up when the corresponding "systemd --user" exits.

    https://bugzilla.gnome.org/show_bug.cgi?id=756420

M	client/gdaemonvfs.c
M	common/gvfsutils.c
M	common/gvfsutils.h
M	monitor/proxy/gproxyvolumemonitor.c

commit d236257299344207736086400960b0add2c1200b
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-10-19

    google: Fail in-fs copy/move if it leads to display name loss

    Complicated file name handling on google backend leads to display name
    loss if in-fs copy and move operation is proceeded e.g. using
    Nautilus.
    Proper fix will require larger changes for the whole
    platform. Therefore
    fail the job preferably to avoid display name loss...

    https://bugzilla.gnome.org/show_bug.cgi?id=755701

M	daemon/gvfsbackendgoogle.c

commit cbd7bb86723d0cc7bd1b6564a9f60fad616a1771
Author: Debarshi Ray <debarshir@gnome.org>
Date:	2015-10-16

    proxy volume monitor: Properly handle failure to create a remote proxy

    We should finish constructing the innards of the object and not leave
    it in an inconsistent state when we hit an error. The other option
    would be to litter the rest of the code with NULL checks, but that
    would be ugly and prone to errors.

    We should also ensure that the reference counting stays consistent
    with
    the non-error paths.

    https://bugzilla.gnome.org/show_bug.cgi?id=755805

M	monitor/proxy/gproxyvolumemonitor.c

commit 3aade766e1793bbf3ba2ecd29aba44d0467a0c6d
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-10-15

    google: Mark files you can't see on the web as hidden

    Files without the parent are currently shown in google backend root.
    You can see many files consequently, which are not shown in your
    google
    drive folder on the web. Those files can be shared with you, or you
    opened them in some google applications (i.e. google docs). Mark those
    files as hidden to see same files as you can see on the web. Also mark
    the files as undeletable, because it is not possible to delete them
    from the obvious reason.

    https://bugzilla.gnome.org/show_bug.cgi?id=756644

M	daemon/gvfsbackendgoogle.c

commit e65c48683510f6a069628029bf07c15041af2074
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-10-15

    Post release version bump

M	configure.ac

commit e7792a4a8a8eef5b4689136c1f9eb1b7a5f9180b
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-10-15

    Update NEWS for 1.26.1.1

M	NEWS
M	configure.ac

commit 44d48ebfc3f322dc73d6a0b7b2bf92bdb3e905ee
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-10-13

    file monitor: Fix invalid read

    Commit 7373acf changed file monitor construction to be really
    synchronous. Unfortunately there is missing g_object_ref for d-bus
    connection and the connection is unrefed after use. Subsequent read
    of the unrefed connection cause crash with following critical:

    (firefox:29844): GLib-GIO-CRITICAL **: g_dbus_connection_is_closed:
    assertion 'G_IS_DBUS_CONNECTION (connection)' failed

    Do not store the connection, because it isn't neccesary with the
    synchronous construction.

    https://bugzilla.gnome.org/show_bug.cgi?id=756153

M	client/gdaemonfilemonitor.c

commit fe5f4c13150d127cf445e3b5a84d40a6e5c8bcd0
Author: Inaki Larranaga Murgoitio <dooteo@zundan.com>
Date:	2015-10-14

    Updated Basque language

M	po/eu.po

commit 71dd3bbedfbbae98f7d53617e61fe0ef4f6be8a7
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-10-12

    Post release version bump

M	configure.ac

commit d4af5129de1554b3911b1d42497bb085005e887e
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-10-12

    Update NEWS for 1.26.1 release

M	NEWS

commit ff92ef3aa4b09a648bd38152cc61ddfb99f41895
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-10-12

    test: Fix d-bus session services names

    Commit 957fff5 modified d-bus session services names, but the change
    was incomplete and test suite is broken conseqently. All tests
    fail with:
    Error mounting location: volume doesn't implement mount

    https://bugzilla.gnome.org/show_bug.cgi?id=755760

M	test/Makefile.am

commit 77805a9871fcf53e99ccece6509faea77fcf93b4
Author: Tristan Van Berkom <tristan.vanberkom@codethink.co.uk>
Date:	2015-10-06

    Avoid crash when no monitor implementations exist.

    The GVariantBuilder is unable to create any GVariant for
    an untyped array - while an empty vector is a valid variant,
    it is not valid for an untyped array.

    Passing the resulting null to gvfs_dbus_daemon_complete_cancel()
    causes gvfs to abort with a g_error().

    https://bugzilla.gnome.org/show_bug.cgi?id=756105

M	daemon/gvfsdaemon.c

commit eef594d24918d28ad5f0f736825a333df955c6c4
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-09-30

    client: Use g_warning if proxy creation failed

    Currently g_errprint is used and thus a message doesn't end up in
    a logs.
    Use g_warning to log the message and also replace g_return_if_fail,
    because proxy creation failure isn't programmer error.

    https://bugzilla.gnome.org/show_bug.cgi?id=755805

M	client/gdaemonvfs.c

commit b75a1896e740b3486a01961803fc304e0d3b3efe
Author: Debarshi Ray <debarshir@gnome.org>
Date:	2015-09-30

    proxy volume monitor: Guard access to the internal caches

    Accesses to the drives, volumes and mounts hash tables should be
    guarded by the proxy_vm mutex.

    https://bugzilla.gnome.org/show_bug.cgi?id=755805

M	monitor/proxy/gproxyvolumemonitor.c

commit dc7040d7f8b81658817b0a633092f85a4f4963fd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:	2015-09-29

    Add a corresponding systemd user service for every D-Bus session
    service

    When using "systemd --user" in conjunction with "dbus-daemon --session
    --systemd-activation", this ensures that each daemon is correctly
    placed
    in its own cgroup, instead of being treated as part of dbus.service.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=755760

M	daemon/Makefile.am
A	daemon/gvfs-daemon.service.in
M	daemon/org.gtk.vfs.Daemon.service.in
M	metadata/Makefile.am
A	metadata/gvfs-metadata.service.in
M	metadata/org.gtk.vfs.Metadata.service.in
M	monitor/afc/Makefile.am
A	monitor/afc/gvfs-afc-volume-monitor.service.in
M	monitor/afc/org.gtk.vfs.AfcVolumeMonitor.service.in
M	monitor/gdu/Makefile.am
A	monitor/gdu/gvfs-gdu-volume-monitor.service.in
M	monitor/gdu/org.gtk.vfs.GduVolumeMonitor.service.in
M	monitor/goa/Makefile.am
A	monitor/goa/gvfs-goa-volume-monitor.service.in
M	monitor/goa/org.gtk.vfs.GoaVolumeMonitor.service.in
M	monitor/gphoto2/Makefile.am
A	monitor/gphoto2/gvfs-gphoto2-volume-monitor.service.in
M	monitor/gphoto2/org.gtk.vfs.GPhoto2VolumeMonitor.service.in
M	monitor/hal/Makefile.am
A	monitor/hal/gvfs-hal-volume-monitor.service.in
M	monitor/hal/org.gtk.vfs.HalVolumeMonitor.service.in
M	monitor/mtp/Makefile.am
A	monitor/mtp/gvfs-mtp-volume-monitor.service.in
M	monitor/mtp/org.gtk.vfs.MTPVolumeMonitor.service.in
M	monitor/udisks2/Makefile.am
A	monitor/udisks2/gvfs-udisks2-volume-monitor.service.in
M	monitor/udisks2/org.gtk.vfs.UDisks2VolumeMonitor.service.in

commit 957fff5be2b3cb2a3356955f5c51c94bcd256fed
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:	2015-09-22

    Use conventional naming for D-Bus session services

    This naming is mandatory for the system bus, but is also recommended
    for the session bus.

    The D-Bus maintainers recommend that all activatable session services'
    service files are named according to the bus name, so that any
    conflict
    is resolved in a deterministic way. If the services are in different
    directories (precedence levels) the result is the same as it is now:
    the higher precedence "wins". If the services are in the same
    directory, either one overwrites the other and consistently "wins",
    or a packaging system like dpkg prevents co-installation.

    If the service files were named differently, it would be possible
    to have two implementations for the same name. dbus-daemon resolves
    this by choosing one arbitrarily, not necessarily the same one every
    time. systemd's kdbus support is more strict (or less concerned with
    backwards compatibility), and treats this situation as an error.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=755760

M	daemon/Makefile.am
R100	daemon/gvfs-daemon.service.in
daemon/org.gtk.vfs.Daemon.service.in
M	metadata/Makefile.am
R100	metadata/gvfs-metadata.service.in
metadata/org.gtk.vfs.Metadata.service.in

commit 7373acf9b15f40f1c01bd2a325b380ba9bc17d19
Author: Alexander Larsson <alexl@redhat.com>
Date:	2015-09-30

    file monitor: Construct synchronously

    g_file_monitor_file() is a sync call anyway, so doing some sync i/o
    in the constructor doesn't make a difference, and doing so avoids
    races where you would not get change events for operations you do.

    We don't actually need to wait for the subscribe event, and proxy
    construction in this case does not do any i/o, so we're really only
    doing sync i/o to look up the connection, and it should be cached from
    the earlier call in g_daemon_file_monitor_file(), so in practice
    this should make little difference.

    https://bugzilla.gnome.org/show_bug.cgi?id=749317

M	client/gdaemonfilemonitor.c

commit 3a70ae6f9f9ffc48e1e1b9337e57760d2e10e7d6
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-09-29

    google: Report progress when copying and moving

    Progress isn't reported currently. However it is guaranteed that
    the progress callback will be called at least after all data has
    been transferred according the GIO documentation. Nautilus shows
    some weird progress info when moving and copying consequently. Emit
    progress callback with total size to fix this issue.

    https://bugzilla.gnome.org/show_bug.cgi?id=755775

M	daemon/gvfsbackendgoogle.c

commit eefdc161bc016d9f5f8a5122e7c9eb75769078ed
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-09-20

    ftp: Sanitize absolute symlink paths when resolving

    The existing code sanitizes relative symlinks but not absolute
    symlinks
    when resolving them. But this can cause issues when looking up the
    resolved path (e.g. if it has a trailing slash, the correct
    information
    will not be returned because it will not get the parent directory
    correctly).

    To fix this, sanitize both absolute and relative paths.

    https://bugzilla.gnome.org/show_bug.cgi?id=755303

M	daemon/gvfsftpdircache.c

commit d1a53acf98d152f7e22fcf05ed9e2661b81334aa
Author: Trần Ngọc Quân <vnwildman@gmail.com>
Date:	2015-09-27

    Updated Vietnamese translation

    Signed-off-by: Trần Ngọc Quân <vnwildman@gmail.com>

M	po/vi.po

commit 2eaaac903fe54a9c111888c7446b9f5f4dfdc36a
Author: Bernd Homuth <dev@hmt.im>
Date:	2015-09-23

    Updated German translation

M	po/de.po

commit 1a4e823966e31f72eedfec536cb150c629e126a7
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-08-26

    Mark files as untrashable for main backends

    Otherwise nautilus will offer the wrong action in its UI.

    https://bugzilla.gnome.org/show_bug.cgi?id=753934

M	daemon/gvfsafpserver.c
M	daemon/gvfsbackendafc.c
M	daemon/gvfsbackendsftp.c
M	daemon/gvfsbackendsmb.c
M	daemon/gvfsftpdircache.c

commit e1a3c297aa38c86b19705a03555d322eaa944ff7
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-09-05

    sftp: Don't call g_vfs_backend_force_unmount multiple times

    If the remote connection(s) are closed (e.g. the remote host is
    rebooted), ensure that g_vfs_backend_force_unmount is only called
    once.

    This avoids a warning like the following:
    forced_unregister_mount_callback
    forced_unregister_mount_callback

    ** (process:12472): WARNING **: Error unregistering mount: Mountpoint
    not registered (g-io-error-quark, 16)

    Additionally, remove some backend member variables.

    https://bugzilla.gnome.org/show_bug.cgi?id=753311

M	daemon/gvfsbackendsftp.c

commit 46487b40479c0a422a2a5061bfa8da138a4dc107
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-08-06

    sftp: Fix crashes when data connection setup failed

    destroy_connection() is called twice when setup of data connection
    failed.
    Consequently g_hash_table_destroy() is called on already destroyed
    hash
    table on finalize. Set conn->expected_replies to NULL in
    destroy_connection()
    to fix the issue.

    There is another crash on force unmount when setup of data connection
    failed.
    fail_jobs() is called on already destroyed connection. Check
    usability of
    the connection before use to avoid the crash.

    Finally move the hast table initialization into the setup_connection,
    because the initialization in g_vfs_backend_sftp_init() is confusing.

    https://bugzilla.gnome.org/show_bug.cgi?id=753311

M	daemon/gvfsbackendsftp.c

commit 766b99b678d547dec69752f5a2df94cb94c54a7e
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-09-11

    job: Unify send_reply debug messages

    Unify send_reply debug messages for all jobs. Always indicate failure
    and include error message. Indicate some other info (i.e. offset,
    size) for some jobs (i.e. seek, read, write).

    https://bugzilla.gnome.org/show_bug.cgi?id=755104

M	daemon/gvfsjobcloseread.c
M	daemon/gvfsjobclosewrite.c
M	daemon/gvfsjobdbus.c
M	daemon/gvfsjobenumerate.c
M	daemon/gvfsjobmount.c
M	daemon/gvfsjobread.c
M	daemon/gvfsjobseekread.c
M	daemon/gvfsjobseekwrite.c
M	daemon/gvfsjobtruncate.c
M	daemon/gvfsjobunmount.c
M	daemon/gvfsjobwrite.c

commit 6f48955f87592aa18cac6a82465643dbdf95a50b
Author: Милош Поповић <gpopac@gmail.com>
Date:	2015-09-22

    Updated Serbian Latin translation

M	po/sr@latin.po

commit 52e9b4aff044f21641e941c7d8cc8eb53f20447f
Author: Милош Поповић <gpopac@gmail.com>
Date:	2015-09-22

    Updated Serbian translation

M	po/sr.po

commit 2b3a441b08f64f586fbfcdae975e84045822f99f
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-09-21

    Post release version bump

M	configure.ac

commit d6ea1ac937e43856e274471d95749a222b99250f
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-09-21

    Update NEWS for 1.26.0 release

M	NEWS

commit 7a1823c17c1e91cce0f94a44097a1d5dce3669ef
Author: Petr Kovar <pkovar@redhat.com>
Date:	2015-09-21

    Update Czech translation

M	po/cs.po

commit d037b5fd56cae878ed7bb5269a40e4bd046551d7
Author: Ask Hjorth Larsen <asklarsen@gmail.com>
Date:	2015-09-20

    Updated Danish translation

M	po/da.po

commit 3120eaaa460234e75b45e367cca2ad08a8a999c6
Author: Rūdolfs Mazurs <rudolfsm@src.gnome.org>
Date:	2015-09-18

    Updated Latvian translation

M	po/lv.po

commit bb83d4bcfac9df3104a7acfff87710772d96a112
Author: Enrico Nicoletto <liverig@gmail.com>
Date:	2015-09-17

    Updated Brazilian Portuguese translation

M	po/pt_BR.po

commit 97cf106be602eec707842133a4ea12e593968c45
Author: Felipe Braga <fbobraga@gmail.com>
Date:	2015-09-17

    Updated Brazilian Portuguese translation

M	po/pt_BR.po

commit d6790d93bdb4df8bb54037dac33ed413e5348b45
Author: Stas Solovey <whats_up@tut.by>
Date:	2015-09-17

    Updated Russian translation

M	po/ru.po

commit cc51206194cdffa7327900c611b3aaddf3b49a18
Author: Muhammet Kara <muhammetk@gmail.com>
Date:	2015-09-16

    Updated Turkish translation

M	po/tr.po

commit 909cde16f198bfd7496cf15aec1c627dd7cf8816
Author: Milo Casagrande <milo@ubuntu.com>
Date:	2015-09-15

    Updated Italian translation

M	po/it.po

commit 55b21fdd75b5a340d77c3ea6690bfc2db5678538
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-09-14

    Post release version bump

M	configure.ac

commit f7247064dc67485b8aa5d246a019c31a66631aa9
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-09-14

    Update NEWS for release 1.25.92

M	NEWS

commit 2a58ff7a22a2c652b67b0fad05745ab031e01108
Author: Jiri Grönroos <jiri.gronroos+l10n@iki.fi>
Date:	2015-09-10

    Finnish translation update

M	po/fi.po

commit 4709dac77b0a6995ca84076b1b2834e72fbbf97f
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-09-10

    Update .gitignore

M	daemon/.gitignore

commit 982fb11ad7b62867c2e97ffb0b4466d110421986
Author: Debarshi Ray <debarshir@gnome.org>
Date:	2015-09-09

    google: Fix the error string to respect the freeze and for consistency

    https://bugzilla.gnome.org/show_bug.cgi?id=754791

M	daemon/gvfsbackendgoogle.c

commit c690b5cf9e489f416a8b45eab56f92292013df7c
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-09-09

    Remove unused function to avoid warnings

    Commit 59325df refactored daemon code a bit. Function do_name_acquired
    is no more needed. Remove this function to avoid following warnings:

    daemon-main.c:347:1: warning: ‘do_name_acquired’ defined but
    not used

M	daemon/daemon-main.c

commit b88097b89c24cc802a504b45703bb499fc3c8f75
Author: Dušan Kazik <prescott66@gmail.com>
Date:	2015-09-09

    Updated Slovak translation

M	po/sk.po

commit 7429001e00860db52cb44df7e3317aa16368571e
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	2015-09-09

    Updated POTFILES.in

M	po/POTFILES.in

commit 7d9747ee2b6c621783a6195f38858bea70745b0d
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	2015-09-08

    Updated Slovenian translation

M	po/sl.po

commit 79dc70d75797a96b98cf75d2e4b694bd0059c914
Author: Debarshi Ray <debarshir@gnome.org>
Date:	2015-09-08

    build: Fix wrong grammar and spelling

    https://bugzilla.gnome.org/show_bug.cgi?id=753838

M	configure.ac

commit dfd595ae559bc576dab7c70a39d1c43e0854f344
Author: Debarshi Ray <debarshir@gnome.org>
Date:	2015-08-21

    mtp: Replace a deprecated function

    https://bugzilla.gnome.org/show_bug.cgi?id=754729

M	daemon/gvfsbackendmtp.c

commit bb33ba6e740e9a3d6be6383db80dd8307d0abb14
Author: Debarshi Ray <debarshir@gnome.org>
Date:	2015-09-01

    Add GVfsBackendGoogle

    Based on code written by Thibault Saunier.

    https://bugzilla.gnome.org/show_bug.cgi?id=739008

M	configure.ac
M	daemon/Makefile.am
A	daemon/google.mount.in
A	daemon/gvfsbackendgoogle.c
A	daemon/gvfsbackendgoogle.h

commit dfe40af0333f1d39a313d4b6d5102fe41e87c150
Author: Debarshi Ray <debarshir@gnome.org>
Date:	2014-10-22

    goa: Pick up OAuth2-based accounts with a GoaFiles interface

    The Google Drive backend would be OAuth2-based, so we should include
    such accounts too.

    https://bugzilla.gnome.org/show_bug.cgi?id=739008

M	monitor/goa/goavolume.c

commit b3270de2b3c95817be6539e60bceac21de4484e6
Author: Changwoo Ryu <cwryu@debian.org>
Date:	2015-09-08

    Updated Korean translation

M	po/ko.po

commit c37040b6cf39a516aeb5d9f3e03a44ab1c3e6096
Author: Baurzhan Muftakhidinov <baurthefirst@gmail.com>
Date:	2015-09-04

    Updated Kazakh translation

M	po/kk.po

commit 880d166ed9d281930d94ffc96fefcc2c8e932ab8
Author: Jordi Mas <jmas@softcatala.org>
Date:	2015-09-03

    Upload Catalan translation

M	po/ca.po

commit 59325dfbe1f855434f87b7791d11175bfdfb9766
Author: Alexander Larsson <alexl@redhat.com>
Date:	2015-09-03

    Make all gvfs daemons own a name under org.gtk.vfs.*

    This allows you to easily allow access to gvfs from a sandbox.
    Just give it talk access to org.gtk.vfs.* and everything will work.

    This change does three things:
     Change the existing mountpoint dbus names from
       org.gtk.vfs.mountpoint.foo
     to
       org.gtk.vfs.mountpoint_foo

     For other mountpoints, always own:
       org.gtk.vfs.mountpoint_$pid

     Change the dbus name of the volume monitors from
       org.gtk.Private.fooMonitor
     to
       org.gtk.vfs.fooMonitor

M	daemon/Makefile.am
M	daemon/daemon-main.c
M	daemon/http.mount.in
M	daemon/smb-browse.mount.in
M	monitor/afc/Makefile.am
M	monitor/afc/afc.monitor
M	monitor/afc/afcvolumemonitordaemon.c
R060	monitor/afc/org.gtk.Private.AfcVolumeMonitor.service.in
monitor/afc/org.gtk.vfs.AfcVolumeMonitor.service.in
M	monitor/gdu/Makefile.am
M	monitor/gdu/gdu-volume-monitor-daemon.c
M	monitor/gdu/gdu.monitor
R060	monitor/gdu/org.gtk.Private.GduVolumeMonitor.service.in
monitor/gdu/org.gtk.vfs.GduVolumeMonitor.service.in
M	monitor/goa/Makefile.am
M	monitor/goa/goa.monitor
M	monitor/goa/goavolumemonitordaemon.c
R060	monitor/goa/org.gtk.Private.GoaVolumeMonitor.service.in
monitor/goa/org.gtk.vfs.GoaVolumeMonitor.service.in
M	monitor/gphoto2/Makefile.am
M	monitor/gphoto2/gphoto2-volume-monitor-daemon.c
M	monitor/gphoto2/gphoto2.monitor
R059	monitor/gphoto2/org.gtk.Private.GPhoto2VolumeMonitor.service.in
monitor/gphoto2/org.gtk.vfs.GPhoto2VolumeMonitor.service.in
M	monitor/hal/Makefile.am
M	monitor/hal/hal-volume-monitor-daemon.c
M	monitor/hal/hal.monitor
R060	monitor/hal/org.gtk.Private.HalVolumeMonitor.service.in
monitor/hal/org.gtk.vfs.HalVolumeMonitor.service.in
M	monitor/mtp/Makefile.am
M	monitor/mtp/mtp-volume-monitor-daemon.c
M	monitor/mtp/mtp.monitor
R060	monitor/mtp/org.gtk.Private.MTPVolumeMonitor.service.in
monitor/mtp/org.gtk.vfs.MTPVolumeMonitor.service.in
M	monitor/udisks2/Makefile.am
R059	monitor/udisks2/org.gtk.Private.UDisks2VolumeMonitor.service.in
monitor/udisks2/org.gtk.vfs.UDisks2VolumeMonitor.service.in
M	monitor/udisks2/udisks2.monitor
M	monitor/udisks2/udisks2volumemonitordaemon.c
M	test/Makefile.am

commit 7fd91dfb7c48ed31688bcfcdc2dd5ab3f37a7377
Author: Aurimas Černius <aurisc4@gmail.com>
Date:	2015-09-02

    Updated Lithuanian translation

M	po/lt.po

commit f2f199f5f15b8d1dbaf1a1a2ca91f4e6dbdaf234
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-09-01

    Post release version bump

M	configure.ac

commit be1bbed96b4de1e9b11f4d81de3b643059444647
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-09-01

    Update NEWS for 1.25.91 release

M	NEWS

commit 90ca656ccd194a039060398d1e72cbac8c3f1ec7
Author: Balázs Úr <urbalazs@gmail.com>
Date:	2015-08-31

    Updated Hungarian translation

M	po/hu.po

commit fdba53046de6f90daf5fd2394b052dbc75cf6662
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-08-29

    mtp: Fix error handling from a807f12d5663

    After commit a807f12d5663 ("MTP: return ENOTEMPTY if trying to
    delete a
    non-empty directory"), G_IO_ERROR_NOT_EMPTY is returned if a generic
    error occurs when deleting. Fix it by calling fail_job() as the
    rest of
    the code does.

    https://bugzilla.gnome.org/show_bug.cgi?id=753590

M	daemon/gvfsbackendmtp.c

commit 45d047068d18cd01a517450476aa1f8fa0371b7c
Author: Yosef Or Boczko <yoseforb@src.gnome.org>
Date:	2015-08-30

    Updated Hebrew translation

M	po/he.po

commit ae1183fe3d37bf2d391c5c0b8e00d1b59a824b05
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-02-27

    afp: Change g_error to g_warning for read errors

    Use g_warning rather than g_error when a read error occurs to prevent
    spurious crash reports since there are many different ways for a read
    from the network to fail.

    [Cherry-picked from gnome-3-14/14369db2a8fc
     Commit message written by Ross Lagerwall.]

    https://bugzilla.gnome.org/show_bug.cgi?id=710490

M	daemon/gvfsafpconnection.c

commit 31ec6a7f0f6b61f558e079acbcc0b1f7e10d3168
Author: Tom Tryfonidis <tomtryf@gmail.com>
Date:	2015-08-28

    Updated Greek translation

M	po/el.po

commit 6b1682296ce9d26f623b6f1fa1f2eff1d73154d5
Author: Anders Jonsson <anders.jonsson@norsjovallen.se>
Date:	2015-08-27

    Updated Swedish translation

M	po/sv.po

commit 2a692988d20d25a1735926fa0e5f600d4653cbb8
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	2015-08-26

    Updated Polish translation

M	po/pl.po

commit 27c2373bfe27c21246ee0903ff3b596b212ff1f1
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:	2015-08-25

    Updated Chinese (Taiwan) translation

M	po/zh_TW.po

commit ce81f4086e25ad21320a2b984ab59a3c557b890c
Author: Fran Dieguez <fran@openhost.es>
Date:	2015-08-25

    Updated Galician translations

M	po/gl.po

commit 05f2f71a825495e13e3ef282098d8450a742bd57
Author: Debarshi Ray <debarshir@gnome.org>
Date:	2015-08-21

    dav: Mark files as untrashable

    Otherwise nautilus will offer the wrong action in its UI.

    https://bugzilla.gnome.org/show_bug.cgi?id=753934

M	daemon/gvfsbackenddav.c

commit 89587d5c43a64b430abf9e1d96a392187260ae7c
Author: Debarshi Ray <debarshir@gnome.org>
Date:	2015-08-19

    build: Sprinkle quotations

    According to:
    https://www.gnu.org/software/autoconf/manual/autoconf-2.69/html_node/Autoconf-Language.html

    https://bugzilla.gnome.org/show_bug.cgi?id=753838

M	configure.ac

commit c0f7cb035984b6e68956559a8a38835ae3780ab0
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-08-21

    Revert part of "Update NEWS for 1.25.90"

    This reverts part of commit 5e0a3c840f5447bb539c441ec1b12e3a73ce1ca9.
    Changes for gvfs-ls were amended by mistake.

M	programs/gvfs-ls.c

commit 918f11be3c7d6d2afb9679f1899b3308b16b1f0b
Author: Debarshi Ray <debarshir@gnome.org>
Date:	2015-08-19

    build: Remove unnecessary variable initializations

    Undefined variables are going to be treated as empty.

    https://bugzilla.gnome.org/show_bug.cgi?id=753838

M	configure.ac

commit 194fb12df8e6f057652ef6691add775f2348f595
Author: Dušan Kazik <prescott66@gmail.com>
Date:	2015-08-19

    Updated Slovak translation

M	po/sk.po

commit f00acfc8e44bd43d2cda91101779bc4043c9f163
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2015-08-18

    Updated Spanish translation

M	po/es.po

commit fccc50e325f1ac39bc60fc1e84d19a2c408abf8b
Author: Carlos Soriano <csoriano@gnome.org>
Date:	2015-08-18

    gdaemonfile: fix typo from last commit

    ugh sorry

M	client/gdaemonfile.c

commit 893ce0bbd6eb53e814d2c239c920cee2e63d5b5e
Author: Carlos Soriano <csoriano@gnome.org>
Date:	2015-08-17

    gdaemonfile: check for the correct cancellable

    We were checking for the newly created data cancellable,
    which is wrong. That was causing that mounting encloused
    volumes were not cancellable at all.

    Check for the actual GCancellable parameter to fix it.

    https://bugzilla.gnome.org/show_bug.cgi?id=753735

M	client/gdaemonfile.c

commit ec6317e000007759ef22e497ae55f50cf15de8ae
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-08-17

    Post release version bump

M	configure.ac

commit 5e0a3c840f5447bb539c441ec1b12e3a73ce1ca9
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-08-17

    Update NEWS for 1.25.90

M	NEWS
M	programs/gvfs-ls.c

commit 27809fc426d94189629b4eaae10f7080e5b6ea23
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-06-18

    completion: Use __ltrim_colon_completions

    Use macro __ltrim_colon_completions to remove colon prefix instead
    of custom code.

    https://bugzilla.gnome.org/show_bug.cgi?id=751145

M	programs/completion/gvfs-cat

commit e009e60a3fb2f8fb48d982fe66469c9f16678620
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-06-18

    completion: Fix completion for uris

    Bash completion currently doesn't work for paths with colons, because
    ${COMP_WORDS[COMP_CWORD]} provides path only after the colon.
    Colon is considered as a wordbreak. Therefor _get_comp_words_by_ref
    should be used to avoid breaking path on the colons.

    The macro also handles cases where user is completing in the middle
    of a word.

    https://bugzilla.gnome.org/show_bug.cgi?id=751145

M	programs/completion/gvfs-cat

commit dccd4f51c9af7151d0da47a3ef1fc1f8e472a28f
Author: Pedro Albuquerque <palbuquerque73@gmail.com>
Date:	2015-08-16

    Updated Portuguese translation

M	po/pt.po

commit a62b35ab00255f8d4c987d158513e0d570aa8d15
Author: Claude Paroz <claude@2xlibre.net>
Date:	2015-08-15

    Updated French translation

M	po/fr.po

commit e2b67216707f6b8d10a10502a03e6b27b119ba6f
Author: Andika Triwidada <andika@gmail.com>
Date:	2015-08-14

    Updated Indonesian translation

M	po/id.po

commit cd07ff485781dbe7923dc88cbb1de424e709a91d
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-07-08

    gvfs-ls: Always complete mounts

    Completions are not printed if path is without terminating slash and
    it is equal with mount, e.g.:
    gvfs-ls -c sftp://1.2.3.4

    However following should be offered for example:
    sftp://1.2.3.4/
    sftp://1.2.3.44/

    https://bugzilla.gnome.org/show_bug.cgi?id=751145

M	programs/gvfs-ls.c

commit 8adeb4a187406881de7850ea405dc352e590b255
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-06-18

    gvfs-ls: Complete mounts with terminating slash

    g_file_get_uri returns uris without terminating slash if there is
    a path
    element, e.g.:
    dav://server/
    dav://server/path

    We have to be sure that terminating slash is appended for mounts when
    listing possible completions, because mounts are always directories.

    https://bugzilla.gnome.org/show_bug.cgi?id=751145

M	programs/gvfs-ls.c

commit 372679bd9aaf427ad6054405f544e92c4a19a5e1
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-06-18

    gvfs-ls: Complete local uris as uris

    gvfs-ls suggests completions for file:// uris as absolute paths, but
    it should be also uris. E.g. gvfs-ls -c file:///
    /bin/
    /lib/
    ...

    It should be file:///bin/ etc. instead.

    https://bugzilla.gnome.org/show_bug.cgi?id=751145

M	programs/gvfs-ls.c

commit a807f12d5663ab7f2767bddf8f8ab20ae886297d
Author: Gabriel de Perthuis <g2p.code@gmail.com>
Date:	2015-08-13

    MTP: return ENOTEMPTY if trying to delete a non-empty directory

    rmdir acted as rm -rf before this change, which was unfortunate.

M	daemon/gvfsbackendmtp.c

commit b8e09920e3f95dd3764b159d0b07d7f6904fc9ea
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2015-08-11

    Updated Norwegian bokmål translation.

M	po/nb.po

commit 0da49dd9d18f8f930a20f89fdf46388dca21a0fa
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-07-19

    sftp: Improve error messages on connection setup

    Log all the messages from SSH's stderr.

    If the remote server does not have sftp setup correctly, it fails with
    "subsystem request failed". Report this as "Connection refused".

    If the error is unknown, report it as "Connection failed" rather than
    "SSH program unexpectedly exited" which shouldn't be exposed to users.

    https://bugzilla.gnome.org/show_bug.cgi?id=752403

M	daemon/gvfsbackendsftp.c

commit 3790e3bc20cc7880a494c2343fa3a6a489df7e1e
Author: Necdet Yücel <necdetyucel@gmail.com>
Date:	2015-08-09

    Updated Turkish translation

M	po/tr.po

commit 73b9b0dbfea4eed45e40d524a2705bedbe92b4ba
Author: Pedro Albuquerque <palbuquerque73@gmail.com>
Date:	2015-08-09

    Updated Portuguese translation

M	po/pt.po

commit 5d416cbbc7cf62767dab9750455391e145b545ab
Author: Aurimas Černius <aurisc4@gmail.com>
Date:	2015-08-06

    Updated Lithuanian translation

M	po/lt.po

commit f74ae0faf67b9338418fc7c3760ffac5e8df8d63
Author: Felix Möller <mail@felixmoeller.de>
Date:	2012-08-01

    Unify strings to ease translation

    https://bugzilla.gnome.org/show_bug.cgi?id=657906

M	daemon/gvfsafpconnection.c
M	daemon/gvfsbackendafc.c
M	daemon/gvfsbackendafpbrowse.c
M	daemon/gvfsbackendftp.c
M	daemon/gvfsbackendmtp.c
M	daemon/gvfsbackendsmbbrowse.c

commit c40c301e4a7f23dfe91289e90d9fa031f09bbcab
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-07-26

    Set filesystem::type for all backends

    This attribute was being set inconsistently, and is used by the file
    chooser.

    https://bugzilla.gnome.org/show_bug.cgi?id=752834

M	daemon/gvfsbackendafpbrowse.c
M	daemon/gvfsbackendarchive.c
M	daemon/gvfsbackendburn.c
M	daemon/gvfsbackendcomputer.c
M	daemon/gvfsbackenddav.c
M	daemon/gvfsbackenddnssd.c
M	daemon/gvfsbackendftp.c
M	daemon/gvfsbackendhttp.c
M	daemon/gvfsbackendlocaltest.c
M	daemon/gvfsbackendnetwork.c
M	daemon/gvfsbackendsmbbrowse.c

commit fc5f3be0a55f15d567e2e01f65585a3de5c40e74
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-07-24

    build: Make EXTRA_DIST independent of configure results

    Make EXTRA_DIST independent of configure results otherwise the
    output of
    "make dist" could be broken if the system on which "make dist" is run
    does not have all the libraries installed.

    https://bugzilla.gnome.org/show_bug.cgi?id=752838

M	daemon/Makefile.am

commit 22e00c940eee58d52f231d6431d81c7dd3d05b40
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-08-04

    daemon: Fix unused variable warning

    Unused variable 'no_fuse' warning is shown if fuse support is
    disabled.
    Declare the variable conditionally to avoid the warning.

M	daemon/main.c

commit fb60a7e9474c3be37c51452b26caf91c490a4d7e
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-07-14

    archive: Handle ARCHIVE_FAILED error

    Archive backend is stucked in endless loop currently e.g. if you
    try to
    mount encrypted zip file. It is caused because ARCHIVE_FAILED error is
    not handled, when reading data from the archive.

    ARCHIVE_FAILED is handled with this patch. Mount job doesn't fail,
    just
    because of unknown file size, but open_for_read job fails if
    ARCHIVE_FAILED is returned.

    https://bugzilla.gnome.org/show_bug.cgi?id=752366

M	daemon/gvfsbackendarchive.c

commit 52f2978c611691aa83ee8691e154fe581e1e414b
Author: Andika Triwidada <andika@gmail.com>
Date:	2015-08-03

    Updated Indonesian translation

M	po/id.po

commit 8ed18da5deb95f13d765cc5ecee8bdd1ebdb10ef
Author: Dušan Kazik <prescott66@gmail.com>
Date:	2015-07-28

    Updated Slovak translation

M	po/sk.po

commit 03c34bc31243b72ab650f5f71285f21887919174
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-07-24

    Post release version bump

M	configure.ac

commit 99aafd98befa4b19566a66f10c4d52e769abb526
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-07-24

    Update NEWS for 1.25.4.1 release

M	NEWS
M	configure.ac

commit d89a8483db35771a92804c6a4624c8cc791131ec
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2015-07-21

    proxy volume monitor: Plug a memory leak

    valgrind pointed out a leak here, and indeed, g_mount_get_root()
    is documented as transfer full, so we should unref the GFile
    when we are done with it.

    https://bugzilla.gnome.org/show_bug.cgi?id=752689

M	monitor/proxy/gproxyvolume.c

commit 5d61707a332e9fb9a71b9b7ceaa0376bf32a343d
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-07-20

    Post release version bump

M	configure.ac

commit a5ce68bb1b493361c2d2dc14faec242298f91b3b
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-07-20

    Update NEWS for 1.25.4 release

M	NEWS

commit 8408e068e2dd68e8d3c6cbdad33f5ea321951fe0
Author: Yosef Or Boczko <yoseforb@src.gnome.org>
Date:	2015-07-19

    Updated Hebrew translation

M	po/he.po

commit c014b64fa17f5b725f1f13d7952ec479e45e6031
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-06-18

    udisks2: Prevent race between unmount reply and retry timer

    Currently it is possible for the unmount op reply and the retry
    unmount
    timer to race. A udisks2 unmount operation (or umount spawned command)
    is started via the timer. In the meantime, a "cancel" or "force
    unmount"
    reply is received which completes the gvfs unmount operation and frees
    the private data. When the udisks2 unmount operation started by the
    timer completes, it tries to use the freed data and segfaults.

    To fix this, prevent starting an unmount operation when another is
    already in progress.  If a timer callback is received while an unmount
    operation is in progress, simply ignore it.  If an unmount op reply is
    received while an unmount operation is in progress, store the
    result of
    the reply and handle it once the unmount operation has completed.

    https://bugzilla.gnome.org/show_bug.cgi?id=678555

M	monitor/udisks2/gvfsudisks2mount.c

commit 63e3d144784eefe112de6b4e821664ebef94b0ab
Author: Christophe Fergeau <cfergeau@redhat.com>
Date:	2015-07-01

    afc: Cleanup force-unmount idle on finalize

    When GvfsBackendAfc is finalized, if we have a pending idle for
    a force
    unmount, we need to remove it as by the time it runs, the
    GvfsBackendAfc
    it's acting on will no longer be valid.

    This fixes https://bugzilla.gnome.org/show_bug.cgi?id=751537 which can
    be reproduced by plugging an iDevice, unmounting it in Nautilus, and
    quickly unplugging it right after clicking on the eject icon.

M	daemon/gvfsbackendafc.c

commit d856d49b370380d56c44b500fb392ff8f10dc229
Author: Pedro Albuquerque <palbuquerque73@gmail.com>
Date:	2015-07-01

    Updated Portuguese translation

M	po/pt.po

commit 5c2ac3f1ac452755df1c08480a0ee944138b42ec
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-06-22

    udisks2: Handle libsecret error properly

    secret_password_clear_finish() returns whether any passwords are
    removed, so it may return FALSE without setting error. Handle this
    properly (in this case all we care about is that there wasn't
    an error).

    https://bugzilla.gnome.org/show_bug.cgi?id=751038

M	monitor/udisks2/gvfsudisks2volume.c

commit acbe277ed3636668faaf343ba6353fb28dbc9ec0
Author: Jonas Kümmerlin <rgcjonas@gmail.com>
Date:	2015-06-23

    cdda: Fix CD-TEXT charset when building with libcdio >= 0.84

    libcdio 0.84 already returns UTF-8 data. Trying to interpret it
    as ISO-8859-1 won't lead to pretty results, so we better stop
    doing that.

    https://bugzilla.gnome.org/show_bug.cgi?id=751389

M	daemon/gvfsbackendcdda.c

commit 6972d79ff316ae87bf51c21ebf30f8001236a184
Author: Balázs Úr <urbalazs@gmail.com>
Date:	2015-06-23

    Updated Hungarian translation

M	po/hu.po

commit e9f065177c9dffeea543345899805ee6c8731991
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	2015-06-23

    Updated Polish translation

M	po/pl.po

commit 591744ffd421817730733af8efcca662a0857700
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-06-22

    Post release version bump

M	configure.ac

commit b66c1f3dddbdf1cfaa0136af208d7e06c303506f
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-06-22

    Update NEWS for 1.25.3 release

M	NEWS

commit 4b4045b01400cd06c39392e325d2680386bed527
Author: Dimitris Spingos <dmtrs32@gmail.com>
Date:	2015-06-22

    Updated Greek translation

M	po/el.po

commit 600558ec7927d75ea045f3093a7db0a4778c76fe
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-06-11

    build: Make GCR optional

    Make using GCR optional by compiling with --disable-gcr. This makes
    gvfs strict when checking SSL certificates, so don't silently
    disable it
    if the library is not found, only disable it if --disable-gcr
    is given.

    https://bugzilla.gnome.org/show_bug.cgi?id=750706

M	configure.ac
M	daemon/gvfsdaemonutils.c
M	daemon/gvfsdaemonutils.h

commit 7deded463b8cc148103c55460a84a6b23342c941
Author: Bastien Nocera <hadess@hadess.net>
Date:	2015-05-12

    common: Fix possible crash with blank disks

    Never call bd_open() with an empty path.

    https://bugzilla.gnome.org/show_bug.cgi?id=749093

M	common/gvfsmountinfo.c

commit 9de6328f97a75b3ac4431810b33605f75778f1f2
Author: Ray Strode <rstrode@redhat.com>
Date:	2015-05-20

    gvfs-open: add hack to close up dbus-daemon race

    If gvfs-open exits before the program it starts fully activates, then
    the dbus-daemon may avoid doing the activating method call.

    This commit works around the problem by pinging the activated
    application,
    and waiting for a reply.

    https://bugzilla.gnome.org/show_bug.cgi?id=746534

M	programs/gvfs-open.c

commit 55761f269eb43f289cd005ff54d8b808301762ad
Author: Alexander Larsson <alexl@redhat.com>
Date:	2015-06-08

    metatree: Don't g_warning if the running gvfs daemon is older

    This was breaking the build for me due to warnings-as-errors

M	metadata/metatree.c

commit 44100b4a828577786062c27d9bfb34d7a5844fff
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-06-04

    client: Suppress errors if daemon part is missing

    We want to split gvfs package on client and daemon part due to app
    sandboxing. Return FALSE from vfs_is_active if there aren't any
    supported uri schemes (i.e. deamon part is missing). It will cause
    things to work just like if the gvfs client part was never installed.

    Replace some warnings/errors by g_debug to suppress errors when
    registering gio modules and daemon part is missing.

    https://bugzilla.gnome.org/show_bug.cgi?id=750401

M	client/gdaemonvfs.c
M	common/gvfsmonitorimpl.c

commit 0f91898d0bc148ba0efa188d6798c3b5a780ab43
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-06-01

    monitor: Show notification always when device is unmounted

    Unmount progress is shown only when unmount takes more then 1.5
    seconds.
    However the progress should be shown everytime when unmount is
    finished
    for users to be sure it is safe to remove device.

    https://bugzilla.gnome.org/show_bug.cgi?id=750267

M	monitor/udisks2/gvfsudisks2utils.c

commit 5e0deba248c5b23243d65ceccc612a4a635c5e3e
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	2015-06-08

    gvfs-test: Call root shell with "privileged" option

    bash, dash etc. drop suid root privileges without -p.

M	test/gvfs-test

commit ffe8bdf494ff25d89c4f9fae539fd7edd02b5f9f
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-05-25

    sftp: Use the data connection when pulling data

    Use the newly-introduced data connection when pulling data from a sftp
    mount. This prevents blocking other operations behind a few MBs of
    in-flight data and improves interactivity.

    If the data connection is not usable, fall back to the default copy
    implementation.

    https://bugzilla.gnome.org/show_bug.cgi?id=747128

M	daemon/gvfsbackendsftp.c

commit 9cefe0419fa2d03326313a72700159bc9014116a
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-05-25

    sftp: Allow queuing and waiting for commands on different connections

    Update the infrastructure to allow submitting multiple commands to be
    sent on different connections and then waiting for the all to
    complete.

    https://bugzilla.gnome.org/show_bug.cgi?id=747128

M	daemon/gvfsbackendsftp.c

commit 44a2dfe5bfb2dfbe42387880008887b3a7a3fd64
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-03-31

    sftp: Use the data connection when pushing data

    Use the newly-introduced data connection when pushing data from a sftp
    mount. This prevents blocking other operations behind a few MBs of
    in-flight data and improves interactivity.

    If the data connection is not usable, fall back to the default copy
    implementation.

    https://bugzilla.gnome.org/show_bug.cgi?id=747128

M	daemon/gvfsbackendsftp.c

commit 542fed5a189b08416fc6255be13abb06dd248919
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-03-31

    sftp: Login to both connections when mounting

    Login to the command connection and the data connection when mounting.
    Any password entered during the first connection is reused for the
    second connection.

    Because the data connection is not essential, do not fail if the
    connection attempt fails, and introduce a function to determine if a
    connection is usable.

    https://bugzilla.gnome.org/show_bug.cgi?id=747128

M	daemon/gvfsbackendsftp.c

commit 48de715624f73d36748c7d8136a0ddcf2110b1b0
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-05-25

    sftp: Add a data connection

    Add a data connection in addition to the command connection currently
    used.

    https://bugzilla.gnome.org/show_bug.cgi?id=747128

M	daemon/gvfsbackendsftp.c

commit d1e64f442068364b9352e96f8b7cc1cd83c66311
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-02-08

    sftp: Add support for multiple connections

    Multiple connections are needed since 7890d2801a7f ("sftp: Implement
    push support") and ed826fdf386c ("sftp: Implement pull support"). This
    is because up to 2 MiB of data may be in flight, so any "command" sent
    (e.g. refreshing the view in Nautilus) gets queued up which makes the
    mount unusable on a slow connection when copying at the same time.

    This changes the code to support multiple connections but still uses
    a single connection.

    https://bugzilla.gnome.org/show_bug.cgi?id=747128

M	daemon/gvfsbackendsftp.c

commit 6809b68267233083fe8131664aaadede7e6d70d4
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2015-06-05

    Updated Spanish translation

M	po/es.po

commit b78cc85d2dda10e5488cf23cb63008ca339836dc
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-05-29

    metadata: Get tree from udev via dbus

    We don't want to have dependency on udev in client part of gvfs due
    to app sandboxing. Thus move the code into the metadata daemon and
    get tree name via dbus.

    Common code to get metadata proxy has to be moved in metatree code.

    Mentioned changes caused that unistd.h is also included in
    meta-get-tree.c and cause symbol redeclaration error. Variable
    "pause" has to be renamed to avoid this conflict.

M	client/gdaemonfile.c
M	client/gdaemonvfs.c
M	client/gdaemonvfs.h
M	metadata/Makefile.am
M	metadata/dbus-interface.xml
M	metadata/meta-daemon.c
M	metadata/meta-get-tree.c
M	metadata/metatree.c
M	metadata/metatree.h

commit 95bf3840548e9493d075fdd8b3bcec1fe569cc7a
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-05-27

    build: Remove libbluray dependency

    Commit 6cbe00d removed gvfsmountinfo.c from common shared library,
    however libbluray dependency wasn't removed. Remove the dependency
    by this patch.

M	common/Makefile.am

commit 1eb90d1934b7451d113b432ff3b029c7fa2e07ad
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2015-05-28

    Updated Spanish translation

M	po/es.po

commit fee67ba4e7c8edaccc5e858a53effe03d79cf461
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-05-24

    mtp: Copy mtime when pulling

    Copy the modification timestamp after copying a file from the device.
    Normally, this would be done in the copy fallback path, but if
    pull() is
    implemented, it must also copy metadata.

    https://bugzilla.gnome.org/show_bug.cgi?id=749788

M	daemon/gvfsbackendmtp.c

commit b7f417e5db9c3f0a0077145921b9de1e2244afa9
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-05-25

    Post release version bump

M	configure.ac

commit 77b15d93ac3d5b39ac6daef134fcb451e0b1d54c
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-05-25

    Update NEWS for 1.25.2 release

M	NEWS

commit dd650d4a82ee369df960bc8e40024e75cad0ba88
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-05-19

    gvfs-open: Do not alter uris before use

    Uri is altered before g_app_info_launch_default_for_uri, because of
    the following code (from the commit 95aac17):

    file = g_file_new_for_commandline_arg (location[i])
    uri = g_file_get_uri (file);

    Examples of uri changes:

    mailto:email -> mailto:///email
    ssh://user@host -> sftp://user@host/

    This patch cause that uri isn't preprocessed for locations with scheme
    (however absolute and relative paths are still preprocessed).

    https://bugzilla.gnome.org/show_bug.cgi?id=738690

M	programs/gvfs-open.c

commit 19b518ab00310ec101488e0b18dee4f1667848f3
Author: Dušan Kazik <prescott66@gmail.com>
Date:	2015-05-23

    Updated Slovak translation

M	po/sk.po

commit 39be8b277c666db21965d54d5b72418ce57a450b
Author: Michael Biebl <biebl@debian.org>
Date:	2015-05-19

    Add support for libsystemd

    In systemd v209 the various libsystemd-* libraries were merged into a
    single libsystemd library. So first check for this library and
    fall back
    to libsystemd-login if not found.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=749603
    Bug-Debian: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=779766

M	configure.ac

commit ae4f39794dce0b9fb795cf1810bfa2f03dcb6f3d
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	2015-05-22

    gvfs-test: Update gphoto umockdev ioctl for libgphoto 2.5.7.

M	test/files/powershot.ioctl

commit 91c69a84826ede6dd7c4715a2996ffa9f087f824
Author: Cédric Valmary <cvalmary@yahoo.fr>
Date:	2015-05-21

    Added Occitan translation

M	po/LINGUAS
A	po/oc.po

commit 7056e01cceea3e6a8970c1fc4637ad959e7cd3de
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-05-16

    client: Always set path[12]_out in create_proxy_for_file2

    d59e6873086f ("Fix 'path[12]_out' leak in file_transfer()")
    assumed that
    path[12]_out were always set by create_proxy_for_file2 but this is not
    always the case. Fix it so that create_proxy_for_file2 always sets
    path[12]_out.

    To reproduce the bug:
    $ gvfs-copy --progress smb://host/unmounted/a smb://host/unmounted/b
    Segmentation fault (core dumped)

    https://bugzilla.gnome.org/show_bug.cgi?id=749462

M	client/gdaemonfile.c

commit e7e6e1cde38f935e04e3e9d651eacf57557ff0c5
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-05-17

    mtp: Refresh storage information in query_info

    Get the storage information from the device in query_info() and
    query_fs_info() so that the disk space numbers are
    correct. Previously,
    if you deleted an item and checked the free space, it would not have
    changed.

    https://bugzilla.gnome.org/show_bug.cgi?id=749491

M	daemon/gvfsbackendmtp.c

commit 5b053ef5a7d6b8391e30e1f915700b7d56bf5967
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-05-14

    dav: Emit progress callbacks when copying and moving

    For progress in applications like Nautilus to be shown correctly, they
    need at least one progress callback to be emitted at the end. This is
    supposed to be guaranteed according to the GIO documentation. With
    server-side copy and move using webdav, emit a single progress
    callback
    at the end with the source file size.

    https://bugzilla.gnome.org/show_bug.cgi?id=749354

M	daemon/gvfsbackenddav.c

commit 870ebe570fa91d21e830a7c00e8f02cfa110937d
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2015-05-14

    Updated Norwegian bokmål translation.

M	po/nb.po

commit 254151072b40ecb83eb8034dac12b5fe5b8896ab
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-04-29

    tests: confirm unknown certificates for webdav

    Commit f5ee590 introduces TLS certificate verifying for webdav. Uknown
    certificates has to be confirmed by user during mount currenlty, thus
    test cases for webdav over https have to also confirm the
    certificates.

    https://bugzilla.gnome.org/show_bug.cgi?id=708306

M	test/gvfs-test

commit fc1d50da79d1aea0bf73d53a97c6916f9b9639c2
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-04-29

    Post release version bump

M	configure.ac

commit 8dc5e7256f5c7588ad9e59903598abdd03a57939
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-04-29

    Update NEWS for 1.25.1 release

M	NEWS

commit 463e5b10539bc985efc30ea7da0bf045654ef75b
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-04-17

    monitor: Rename deprecated g_unix_mount_monitor_new

    g_unix_mount_monitor_new is deprecated now. It was renamed to
    g_unix_mount_monitor_get, because it is singleton. See Bug 742599.

    https://bugzilla.gnome.org/show_bug.cgi?id=712382

M	daemon/trashlib/trashwatcher.c
M	monitor/gdu/ggduvolumemonitor.c
M	monitor/hal/ghalvolumemonitor.c
M	monitor/udisks2/gvfsudisks2volumemonitor.c

commit 322cc1a665f9bcda1a0fcdb306829816a4413c54
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-02-19

    metadata: remove unused dbus unset api

    Metadata are unset from client side using dbus set api, therefore dbus
    unset api and corresponding code isn't necessary. There is only one
    usage of unset api in private meta-set utility, which is replaced by
    this patch.

M	client/gdaemonvfs.c
M	metadata/dbus-interface.xml
M	metadata/meta-daemon.c
M	metadata/meta-set.c

commit e57a5459c39301da46555f0de901d959f8c4e0eb
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-02-19

    metadata: remove unused dbus get api

    Metadata are read from client side directly using
    meta_tree_enumerate_keys,
    therefore dbus api and corresponding code isn't necessary.

M	metadata/dbus-interface.xml
M	metadata/meta-daemon.c

commit f32b1a67eb08a02749604ecdb98bef8e7143a023
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-03-17

    ftp: Update license of ParseFTPList.h

    This is follow-up of commit 6a260ff, which updated license for
    ParseFTPList.c, but ParseFTPList.h should be updated also.

    Synced from upstream commit:
    http://hg.mozilla.org/mozilla-central/rev/f4157e8c4107
    https://bugzilla.mozilla.org/show_bug.cgi?id=716478

    https://bugzilla.gnome.org/show_bug.cgi?id=601583

M	daemon/ParseFTPList.h

commit faa2b07ab0436ad66823eea0cf1720cc41dbc6e8
Author: Christophe Fergeau <cfergeau@redhat.com>
Date:	2015-03-29

    Don't return NULL from g_daemon_file_query_writable_namespaces()

    Since commit b358ca "Make sure metadata is always returned by
    query_writable_namespaces()", query_writable_namespaces() is
    expected to
    return non-NULL values. There is one error case where it's not
    currently
    doing that.

    https://bugzilla.gnome.org/show_bug.cgi?id=747362

M	client/gdaemonfile.c

commit 090543fa9a89b7d2361e0c188508685351f2c62c
Author: Christophe Fergeau <cfergeau@redhat.com>
Date:	2015-03-29

    Rework code flow in g_daemon_file_query_writable_namespaces()

    This makes the common (non-error) case more linear, and thus a
    bit more
    readable. This is in preparation for the next commits.

    https://bugzilla.gnome.org/show_bug.cgi?id=747362

M	client/gdaemonfile.c

commit ee43020b58cd0fd02a2b53b88e8c878f4230d47e
Author: Christophe Fergeau <cfergeau@redhat.com>
Date:	2015-03-29

    Return proper type from g_daemon_file_monitor_{dir,file}

    These functions return pointers, so it's better to return NULL rather
    than FALSE.

    https://bugzilla.gnome.org/show_bug.cgi?id=747360

M	client/gdaemonfile.c

commit d59e6873086ff95deb0953c5558632a19659f79a
Author: Christophe Fergeau <cfergeau@redhat.com>
Date:	2015-03-29

    Fix 'path[12]_out' leak in file_transfer()

    file_transfer() calls create_proxy_for_file2() passing it 'path1_out'
    and 'path2_out' arguments. These return values are newly allocated
    strings, so they must be freed when no longer used. This fixes a leak
    reported by valgrind.

    https://bugzilla.gnome.org/show_bug.cgi?id=747361

M	client/gdaemonfile.c

commit 4912a67d372e47e86f07e1ad5ca9a2881ad28157
Author: Christophe Fergeau <cfergeau@redhat.com>
Date:	2015-03-29

    Always set 'path2_out' value in create_proxy_for_file2

    create_proxy_for_file2() will only set the *path2_out return value
    if a
    mount info was found for the 'file2' argument. However, as this return
    value must be freed, it's much better to set 'path2_out' to NULL
    rather
    than leave it unset. This way the caller can call g_free() on the
    returned value without having to set 'path2_out' to NULL before
    calling
    create_proxy_for_file2.

    https://bugzilla.gnome.org/show_bug.cgi?id=747361

M	client/gdaemonfile.c

commit f5ee590e2e14d9419fb7c30d05d9be7d0aee3532
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-02-28

    dav: Verify TLS certificates

    When mounting a secure webdav share, verify the certificate using the
    system certificate store, or if that is not possible, ask the user
    whether it is OK.

    ssl-strict is enabled for the SoupSession.	If the first connection
    attempt fails, the certificate is presented to the user.  If they
    agree
    to the certificate, then it is stored and compared with the
    certificate
    presented on each subsequent connection.  It is an error if the
    certificate changes.

    https://bugzilla.gnome.org/show_bug.cgi?id=708306

M	daemon/gvfsbackenddav.c

commit 5aec716b47850ba42cc07ac0170a5f8942a41d6c
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-04-09

    daemon: Make certificate choices translatable

    https://bugzilla.gnome.org/show_bug.cgi?id=526582

M	daemon/gvfsdaemonutils.c

commit 4667adac97ff1617373c3d3d7f56ba9f94bda877
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-02-26

    ftp: Use TCP_NODELAY

    When ftp is layered on top of TLS, it does a write-write-read which
    causes a large amount of latency due to the combination of Nagle's
    algorithm and delayed ACKs. Use TCP_NODELAY to disable Nagle's
    algorithm
    and prevent this.

    The flag is used for both secure and normal connections.  This should
    not cause any issues.

    https://bugzilla.gnome.org/show_bug.cgi?id=526582

M	daemon/gvfsftpconnection.c

commit dccf4aeea3f94251062836f2c6f5f37219c64054
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-02-26

    ftp: Implement TLS support

    Implement TLS support (aka explicit ftps).	This is done by using a
    different URL scheme, ftps, so that it is only used if explicitly
    specified.

    Although the protocol allows transparently upgrading a normal
    connection to a secure one, there are several problems with this.
    FEAT is needed to determine support for it but some servers do
    not allow
    this before login.	Some servers are configured to allow AUTH TLS but
    have firewalls that block data connections because they can't inspect
    the traffic.  Servers may disallow TLS on the data connection,
    making it
    unclear to the user how secure the connection is.  Finally, there
    may be
    verification errors which need to be presented to the user, and these
    are unexpected because they did not choose to use ftps.

    Making secure ftp opt-in as a separate URL scheme side-steps most of
    these issues as well as ensuring there are no regressions for normal
    ftp.  When using ftps, we assume that the server implements AUTH
    TLS so
    the connection is secured before login. It is also assumed that
    TLS for
    data connections is allowed, so both control and data connection are
    secure before any information is transferred.
    Verification errors are presented during mounting.	If the identity
    changes on subsequent reconnections, the connection is aborted.
    While presenting verification errors to the user in this way is
    perhaps
    not the best way of handling security, it is fairly standard.

    The implementation has been successfully tested on vsftpd, ProFTPD,
    Pure-FTPd, IIS, and FileZilla Server.

    Based on a patch by Benjamin Otte.

    https://bugzilla.gnome.org/show_bug.cgi?id=526582

M	configure.ac
M	daemon/Makefile.am
A	daemon/ftps.mount.in
M	daemon/gvfsbackendftp.c
M	daemon/gvfsbackendftp.h
M	daemon/gvfsftpconnection.c
M	daemon/gvfsftpconnection.h
M	daemon/gvfsftptask.c
M	daemon/gvfsftptask.h

commit 7cf5d5ff55fcbdebe0fb7b60e52ecb0c95ca63ee
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-02-24

    daemon: Add function to confirm certificate

    Add a utility function to present a certificate to the user during a
    mount to confirm whether to continue or not.

    This adds a dependency on Gcr, to parse information from the
    certificate.

    Based on a patch by Ondrej Holy.

    https://bugzilla.gnome.org/show_bug.cgi?id=526582

M	configure.ac
M	daemon/Makefile.am
M	daemon/gvfsdaemonutils.c
M	daemon/gvfsdaemonutils.h

commit ab4e591a40bbcd2d0e3b11e966fad42eaf259c28
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-03-14

    sftp: Ignore leading whitespace during login

    If logging in without an agent, g_str_has_prefix (buffer, "Enter
    passphrase for key") fails the second time around (e.g. if the first
    entry was incorrect) because the buffer contains a leading newline: "
    Enter passphrase for key '/home/user/.ssh/id_rsa': "
    This makes the login process timeout.

    To fix this, trim leading whitespace.

    https://bugzilla.gnome.org/show_bug.cgi?id=545445

M	daemon/gvfsbackendsftp.c

commit 3efa295cd61b6390acc87c4604e4b7f3902dbae7
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-03-13

    sftp: Be more robust when parsing login messages

    Handle the case when the fingerprint could not be parsed from SSH's
    output.

    https://bugzilla.gnome.org/show_bug.cgi?id=545445

M	daemon/gvfsbackendsftp.c

commit 336fe869f06c8e792aa20170e6278b57c1c38c05
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-03-13

    sftp: Handle host key / IP mismatch

    Handle the following SSH login question by asking the user whether to
    continue or not:

    Warning: the ECDSA/RSA host key for 'hostname' differs from the key
    for the IP address '...'
    Offending key for IP in /home/username/.ssh/known_hosts:???
    Matching host key in /home/username/.ssh/known_hosts:???
    Are you sure you want to continue connecting (yes/no)? yes

    Based on a patch by Carlos Garcia Campos.

    https://bugzilla.gnome.org/show_bug.cgi?id=545445

M	daemon/gvfsbackendsftp.c

commit 4ef4dd954a87be11499ea855f846e0f1dbfa9c7b
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-04-06

    Post branch version bump

M	configure.ac

commit 90e68f9050672f6577757317d560caf0d5510ea3
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-04-05

    programs: Fix a couple of warnings

    gvfs-monitor-file.c: In function ‘file_monitor_callback’:
    gvfs-monitor-file.c:63:3: warning: enumeration value
    ‘G_FILE_MONITOR_EVENT_RENAMED’ not handled in switch [-Wswitch]
       switch (eflags)
       ^
    gvfs-monitor-file.c:63:3: warning: enumeration value
    ‘G_FILE_MONITOR_EVENT_MOVED_IN’ not handled in switch [-Wswitch]
    gvfs-monitor-file.c:63:3: warning: enumeration value
    ‘G_FILE_MONITOR_EVENT_MOVED_OUT’ not handled in switch [-Wswitch]
    gvfs-monitor-dir.c: In function ‘dir_monitor_callback’:
    gvfs-monitor-dir.c:65:3: warning: enumeration value
    ‘G_FILE_MONITOR_EVENT_RENAMED’ not handled in switch [-Wswitch]
       switch (eflags)
       ^
    gvfs-monitor-dir.c:65:3: warning: enumeration value
    ‘G_FILE_MONITOR_EVENT_MOVED_IN’ not handled in switch [-Wswitch]
    gvfs-monitor-dir.c:65:3: warning: enumeration value
    ‘G_FILE_MONITOR_EVENT_MOVED_OUT’ not handled in switch [-Wswitch]

M	programs/gvfs-monitor-dir.c
M	programs/gvfs-monitor-file.c

commit 362d4e53b638a15dcd048d531a5efe5e427e7378
Author: Rūdolfs Mazurs <rudolfsm@src.gnome.org>
Date:	2015-04-03

    Updated Latvian translation

M	po/lv.po

commit 06677b95fddcd7973d296ff596031d7b9d890762
Author: David Liang <liangchenye@gmail.com>
Date:	2015-04-02

    hal: Fix a memory leak in hal-volume-monitor.

    https://bugzilla.gnome.org/show_bug.cgi?id=747221

M	monitor/hal/ghalvolumemonitor.c

commit 32377d138d4d28f5da5ed0935d4b90fa2647c1ec
Author: Ting-Wei Lan <lantw@src.gnome.org>
Date:	2015-02-05

    Fix build error when using HAL backend

    gvfsdbusutils.[ch] are renamed to gvfshalutils.[ch] to prevent
    confusion.

    https://bugzilla.gnome.org/show_bug.cgi?id=722411

M	common/Makefile.am
R099	monitor/hal/gvfsdbusutils.c	common/gvfshalutils.c
R100	monitor/hal/gvfsdbusutils.h	common/gvfshalutils.h
M	daemon/Makefile.am
M	monitor/gphoto2/Makefile.am
M	monitor/gphoto2/hal-pool.c
M	monitor/hal/Makefile.am
M	monitor/hal/hal-pool.c

commit 05e83e5325e64327c514ced2b5995828eadb1cf3
Author: Stas Solovey <whats_up@tut.by>
Date:	2015-03-30

    Updated Russian translation

M	po/ru.po

commit 17c06773d6031ca17db874efe5e5bebfcfde94fa
Author: Petr Kovar <pkovar@redhat.com>
Date:	2015-03-25

    Update Czech translation

M	po/cs.po

commit 3adb95196a1ec473a597bb65a02f814135da36fe
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-03-23

    Post release version bump

M	configure.ac

commit d4bdfb77e76eb50767eb34371e678dcbeb04357c
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-03-23

    Update NEWS for 1.24.0 release

M	NEWS

commit 0363876b3d69564641dbf2c521808f601012909c
Author: Ask H. Larsen <asklarsen@gmail.com>
Date:	2015-03-21

    Updated Danish translation

M	po/da.po

commit e3adcf2a5d42a24599af710a5f964f3ca6691757
Author: Inaki Larranaga Murgoitio <dooteo@zundan.com>
Date:	2015-03-21

    Updated Basque language

M	po/eu.po

commit bfe2251b68d5a1a709085a52f41746cdbb2df024
Author: Enrico Nicoletto <liverig@gmail.com>
Date:	2015-03-21

    Updated Brazilian Portuguese translation

M	po/pt_BR.po

commit 6fb6c9c39ea328e738acc501068ef6b39660b8fd
Author: Andika Triwidada <andika@gmail.com>
Date:	2015-03-21

    Updated Indonesian translation

M	po/id.po

commit e5e826b85141e03e83f56708c5b24d81a7f82f2c
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2015-03-19

    Updated Norwegian bokmål translation.

M	po/nb.po

commit 9caf2227a2d710aad3ac7ffb6307bc4ca543c06e
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-03-19

    proxy volume monitor: Drop init warning

    This caused make to fail e.g. in libgweather:

    (g-ir-compiler:11785): GVFS-RemoteVolumeMonitor-WARNING **: Error:
    The connection is closed
    kernel: traps: g-ir-compiler[4216] trap int3 ip:7f76f9fa2663
    sp:7fff1e6a2d90 error:0
    With gvfs-1.22.3 no error's

    https://bugzilla.gnome.org/show_bug.cgi?id=746398

M	monitor/proxy/gproxyvolumemonitor.c

commit e104ee2f5109405f8eca1005cc3e4e666a29f50b
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:	2015-03-18

    Updated Chinese (Taiwan) translation

M	po/zh_TW.po

commit 6917fa915ac41c1a06682c332a3d2377ae949c32
Author: Fran Dieguez <fran.dieguez@mabishu.com>
Date:	2015-03-18

    Updated Galician translations

M	po/gl.po

commit 5a17ff7c58eaca23ace84d9aad0bcf094a3d93bd
Author: Yosef Or Boczko <yoseforb@src.gnome.org>
Date:	2015-03-17

    Updated Hebrew translation

M	po/he.po

commit 22350a3a94c6442fd0e6103396cc57e6ec1060f5
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2015-03-16

    Updated Spanish translation

M	po/es.po

commit 1711336d0a2e4f68172d9265d097d00e50b5692a
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-03-16

    Post release version bump

M	configure.ac

commit e5c394af1f7cd14b89e2e50c69eaa74c21a0da0e
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-03-16

    Update NEWS and version for 1.23.92 release

M	NEWS
M	configure.ac

commit 62c4c2af399dba0566ae69353f127472fa3e3364
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-03-16

    completion: Fix parallel installation

    Use install-data-hook rather than install-data-local as
    install-data-hook runs after the other install rules have run.
    This is
    important for a parallel install so that the destination directory
    already exists when the symlinks are created.

M	programs/completion/Makefile.am

commit 2f119019a01cc9543def7a7e03f93e7a7cf6ca09
Author: Alexandre Franke <alexandre.franke@gmail.com>
Date:	2015-03-15

    Updated French translation

M	po/fr.po

commit 5326de143e5376beb20e1d205a49ab31fe15840f
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	2015-03-15

    Updated Slovenian translation

M	po/sl.po

commit 36940ca2c37467eb063ad77b953a8441129d295f
Author: Josef Andersson <josef.andersson@gmail.com>
Date:	2015-03-15

    Updated Swedish translation

M	po/sv.po

commit a09ffe21ba89f8016e3c31e7a98b141e0af31f63
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	2015-03-15

    Updated Slovenian translation

M	po/sl.po

commit f3e0aa02ba81fcc22ebbba5bf1e6abd514a42abf
Author: Balázs Úr <urbalazs@gmail.com>
Date:	2015-03-14

    Updated Hungarian translation

M	po/hu.po

commit 0bb82422138f717cc93a7ae7519bde55e9e392ec
Author: Aurimas Černius <aurisc4@gmail.com>
Date:	2015-03-14

    Updated Lithuanian translation

M	po/lt.po

commit a4c4ae6006cecc2bfe1519a669d4e15ff856e82f
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-03-08

    dnssd: Run GSimpleAsyncResult completion in idle

    g_simple_async_result_complete should only be used from the thread on
    which the callback should be invoked.  Also, the gvfs job threads
    do not
    have their own GMainContexts which causes an assertion failure
    [1] when
    invoking g_simple_async_result_complete.  Instead, use
    g_simple_async_result_complete_in_idle().

    [1] (process:11772): GLib-CRITICAL **:
    g_main_context_push_thread_default: assertion 'acquired_context'
    failed

    https://bugzilla.gnome.org/show_bug.cgi?id=629345

M	common/gvfsdnssdresolver.c

commit b534d043a71e33d109ef867863b78b5036a0ba8c
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-03-08

    dnssd: Remove recursive main loop

    Don't run a recursive main loop on a separate thread with a shared
    GMainContext.

    https://bugzilla.gnome.org/show_bug.cgi?id=629345

M	common/gvfsdnssdresolver.c

commit 3384af829c31b36e8b5ead87427ef6a61b89f11d
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-03-08

    dnssd: Prevent crash when resolving service

    AvahiClient appears to require that avahi_service_resolver_new is
    invoked from the same thread to which its poll function is bound
    otherwise it can crash with a callback running while
    avahi_service_resolver_new is still busy.

    To fix this, always run avahi_service_resolver_new from the main loop.
    To simplify the code, any errors from the function are ignored
    for now.

    This crash could be reproduced 100% of the time by trying to mount
    dav+sd (via gnome-user-share) in a single-CPU VM.

    https://bugzilla.gnome.org/show_bug.cgi?id=629345

M	common/gvfsdnssdresolver.c

commit 9529a224a19d75897b3eef3a238e4ddf89045258
Author: A S Alam <aalam@users.sf.net>
Date:	2015-03-13

    Translation pa updated for Gnome

M	po/pa.po

commit 63a5dc682580af66ceeb1dc8678e2be340bc99bd
Author: Changwoo Ryu <cwryu@debian.org>
Date:	2015-03-14

    Updated Korean translation

M	po/ko.po

commit 35431754a10736529e1cd523aa1a5205fb5234d3
Author: Samir Ribic <samir.ribic@etf.unsa.ba>
Date:	2015-03-13

    Added Bosnian translation

M	po/LINGUAS
A	po/bs.po

commit 5fb35af6c19981f5df5b51baea4ce1667bd32501
Author: Мирослав Николић <miroslavnikolic@rocketmail.com>
Date:	2015-03-13

    Updated Serbian translation

M	po/sr.po
M	po/sr@latin.po

commit f99b6b7dd9d60966637b598dbd70ef0d9192d97d
Author: Milo Casagrande <milo@ubuntu.com>
Date:	2015-03-13

    Updated Italian translation

M	po/it.po

commit 4a2708b5cede1a5a56f294e2c11fb7fc7bad2129
Author: Tom Tryfonidis <tomtryf@gmail.com>
Date:	2015-03-12

    Updated Greek translation

M	po/el.po

commit 6a3329332b2099dcd6e42d3f5a8e59020d976f5d
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	2015-03-12

    Updated Polish translation

M	po/pl.po

commit aa57c72d16769eda1919372e53554fd08c9d189c
Author: Marek Černocký <marek@manet.cz>
Date:	2015-03-12

    Updated Czech translation

M	po/cs.po

commit 24717de9a75bb9214d3b3efe3c3aaeddce3025a3
Author: Dušan Kazik <prescott66@gmail.com>
Date:	2015-03-12

    Updated Slovak translation

M	po/sk.po

commit 38dc516de30252859b737b657e05169c8e9c2ccc
Author: Trần Ngọc Quân <vnwildman@gmail.com>
Date:	2015-03-12

    Updated Vietnamese translation

    Signed-off-by: Trần Ngọc Quân <vnwildman@gmail.com>

M	po/vi.po

commit d603ba4983d249349e7384f31fd2ed921e65e869
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-03-01

    ftp: Prevent segfault when unmounting

    If a job is waiting for a connection in
    g_vfs_ftp_task_acquire_connection and the backend is force unmounted,
    the queue is freed, and the function neither gets a connection nor
    sets an error message which causes an issue later.

    To fix this, set an error message if the queue is freed.

    https://bugzilla.gnome.org/show_bug.cgi?id=653042

M	daemon/gvfsftptask.c

commit c0bd3138a60b2a389ac99540ac3bfecb700ef0ff
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-03-08

    common: Increase mount timeout to 30 minutes

    Although it is probably unnecessary, wait up to 30 minutes for a mount
    to complete.  This allows plenty of time to wait for a password
    dialog.
    It also makes it more consistent with many of the other operations
    which
    use a timeout of 30 minutes.

    https://bugzilla.gnome.org/show_bug.cgi?id=594500

M	client/gdaemonmount.c
M	common/gmountsource.c
M	common/gvfsdaemonprotocol.h

commit f7f18bb6e7576672c2240c8ead8dfa4a2668d478
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-03-10

    metadata: don't crash if tree write out failed

    meta_tree_init can fail after we failed to write out an updated tree.
    Backup corrupted file and start with empty tree to avoid consequent
    crashes.

    https://bugzilla.gnome.org/show_bug.cgi?id=598561

M	metadata/metatree.c

commit a4f0bf37825378af9042eb6d95aa0d3d2b9df8d4
Author: Bastien Nocera <hadess@hadess.net>
Date:	2013-09-18

    gphoto2: Exit cleanly when device is removed

    As the other backends do, and removes 2 FIXMEs.

    https://bugzilla.gnome.org/show_bug.cgi?id=708316

M	daemon/gvfsbackendgphoto2.c

commit 32adf492a9a2ab5cef953cf2dfd9f00c25c785e7
Author: Christophe Fergeau <cfergeau@redhat.com>
Date:	2015-03-09

    afc: Fix force unmount of devices

    When unplugging an afc device without unmounting it first, the
    corresponding gvfsd-afc process does not go away in spite of the
    exit(1) workaround added for bgo#708288.

    This happens because idevice_event_unsubscribe() in called from the
    thread where the _idevice_event_cb() runs in. libimobiledevice
    (through
    libusbmuxd) creates a thread to watch for device events, and calls the
    idevice_event_cb_t from that thread. idevice_event_unsubscribe() then
    forcfully kills that thread (see usbmuxd_unsubscribe() in libusbmuxd),
    so exit(1) code after the call to idevice_event_unsubscribe()
    never gets
    a chance to run.

    Moving the call to idevice_event_unsubscribe() and the
    g_vfs_backend_force_unmount() call to run in the main loop through
    g_idle_add() avoids this issue, and allows the code handling force
    unmounts to run as expected.

    Fixes: https://bugzilla.gnome.org/show_bug.cgi?id=708288

M	daemon/gvfsbackendafc.c

commit e0b3c9e2945a581c6020263bd32a2d80f0f5a269
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-03-06

    man: add missing deamons

    https://bugzilla.gnome.org/show_bug.cgi?id=745731

M	man/gvfs.xml

commit 26c3dc3986760483625262a4a3564f1696f829b3
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-03-09

    metatree: always clear fd to -1

    meta_tree_clear clears fd to 0 currently, however it should be set
    to -1
    to avoid risk that fd 0 is closed, when meta_tree_clear is called
    twice.

    https://bugzilla.gnome.org/show_bug.cgi?id=598561

M	metadata/metatree.c

commit e8180f4a675e6166261edbd847c08bf725d42047
Author: Milo Casagrande <milo@ubuntu.com>
Date:	2015-03-08

    Updated Italian translation

M	po/it.po

commit fafdb7d1fa61c991ad8f640f2458bcd67f65aa4b
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-03-08

    nfs: Handle NULL hostname

    Return an error if the hostname is NULL rather than crashing.

M	daemon/gvfsbackendnfs.c

commit c2546d4732c97c46d4c1a826b1b2c84855587ea4
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-02-28

    ftp: Fix dir listing for windows long dates

    Fix from upstream:
    http://hg.mozilla.org/mozilla-central/rev/e10a2ca070e6
    https://bugzilla.mozilla.org/show_bug.cgi?id=1061898

    https://bugzilla.gnome.org/show_bug.cgi?id=601583

M	daemon/ParseFTPList.c

commit 57caa7fad4bc4532366f557b5eda95357a23b101
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-02-28

    ftp: Fix FTP date parsing of midnight for DOS format

    Fix from upstream:
    http://hg.mozilla.org/mozilla-central/rev/2c21b94a7775
    https://bugzilla.mozilla.org/show_bug.cgi?id=961346

    https://bugzilla.gnome.org/show_bug.cgi?id=601583

M	daemon/ParseFTPList.c

commit 6a260ff696a54c1604fb3a53eac002b0c6d76ba4
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-02-28

    ftp: Update license of ParseFTPList

    Synced from upstream commit:
    http://hg.mozilla.org/mozilla-central/rev/f4157e8c4107
    https://bugzilla.mozilla.org/show_bug.cgi?id=716478

    https://bugzilla.gnome.org/show_bug.cgi?id=601583

M	daemon/ParseFTPList.c

commit 93fbba7d28c98101498975c53ba57e2527037710
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-02-28

    ftp: Fix directory parsing error on AIX.

    Fix from upstream:
    http://hg.mozilla.org/mozilla-central/rev/b623418ab1de
    https://bugzilla.mozilla.org/show_bug.cgi?id=543805

    https://bugzilla.gnome.org/show_bug.cgi?id=601583

M	daemon/ParseFTPList.c

commit 3b568ef0ab8d6119b3a28d0632c7967286c97f04
Author: Changwoo Ryu <cwryu@debian.org>
Date:	2015-03-08

    Updated Korean translation

M	po/ko.po

commit 106655246a4e08b0a09cafedc7e43e61235cd20d
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	2015-03-05

    Updated Polish translation

M	po/pl.po

commit 606ef241fb8677528bd5d5526854658f0f298a2c
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-03-04

    Remove obsolte obexftp code

M	INSTALL
M	client/test-uri-utils.c
M	configure.ac
M	daemon/.gitignore
M	daemon/Makefile.am
D	daemon/gvfsbackendobexftp-cap-parser.c
D	daemon/gvfsbackendobexftp-cap-parser.h
D	daemon/gvfsbackendobexftp-fl-parser.c
D	daemon/gvfsbackendobexftp-fl-parser.h
D	daemon/gvfsbackendobexftp.c
D	daemon/gvfsbackendobexftp.h
D	daemon/obexftp-marshal.list
D	daemon/obexftp.mount.in
M	man/gvfs.xml
M	po/POTFILES.in

commit 56326e463a56afa0e632baad4c94faa7aa154486
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-02-20

    metadata: return if meta_tree_refresh failed

    G_UNLOCK is called twice if meta_tree_refresh fails and also
    concurrent
    access is possible on cached_trees. However this isn't problem
    currently,
    because meta_tree_lookup_by_name is always called with for_write=FALSE
    (except for meta-set testing utility), so this if statement is
    never issued.

    https://bugzilla.gnome.org/show_bug.cgi?id=598561

M	metadata/metatree.c

commit 8fdf64272ec47315cdd3e12d1aa628ad3bb837bc
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-02-27

    afp: exit silently if connection closed

    Commit c15ec62 introduced exit for G_IO_ERROR_CLOSED, however we
    should check also for G_IO_ERROR_CONNECTION_CLOSED.

    Bump GLib dependency to 2.43.2, where the error was introduced.

    https://bugzilla.gnome.org/show_bug.cgi?id=710490

M	configure.ac
M	daemon/gvfsafpconnection.c

commit bccf6a229448ed944963095b673adc5f13649b12
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-01-15

    dav: do not set "application/octet-stream" mime type

    Mime type octet-stream is set when writing since commit 635c3b5,
    because soup_message_set_request requires to be called with mime type
    and we don't know it. Unfortunatelly some servers returns this mime
    type for written files instead of real mime type. Use
    soup_message_body_append instead without mimetype to fix this issue.

    https://bugzilla.gnome.org/show_bug.cgi?id=687757

M	daemon/gvfsbackenddav.c

commit 2654c6cd539eee0820617ad5923cd607d93834db
Author: Anders Jonsson <anders.jonsson@norsjovallen.se>
Date:	2015-03-01

    Updated Swedish translation

M	po/sv.po

commit 13606a93ac212d0fb5033fae197c555f921a5ae2
Author: Aurimas Černius <aurisc4@gmail.com>
Date:	2015-02-28

    Updated Lithuanian translation

M	po/lt.po

commit a8be6f8a9e09050cb7a4d95735f31b67f9fd0e78
Author: Dušan Kazik <prescott66@gmail.com>
Date:	2015-02-28

    Updated Slovak translation

M	po/sk.po

commit 7a073be01a6a3a1fd5ed977bc425c83ef41a8c24
Author: Rafael Ferreira <rafael.f.f1@gmail.com>
Date:	2015-02-26

    Updated Brazilian Portuguese translation

M	po/pt_BR.po

commit b2fc4e77db41e264fb6623a8d920fce49fbd94a7
Author: Efstathios Iosifidis <iefstathios@gmail.com>
Date:	2015-02-26

    Updated Greek translation

M	po/el.po

commit af421a2edcbfaf712139305200a894180de61535
Author: Baurzhan Muftakhidinov <baurthefirst@gmail.com>
Date:	2015-02-25

    Updated Kazakh translation

M	po/kk.po

commit c8dd1b83ae092186de519c4c563ebabddec08610
Author: Fran Dieguez <fran.dieguez@mabishu.com>
Date:	2015-02-25

    Updated Galician translations

M	po/gl.po

commit 1b5218a992331fb44a17292a9e96f3ee9ec1d5bf
Author: Claude Paroz <claude@2xlibre.net>
Date:	2015-02-24

    Updated French translation

M	po/fr.po

commit 64c96f32fb98ca6009db3c7d11985c028bc9c438
Author: Tom Tryfonidis <tomtryf@gmail.com>
Date:	2015-02-21

    Updated Greek translation

M	po/el.po

commit 4a7e1fa3757814a6ea2a201c0dea36eb0882b9d9
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:	2015-02-21

    Updated Chinese (Taiwan) translation

M	po/zh_TW.po

commit 9f14d0e726e517062820449b9fecf47477c8ecaa
Author: Alexander Larsson <alexl@redhat.com>
Date:	2015-02-20

    proxy volume monitor: Drop init warning if gvfs dbus service is
    not installed

    This caused make check to fail in gtk+

M	monitor/proxy/gproxyvolumemonitor.c

commit 5a4cc41acbf026fd640e16f6323482fb366bfb19
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-02-01

    test: Support /tmp on the same partition as test home

    Fix a test failure in test_file_in_system where it fails if /tmp
    is the
    same partition as $XDG_DATA_HOME by looking in a different place
    for the
    trashed item.

    https://bugzilla.gnome.org/show_bug.cgi?id=743820

M	test/gvfs-test

commit f853403f050dde5df5a14c73bb61ec4f0553e64c
Author: Yosef Or Boczko <yoseforb@src.gnome.org>
Date:	2015-02-17

    Updated Hebrew translation

M	po/he.po

commit de1f23fa4684ddba02b5fd25114268e8243405db
Author: Balázs Úr <urbalazs@gmail.com>
Date:	2015-02-15

    Updated Hungarian translation

M	po/hu.po

commit 55bb7ccc416c10063cbd3b8c701cfd992d95b525
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	2015-02-14

    Updated Slovenian translation

M	po/sl.po

commit 7832cccf2cfd1ee69bf2984a1712336187381af6
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-02-13

    Post release version bump

M	configure.ac

commit 379b9e631fbdce13bd77f30e701d1ae9ba23defb
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-02-13

    Update NEWS for 1.23.90 release

M	NEWS
M	configure.ac

commit 628d0136bbac1543c9c99e40cb410b3807dedf4c
Author: Stas Solovey <whats_up@tut.by>
Date:	2015-02-12

    Updated Russian translation

M	po/ru.po

commit 8be19e888fcb1fee73a10957e8a4ddb9c1df2491
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2015-02-12

    Updated Spanish Translation

M	po/es.po

commit 136b0259b0bff386e275d8f1951598da5de6a2a9
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2015-02-12

    Updated Norwegian bokmål translation.

M	po/nb.po

commit 5620bd8acb05c0a4eb93a792b25c349c5c6efebd
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-02-07

    ftp: Implement backups for replace

    https://bugzilla.gnome.org/show_bug.cgi?id=621917

M	daemon/gvfsbackendftp.c

commit 07fc7a65258bce9c3ad950f9adc0e6c66e2b0835
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-02-07

    dav: Fix a few memory leaks

    https://bugzilla.gnome.org/show_bug.cgi?id=744078

M	daemon/gvfsbackenddav.c

commit 46b8a4516b2cc66cfa043d187777c223a32d4df3
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-02-05

    channel: Fix a couple of leaks

    Fix leaks when sending a GFileInfo through a channel or sending an
    error.

    This can be seen by running gvfsd through valgrind and doing
    query_info_on_{read,write} or truncating with a negative size.

    https://bugzilla.gnome.org/show_bug.cgi?id=744078

M	daemon/gvfschannel.c
M	daemon/gvfschannel.h

commit aaa86631787bb010af12e62ffd85877d72813509
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-02-05

    smb: Fix a memory leak

    https://bugzilla.gnome.org/show_bug.cgi?id=744078

M	daemon/gvfsbackendsmb.c

commit 9a2be56c622fb8130a453bda116dbe15b5ee777f
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	2015-02-10

    Updated POTFILES.in

M	po/POTFILES.in

commit 874bc00bd19c6853cedcea610e8ac035c8486ca7
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-05-06

    Add an nfs backend based on libnfs

    Add an nfs backend based on libnfs to make userspace mounting
    and usage
    of nfs shares easier.  The backend is written in a single-threaded,
    asynchronous style.  Performance measurements show around 60-70 MiB/s
    throughput on 1GbE.

    To make use of it, simply mount the share with gvfs-mount or Nautilus
    with the following syntax:
    nfs://host/export/path

    Authentication is simple, based on UNIX uid.

    Since this is a userspace nfs client, it comes with the caveat
    that the
    mount needs to be exported with "insecure" on Linux (or some
    equivalent
    for other NFS servers) so that it allows connections from port numbers
    higher than 1023.  Alternatively, a special capability can be given to
    the binary:
    sudo setcap 'cap_net_bind_service=+ep' /path/to/executable

    https://bugzilla.gnome.org/show_bug.cgi?id=738967

M	configure.ac
M	daemon/.gitignore
M	daemon/Makefile.am
A	daemon/gvfsbackendnfs.c
A	daemon/gvfsbackendnfs.h
A	daemon/nfs.mount.in

commit 2fc159a7886a6696ca8caa218897b14150485db3
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-10-19

    daemon: Move seek type conversion to shared library

    Since converting a GSeekType into an lseek type is repeated in a few
    places, move it into shared code.

    https://bugzilla.gnome.org/show_bug.cgi?id=738967

M	daemon/gvfsbackendafc.c
M	daemon/gvfsbackendsmb.c
M	daemon/gvfsbackendtest.c
M	daemon/gvfsdaemonutils.c
M	daemon/gvfsdaemonutils.h

commit fcd88e9ee0c68c5f0e15fb402c22b26dc4415299
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-10-19

    daemon: Move random string generation into shared lib

    Random string generation is used in a few different places, so
    share the
    implementation.

    https://bugzilla.gnome.org/show_bug.cgi?id=738967

M	common/Makefile.am
A	common/gvfsutils.c
A	common/gvfsutils.h
M	daemon/gvfsbackendafp.c
M	daemon/gvfsbackendsftp.c
M	daemon/gvfsbackendsmb.c
M	daemon/gvfsdaemon.c
M	daemon/gvfsdaemonutils.c
M	metadata/Makefile.am
M	metadata/metatree.c

commit 221378f58f50bdf6e780e668539e875bac581826
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-02-02

    test: Wait for smbd to open its port before starting the test

    Use ss -ltn and look for port 1445 to wait for smbd to be ready before
    proceeding with the test.  This fixes test failures on slow machines
    where smbd takes a while to start.

    https://bugzilla.gnome.org/show_bug.cgi?id=742169

M	test/gvfs-test

commit ac81dee6d1699aaf2a029ef2a5be4162b9ab368e
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-02-01

    ftp: Implement G_FILE_COPY_NOFOLLOW_SYMLINKS

    https://bugzilla.gnome.org/show_bug.cgi?id=660077

M	daemon/gvfsbackendftp.c

commit c83eddf837b318c41703b16ca9bb5f2c39758fd9
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-02-02

    tests: add and fix tests with anonymous login

    The test for smb anonymous is broken since commit a0aec32, which
    changes behavioral of smb authentication. Use gvfs-mount -a option
    to fix this bug. Also add new tests for ftp to use -a option and
    anonymous property of the mount operation.

    https://bugzilla.gnome.org/show_bug.cgi?id=742169

M	test/gvfs-test

commit 69de16025113d65e825c73238bc6a1baa8dcf889
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-02-01

    test: Fix running smb tests outside of testbed

    Remove the 'interactive' flag which causes smb to only run a single
    iteration before exiting.  This caues problems because of the way that
    gvfsd-smb tries multiple different authentication methods
    (e.g. kerberos
    first).

    https://bugzilla.gnome.org/show_bug.cgi?id=742169

M	test/gvfs-test

commit 871113ca3e534522e9ed5e48c424b7160221514c
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-01-28

    daemon: register mount tracker skeleton by bus_acquired_handler

    Mount tracker skeleton is registered by name_acquired_handler
    currently, however it is too late. Therefore e.g. mount operation
    could fail for the first time with the following error:
    No such interface `org.gtk.vfs.MountTracker' on object at path
    /org/gtk/vfs/mounttracker

M	daemon/main.c

commit 450dd38079dc8e0ed124b3149862659f32095c8c
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-02-01

    test: Increase smb debug level

M	test/gvfs-test

commit 2107ad1e8bf2dbd5d3a364baee37a748acd4eb3f
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-01-31

    metadata: Free objects on error

    https://bugzilla.gnome.org/show_bug.cgi?id=743653

M	metadata/meta-daemon.c

commit 808b6cf892ec2a50b70cfee4a56c68795ba4a6fc
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-01-28

    metadata: Export skeleton before name is acquired

    Exporting the skeleton after acquiring the name is racy, as documented
    in the GIO docs for g_bus_own_name.

    https://bugzilla.gnome.org/show_bug.cgi?id=743653

M	metadata/meta-daemon.c

commit dc31edb747fe61888ba489cee5bba9c7b668202e
Author: Balázs Úr <urbalazs@gmail.com>
Date:	2015-01-30

    Updated Hungarian translation

M	po/hu.po

commit 77b3663800e942835ba6daedeba80b3e0b9d9bce
Author: Stas Solovey <whats_up@tut.by>
Date:	2015-01-29

    Updated Russian translation

M	po/ru.po

commit 95aac171c7b9903fefd7fa22888c32bb08d67132
Author: Bastien Nocera <hadess@hadess.net>
Date:	2014-10-17

    gvfs-open: Fix incorrect use of g_app_info_launch_default_for_uri()

    First, as we never check whether the passed arguments are indeed URIs,
    we'd be failing to work correctly for relative paths.
    Secondly, we would be running g_app_info_launch_default_for_uri()
    twice
    for no good reason.
    Finally, we were leaking the output of g_file_get_uri()

    https://bugzilla.gnome.org/show_bug.cgi?id=738690

M	programs/gvfs-open.c

commit 9a0fe141561e9b9217bec658c886edef0a981ab6
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-10-13

    programs: install completion files for all commands

    bash-completion has new completion loading code since version
    1.90. The
    completion files are loaded on demand, with
    ${completionsdir}/${command}
    being sourced when a matching command is typed. This requires the
    completion files to be named for all commands.

    https://bugzilla.gnome.org/show_bug.cgi?id=738369

M	configure.ac
M	programs/Makefile.am
A	programs/completion/Makefile.am
R096	programs/completion/gvfs	programs/completion/gvfs-cat

commit dc8db939d67d464b5721ed34f505b0a96a2e8802
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-01-26

    mtp: fix query_fs_info crash when file not found

    The function isn't returned after g_vfs_job_failed_literal, therefore
    g_vfs_job_succeeded is executed and it fails on assert.

    https://bugzilla.gnome.org/show_bug.cgi?id=743580

M	daemon/gvfsbackendmtp.c

commit 4729b3d25650e9031dcba88ce6ed69bf4a48adce
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-01-26

    build: Fix out of tree build

    https://bugzilla.gnome.org/show_bug.cgi?id=743551

M	monitor/proxy/Makefile.am

commit 33d427f66c6b1fc186ec26e8bf0e46f1e3d91965
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-01-26

    common: Fix a warning

M	common/gvfsmonitorimpl.c

commit 25e5723c976ad1360ec291ce811eb6c2685a0b9f
Author: Yosef Or Boczko <yoseforb@src.gnome.org>
Date:	2015-01-26

    Updated Hebrew translation

M	po/he.po

commit 2592a8ed424906528e90677ef47b040d2b4d8383
Author: Alexander Larsson <alexl@redhat.com>
Date:	2015-01-26

    ProxyVolumeMonitor: Load list of installed remote monitors via dbus

    We used to just load the files from this, but that does not work in
    a sandboxed environment. For backwards compat we keep loading
    the old files if the dbus api is not implemented yet.

M	common/gvfsmonitorimpl.c
M	common/org.gtk.vfs.xml
M	daemon/gvfsdaemon.c
M	monitor/proxy/gproxyvolumemonitor.c

commit 623d6fd8e9912ccc0003fad97578d24f5a5e773a
Author: Alexander Larsson <alexl@redhat.com>
Date:	2015-01-25

    Move proxy monitor implementation listing to common

    Also add some to/from_dbus helpers.
    This is in preparation for moving the reading of the monitor
    files to the gvfs daemon, which is needed for the sandboxed
    case where the monitor files are not necessarily the same as
    the host installed ones.

M	common/Makefile.am
A	common/gvfsmonitorimpl.c
A	common/gvfsmonitorimpl.h
M	monitor/proxy/gproxyvolumemonitor.c

commit be1191f1b2f3972441b2e8947d9a2ac71160a375
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-01-22

    dav: Trim some duplicated text

    https://bugzilla.gnome.org/show_bug.cgi?id=743379

M	daemon/gvfsbackenddav.c

commit 74a223930ee027babc6f6573dc4f49436bcb7c90
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-01-22

    dav: Fix up error handling when moving

    Don't leak the source and target URI when doing a server-side move.
    Also, don't continue after giving an G_IO_ERROR_EXISTS.

    https://bugzilla.gnome.org/show_bug.cgi?id=743379

M	daemon/gvfsbackenddav.c

commit 2f2057e0f86335ea918f3dd0ed2a7bcbe0f3a6d2
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-01-22

    dav: Add support for server-side copying

    Use webdav's COPY method to implement support for server-side copying.
    This improves performance considerably, especially over slow
    connections.

    https://bugzilla.gnome.org/show_bug.cgi?id=743379

M	daemon/gvfsbackenddav.c
M	daemon/gvfsbackendhttp.c

commit 412f76888747950baf0e4b9f24eb25ec5f9d9448
Author: Philip Langdale <philipl@overt.org>
Date:	2015-01-18

    MTP: Attempt to set MTP filetype from mime type when uploading files.

    I don't know how well this really works, as the Android devices I
    have access to do not do anything with the filetype information,
    but apparently MS Lumia devices try to use it.

    https://bugzilla.gnome.org/show_bug.cgi?id=743105

M	daemon/gvfsbackendmtp.c

commit 1eadeff379f42b5ca36b17e94b5d4179fa5f0f0f
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2015-01-23

    Updated Spanish translation

M	po/es.po

commit f81ff2108ab3b6e370f20dcadd8708d23f499184
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-01-21

    dav: don't unescape the uri twice

    path_equal tries to unescape path before comparing. Unfortunately
    this function is used also for already unescaped paths. Therefore
    unescaping can fail. This commit reverts changes which was done in
    commit 50af53d and unescape just uris, which aren't unescaped yet.

    https://bugzilla.gnome.org/show_bug.cgi?id=743298

M	daemon/gvfsbackenddav.c

commit 2ddbf4d973effd7402f53a4f14798e5f945855df
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-01-14

    gvfs-mount: Abort login if EOF is received

    When reading a username, password or domain from the user, abort the
    login process if EOF is received. This eases scripting gvfs-mount
    and prevents an infinite loop with some backends.

    https://bugzilla.gnome.org/show_bug.cgi?id=742942

M	programs/gvfs-mount.c

commit 0803c0fdc5bfd6d9f188088643aa2bc078c4ca36
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-01-01

    gvfs-mount: Allow mounting as an anonymous user

    https://bugzilla.gnome.org/show_bug.cgi?id=742169

M	man/gvfs-mount.xml
M	programs/gvfs-mount.c

commit a0aec329939e198b6faea6b788df7278f6543436
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2015-01-01

    smb: Handle the anonymous flag when calling AskPassword

    Previously, the smb backend would try logging in anonymously first
    if a
    user is not specified making it difficult to mount a share as
    a specific
    user from Nautilus.  Instead, only try an anonymous login if the
    anonymous flag is TRUE after calling AskPassword.

    https://bugzilla.gnome.org/show_bug.cgi?id=742169

M	daemon/gvfsbackendsmb.c

commit 74eadf3d3e278a1ae80985c7cf518a25de9ad53b
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-01-19

    Post release version bump

M	configure.ac

commit 87b2d097550ca20e04fb38438963cc7cf27bd4c5
Author: Ondrej Holy <oholy@redhat.com>
Date:	2015-01-19

    Update NEWS for 1.23.4 release

M	NEWS

commit fcbf262537f3d14035ac31107c7a4ba7a31905af
Author: Siteshwar Vashisht <svashish@redhat.com>
Date:	2015-01-14

    Do not call NULL callbacks in eject_wrapper_callback()

M	monitor/proxy/gproxymount.c

commit 3baeb9978c96925582fdb3cf8a4efdee1ba8f5ba
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2015-01-12

    Updated Spanish translation

M	po/es.po

commit 3daf797639cccf633f8d1644ed5f2dc1e8b6bc14
Author: Christian Kirbach <Christian.Kirbach@gmail.com>
Date:	2015-01-10

    Updated German translation

M	po/de.po

commit 176be06a4ea3406ec5e896cb65608705a8dc3c04
Author: Rafael Ferreira <rafael.f.f1@gmail.com>
Date:	2015-01-09

    Updated Brazilian Portuguese translation

M	po/pt_BR.po

commit 4082f9d55d8d65a55b38254dbe968e95d4ae843e
Author: Inaki Larranaga Murgoitio <dooteo@zundan.com>
Date:	2015-01-08

    Updated Basque language

M	po/eu.po

commit f724a63c38c50823dff8515356280c544e8eb87d
Author: Marek Černocký <marek@manet.cz>
Date:	2015-01-07

    Updated Czech translation

M	po/cs.po

commit 1d6c945a07f5a7b3bfb8c94845c65310622f38a6
Author: Marek Černocký <marek@manet.cz>
Date:	2015-01-07

    Updated Czech translation

M	po/cs.po

commit c0ba3c811fa2e7b139b4ca7e47878dfa9dcc648f
Author: Trần Ngọc Quân <vnwildman@gmail.com>
Date:	2015-01-07

    Updated Vietnamese translation

    Signed-off-by: Trần Ngọc Quân <vnwildman@gmail.com>

M	po/vi.po

commit 7a3db56d300323ee70e727a7e9dcd05f43812908
Author: Balázs Úr <urbalazs@gmail.com>
Date:	2015-01-06

    Updated Hungarian translation

M	po/hu.po

commit b3be3e1188aa3a05b347a5fb6abbad76703c0882
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	2015-01-06

    Updated Polish translation

M	po/pl.po

commit 754b8750abbd01ae8a429b5f75d5e9f9622ab010
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-12-20

    client: Strip remote dbus error when setting metadata fails

    Without this, if the function fails, the error presented to the
    user looks
    like:

    GDBus.Error:org.gtk.GDBus.UnmappedGError.Quark._g_2dio_2derror_2dquark.Code1:
    Can't find metadata file /home/ross/.local/share/gvfs-metadata/home

    https://bugzilla.gnome.org/show_bug.cgi?id=598561

M	client/gdaemonvfs.c

commit a03635ee68f043b68c1bb4cb95114af3ecb65ec4
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-11-14

    metadata: don't crash if meta_tree_init fails

    It can fail when e.g. database file is corrupted or doesn't have
    correct permissions. This patch also adds warnings to be possible
    determine reason why initialization failed.

    It is based on patches from Matthew W. S. Bell and Ross Lagerwall.

    https://bugzilla.gnome.org/show_bug.cgi?id=598561

M	client/gdaemonfile.c
M	client/gdaemonvfs.c
M	metadata/meta-get-tree.c
M	metadata/metatree.c
M	metadata/metatree.h

commit 7ea61cb7e5ff41f4abf228df3d9539ce3c07d18b
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	2014-12-26

    Updated Slovenian translation

M	po/sl.po

commit 6bf8f5635b3a37881fe584713d0b0410d4c5eb4b
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-12-15

    Post release version bump

M	configure.ac

commit 965d61ddf2262a30948ead89c463cf15643d2e05
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-12-15

    Update NEWS for 1.23.3 release

M	NEWS

commit 5fc948e329f6ff1b2e18ba580fd5b200f339d120
Author: Bernd Homuth <dev@hmt.im>
Date:	2014-12-13

    Updated German translation

M	po/de.po

commit b88db76eef8945c49312c921cc3ed68f3c1931ca
Author: Shankar Prasad <prasad.mvs@gmail.com>
Date:	2014-12-12

    Updated Kannada translation

M	po/kn.po

commit 62ae27ae14860acce6b0d93b3e71747df31b8b4a
Author: Debarshi Ray <debarshir@gnome.org>
Date:	2014-12-10

    mtp: Do not crash when debugging is turned on

    https://bugzilla.gnome.org/show_bug.cgi?id=741346

M	daemon/gvfsbackendmtp.c

commit e84d7ebc28eddc83f5a8bb99ab4d6607c3c25fc9
Author: Muhammet Kara <muhammetk@gmail.com>
Date:	2014-12-10

    Updated Turkish translation

M	po/tr.po

commit 72cca858796ef6d4b05211a156d73e549f5ab002
Author: Balázs Úr <urbalazs@gmail.com>
Date:	2014-12-07

    Updated Hungarian translation

M	po/hu.po

commit 38f093cfc0144972adda956320f5f968f7e1220a
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-11-24

    http: Report correct size for partial content msg

    Content length is wrongly used as file size for partial content
    messages (e.g. after seek), therefor length from range header has
    to be used instead.

    https://bugzilla.gnome.org/show_bug.cgi?id=690226

M	daemon/gvfsbackendhttp.c

commit f7d5375e4883473b4f8bf4d73d893c8456b1b5d9
Author: Trần Ngọc Quân <vnwildman@gmail.com>
Date:	2014-12-02

    Updated Vietnamese translation

    Signed-off-by: Trần Ngọc Quân <vnwildman@gmail.com>

M	po/vi.po

commit b3a78f050fe06dbebd64f8557cc64a724ef35d47
Author: Daniel Șerbănescu <daniel@serbanescu.dk>
Date:	2014-11-30

    Updated Romanian Translation

M	po/ro.po

commit 1e907472c74c37a6d9a0db5081cc4c41cb34b9d5
Author: Debarshi Ray <debarshir@gnome.org>
Date:	2014-10-21

    build: Fix the comments to reflect reality

    A volume monitor is different from a GVfs backend.

    https://bugzilla.gnome.org/show_bug.cgi?id=739008

M	configure.ac

commit ebfe26c66b16d909d2df234968e6565b255ac160
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-11-24

    Post release version bump

M	configure.ac

commit 2dc13b6a3007c89b5e32b89e9506395c85ca0854
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-11-24

    Update NEWS for 1.23.2 release

M	NEWS

commit e79aef0541b981ff848e97c5472c6f4914d98704
Author: Yosef Or Boczko <yoseforb@src.gnome.org>
Date:	2014-11-24

    Updated Hebrew translation

M	po/he.po

commit f8a9fd893431495fcda9f22e9c9e845c969248e4
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-11-18

    afc: fix wrong enum value

    Value of sbservices_error_t type is compared with INSTPROXY_E_SUCCESS
    from instproxy_error_t, SBSERVICES_E_SUCCESS should be used instead.
    However it isn't serious, because both constants have same value...

    It fixes following warning:
    gvfsbackendafc.c:262:21: warning: comparison between
    ‘sbservices_error_t’ and ‘enum <anonymous>’ [-Wenum-compare]
    if (G_LIKELY(cond == INSTPROXY_E_SUCCESS))

M	daemon/gvfsbackendafc.c

commit 9a43a4bdb8676d47a3fc265e59225df976edaaf0
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2014-11-19

    Updated Norwegian bokmål translation.

M	po/nb.po

commit 912406e388cee3a003a9fb9f8e5607f2e81eaa4e
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2014-11-19

    Updated Spanish translation

M	po/es.po

commit d4aa8d9e48d08738e14d4855130a0dcad19bd2eb
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-11-13

    afc: try copy and delete fallback if backup couldn't be created

    Move operation fails immediately with G_IO_ERROR_CANT_CREATE_BACKUP if
    G_FILE_COPY_BACKUP is specified. Consequently copy and delete fallback
    isn't executed. Return NOT_SUPPORTED instead of CANT_CREATE_BACKUP to
    proceed with the fallback if G_FILE_COPY_NO_FALLBACK_FOR_MOVE isn't
    specified.

    https://bugzilla.gnome.org/show_bug.cgi?id=740057

M	daemon/gvfsbackendafc.c

commit 7c856adf3dc29a51bd07464c4b9a00252ad8bb69
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-11-13

    dav: try copy and delete fallback if backup couldn't be created

    Move operation fails immediately with G_IO_ERROR_CANT_CREATE_BACKUP if
    G_FILE_COPY_BACKUP is specified. Consequently copy and delete fallback
    isn't executed. Return NOT_SUPPORTED instead of CANT_CREATE_BACKUP to
    proceed with the fallback if G_FILE_COPY_NO_FALLBACK_FOR_MOVE isn't
    specified.

    https://bugzilla.gnome.org/show_bug.cgi?id=740057

M	daemon/gvfsbackenddav.c

commit 3e73fe863c5a5201f77fe8f6e0bec81cad22288d
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-11-13

    ftp: try copy and delete fallback if backup couldn't be created

    Move operation fails immediately with G_IO_ERROR_CANT_CREATE_BACKUP if
    G_FILE_COPY_BACKUP is specified. Consequently copy and delete fallback
    isn't executed. Return NOT_SUPPORTED instead of CANT_CREATE_BACKUP to
    proceed with the fallback if G_FILE_COPY_NO_FALLBACK_FOR_MOVE isn't
    specified.

    https://bugzilla.gnome.org/show_bug.cgi?id=740057

M	daemon/gvfsbackendftp.c

commit a336ef412ace2f9fc169185c48bca657e28c646e
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-12-08

    client: Use the correct serial with file transfer cancellation

    When using Copy, Move, Push and Pull with progress callbacks, the
    progress callbacks increment the connection serial, so retrieve the
    serial immediately after the dbus method call so that the correct
    serial
    is used for cancellation.

    https://bugzilla.gnome.org/show_bug.cgi?id=720058

M	client/gdaemonfile.c
M	client/gvfsdaemondbus.c
M	client/gvfsdaemondbus.h

commit 14032ee48bab618e9e7c75134f1c653e996bc4dd
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-11-04

    mtp: limit number of threads

    Mtp backend doesn't limit number of threads, however all methods
    are executed with locked mutex thus multiple threads isn't needed.
    Do not waste resources and limit maximal number of threads to one.
    This patch could potentially avoid some crashes during unmount.

    https://bugzilla.gnome.org/show_bug.cgi?id=739575

M	daemon/Makefile.am

commit 50bb750fe9bcae0d333a1ec40a5d161ab6ba1741
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-10-30

    dav: Use g_try_realloc for output streams

    When writing a large amount to a GMemoryOutputStream, the reallocation
    function can fail.	Use g_try_realloc so that failures generate
    G_IO_ERROR_NO_SPACE rather than abort the process (as happens with
    g_realloc).

    https://bugzilla.gnome.org/show_bug.cgi?id=739428

M	daemon/gvfsbackenddav.c

commit 969421676c9d9f4ee4ca336acb567086af5d6c20
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-10-30

    client: Replace deprecated g_memmove

    Replace a hand-rolled partial string duplication with g_strndup.

    https://bugzilla.gnome.org/show_bug.cgi?id=739233

M	client/gdaemonfile.c

commit 7757c2bcfef808c860ec0e8676d69301a0f821d1
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-11-03

    client: Fix up error handling in find_enclosing_mount

    2a0dc68c7eeb ("client: Remove inconsistencies between async and sync
    variants") introduced a regression which causes find_enclosing_mount
    to
    segfault if a non-NULL GError** is passed in.  Fix this.  Also, only
    call g_dbus_error_strip_remote_error () on GErrors that have come from
    dbus.

    https://bugzilla.gnome.org/show_bug.cgi?id=739075

M	client/gdaemonfile.c

commit b970e280ab17d25cd2079ca658abb54248f8f098
Author: Yosef Or Boczko <yoseforb@src.gnome.org>
Date:	2014-11-04

    Updated Hebrew translation

M	po/he.po

commit 37727a10ee377d5675413c9d72fee4b9273c60b2
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-11-03

    mtp: do not crash when device is unplugged

    Leak the mutex if the backend is force unmounted to avoid crash
    caused by abort(), when trying to clear already locked mutex.

    https://bugzilla.gnome.org/show_bug.cgi?id=739575

M	daemon/gvfsbackendmtp.c
M	daemon/gvfsbackendmtp.h

commit 35adf5e4e2c4ef828165f6ea56fbe96255dfd8fc
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	2014-11-03

    tests: PEP-8 fixes

    All except overly long lines (--ignore=E501)

M	test/gvfs-test

commit 29be4f023e984e7ed9dd547936990a04958ecc45
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	2014-11-03

    tests: Drop MTP test case

    It stopped working with newer libmtp versions (1.1.8) and I don't
    have this
    Sony Xperia device any more.

M	test/Makefile.am
D	test/files/mtp_xperia.ioctl.xz
D	test/files/mtp_xperia.umockdev
M	test/gvfs-test

commit 47c5aec9ba0a4519c4b69d9d19cc99d8f92b3576
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	2014-06-03

    tests: Update for udisks that uses logind

    When logind seat tracking is enabled, the test bed may not have
    a currently
    active seat. Thus allow the filesystem-mount-other-seat action in the
    Drive.cdrom test as well.

M	test/gvfs-test

commit 2a0dc68c7eeb9a945860b68a295d5c1d9101bd0f
Author: Debarshi Ray <debarshir@gnome.org>
Date:	2014-10-23

    client: Remove inconsistencies between async and sync variants

    The async implementation of find_enclosing_mount does not assume that
    there is a GMountInfo when no error has occurred.

    https://bugzilla.gnome.org/show_bug.cgi?id=739075

M	client/gdaemonfile.c

commit 3150f9d3090c5253fd8761644a8c99dfd1ebb947
Author: Debarshi Ray <debarshir@gnome.org>
Date:	2014-10-23

    client: Always set an error if we don't have a mount

    https://bugzilla.gnome.org/show_bug.cgi?id=739075

M	client/gdaemonfile.c

commit 1e1a172fc79ca993c0f311c9e3178366489cebfa
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-10-26

    Post release version bump

M	configure.ac

commit be7c5c80209ddf2d17a133f2f12044caeb82c127
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-10-26

    Update NEWS for 1.23.1 release

M	NEWS

commit 58db1bd073a8f5f0eaadd9cc56f57c952e43f49e
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-07-29

    fuse: Pass the correct flags when reopening output stream

    If a file is open for reading and writing, ensure to pass the O_APPEND
    flag if necessary when reopening the output stream.  This allows a
    write-read-write sequence to work properly if the file is opened for
    O_APPEND.  The O_TRUNC flag is not passed since this would cause a
    write-read-write sequence to truncate the file on the second write.
    As
    it is, the second write fails with ENOTSUP since this kind of
    operation
    is not supported by GVFS.

    https://bugzilla.gnome.org/show_bug.cgi?id=632296

M	client/gvfsfusedaemon.c

commit 1ff4d6c13358ca3efbece1cf81298b44fdc8e855
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-07-26

    fuse: Close stream on release rather than flush

    Before, if an application created, dup()ed the fd and then closed it,
    the stream would be closed.  When attempting to write to the original
    fd, reopening the stream would fail since it is an error to open an
    existing file without either truncating it or appending to it.

    Close the stream on release() rather than flush() to fix this since
    release() is called only once per open/create rather than for each
    close.  Since g_output_stream_flush() is called after every write,
    flush() and fsync() are unnecessary.

    https://bugzilla.gnome.org/show_bug.cgi?id=632296

M	client/gvfsfusedaemon.c

commit 3800f5297b10f34a17502983ca11f89efae9ddea
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-07-26

    fuse: Track the size of open files properly

    Previously, if a getattr() for an open file could not get the size
    information, the file position was returned as the size.  This is
    incorrect if seek or ftruncate had previously been used on the stream.

    Instead, track the size of the open file and return this value.  In
    addition, use this size in preference to the size returned by
    g_file_query_info() if a stream is open (this only happens if
    the stream
    doesn't support g_file_query_info_on_write()) since the tracked
    size is
    more likely to be correct due to implementing g_file_replace by
    writing
    to a temporary file.  Tracking the size is only necessary for files
    which are created or opened with O_TRUNC since files opened with
    O_APPEND will be appended in-place.

    https://bugzilla.gnome.org/show_bug.cgi?id=632296

M	client/gvfsfusedaemon.c

commit 548ba46c2ba51c4ec5b0dd8442b476f3a2a7000b
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-07-26

    fuse: Don't g_file_append_to unless O_APPEND is given

    Because g_file_append_to opens an output stream that can only append
    regardless of the seek position, only use g_file_append_to when
    O_APPEND
    is actually specified.  This prevents file corruption when the mode is
    O_WRONLY or O_RDWR without O_APPEND.

    Note that this means opening a file with a bare O_WRONLY or O_RDWR
    returns ENOTSUP since there is no equivalent in gvfs.

    Furthermore, don't attempt to seek when the file mode is O_APPEND
    since
    this is unnecessary.

    https://bugzilla.gnome.org/show_bug.cgi?id=632296

M	client/gvfsfusedaemon.c

commit 8082321c9d2c8e1f8bb8a679219af1507f297b1a
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-07-26

    http: Always set the file type to regular

    Always set the file type to regular so that querying the type of an
    input stream gives the expected result.

    https://bugzilla.gnome.org/show_bug.cgi?id=632296

M	daemon/gvfsbackendhttp.c

commit f6f99e22a8200adfc6011156231eec57af44027c
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-07-24

    fuse: Truncate stream rather than path if possible

    When truncating, if a writable stream is open, truncate that
    rather than
    using g_file_replace on the path since that fails to have the desired
    effect if replace is implemented by writing to a temporary and then
    renaming.

    https://bugzilla.gnome.org/show_bug.cgi?id=632296

M	client/gvfsfusedaemon.c

commit 8dc5941cf17d2d82c8faf69b0ea88b7c66e0ccff
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-07-24

    fuse: Use query_info_on_{read,write} if a stream is open

    If a stream is open and it supports query_info_on_{read,write},
    use that
    in preference to querying the file using the path.	This causes the
    correct information to be retrieved when g_file_replace is implemented
    by writing to a temporary file, rather than the information of the
    yet-to-be-replaced file.

    https://bugzilla.gnome.org/show_bug.cgi?id=632296

M	client/gvfsfusedaemon.c

commit 4512e0a2f6c43094ed8ac2a40c2bc6e453448b07
Author: Baurzhan Muftakhidinov <baurthefirst@gmail.com>
Date:	2014-10-26

    Updated Kazakh translation

M	po/kk.po

commit 9c408fa27c770f78468b7aff5a4107967c49cc31
Author: Stas Solovey <whats_up@tut.by>
Date:	2014-10-24

    Updated Russian translation

M	po/ru.po

commit 09e2583e8e3630598208abad620e719df8fac4c3
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-10-20

    sftp: add more debug prints when logging

    This commit adds more debugging output for sftp backend for easier
    debugging login issues.

    https://bugzilla.gnome.org/show_bug.cgi?id=736311

M	daemon/gvfsbackendsftp.c

commit 71a6f76fa89d44206a3f6da73a99a9813476d173
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-10-21

    tests: do not create stuff.txt

    Looks like stuff.txt is writen, but not used and also not deleted,
    therefor don't create this file anymore.

M	test/gvfs-test

commit 7a279898064850b1b18f0f9466d3a69267efadc9
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-10-21

    Update .gitignore for test-driver

    This file is generated from autotools since commit 622024a.

M	.gitignore

commit fc0d9af54300efee6165f7ca778ffb0d15030335
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-10-21

    tests: increase timeout for starting ftp server

    There is "Time out after 5 s." in log for commit 2f83f3a. However
    timeout
    is only 50 * 0.01 = 0.5 sec. So increse step from 0.01 to 0.1 sec
    to be
    really 5 sec. I need this because 0.5 sec isn't enought on my laptop.

M	test/gvfs-test

commit b7871c6ea836f8f357dfe78cabb9f90f08385660
Author: Debarshi Ray <debarshir@gnome.org>
Date:	2014-10-23

    client: Don't guard against g_object_new returning NULL

    The call to g_daemon_mount_new is a call to g_object_new like any
    other. There is no point in checking if g_object_new failed to create
    an object, because it will always succeed unless we have run out of
    virtual address space and in that case the program will be aborted
    anyway.

    https://bugzilla.gnome.org/show_bug.cgi?id=739075

M	client/gdaemonfile.c

commit 1ffad3a0eaf37381b57e65c09c66ef00ecc90505
Author: Debarshi Ray <debarshir@gnome.org>
Date:	2014-10-22

    goa: Pass "password" as ID when fetching the password

    Passing GoaAccount:id to GetPassword makes no logical sense. It works
    because it is ignored by GOA for ownCloud accounts.

    The ID is meant as a key when an account might have multiple
    passwords.
    eg., an email account can have separate passwords for IMAP and SMTP,
    and the keys can be "imap-password", "smtp-password". This is not the
    case for ownCloud and the ID field is ignored by GOA because the key
    is always "password". Since ownCloud is the only password-based
    account that this volume monitor supports, let's just use "password".

    https://bugzilla.gnome.org/show_bug.cgi?id=739078

M	monitor/goa/goavolume.c

commit b311211d4b1eb9c9129bbf601772435d16b56259
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-10-23

    smb: Remove old compatibility ifdefs

    Remove old compatibility ifdefs left over from ad521f604df7 ("Require
    libsmbclient from Samba 3.4.0 or higher").

M	daemon/gvfsbackendsmb.c
M	daemon/gvfsbackendsmbbrowse.c

commit 9362d9c27354ffdcd8b8100dee3994296e48be38
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-10-21

    sftp: Retrieve the username from the secret store

    Retrieve the username from the secret store rather than simply
    using the
    default username with the retrieved password.  Without this,
    the backend
    does not correctly recall the login details of a non-default user when
    the username is not specified in the URI.

    E.g. if my username is "ross" and I stored the login details for
    "john",
    logging in with a URI of sftp://host/path should use john's details
    rather than john's password with ross as a username.

    If the username is specified directly, e.g. sftp://john@host/path,
    this
    already did work correctly (and should continue to).

    https://bugzilla.gnome.org/show_bug.cgi?id=736311

M	daemon/gvfsbackendsftp.c

commit 79ab9cded8c2f574875a596527f6e2e40afa93c5
Author: Stas Solovey <whats_up@tut.by>
Date:	2014-10-21

    Updated Russian translation

M	po/ru.po

commit a4e04816b0d2a0928a241f78a688b4dca4b4e1a2
Author: Debarshi Ray <debarshir@gnome.org>
Date:	2014-10-20

    goa: Clean up

    https://bugzilla.gnome.org/show_bug.cgi?id=738883

M	monitor/goa/goavolumemonitordaemon.c

commit 40a41c89d49adf84de9de54546aed8573019421c
Author: Debarshi Ray <debarshir@gnome.org>
Date:	2014-10-20

    afc: Clean up

    https://bugzilla.gnome.org/show_bug.cgi?id=738883

M	monitor/afc/afcvolumemonitordaemon.c

commit e8402a81d08e787038b463c0ceb61086ee269b34
Author: Debarshi Ray <debarshir@gnome.org>
Date:	2014-10-20

    goa: Fix a memory leak

    https://bugzilla.gnome.org/show_bug.cgi?id=738878

M	monitor/goa/goavolume.c

commit 191491810f9a48aa13108c90343df52d2a67cbae
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2014-10-20

    Updated Norwegian bokmål translation.

M	po/nb.po

commit 13c9423712c848692022dbd0bdace0c6628ddd21
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2014-10-20

    Updated Spanish translation

M	po/es.po

commit 391ee533f3b15dfc9592191989864782f912c716
Author: Marek Černocký <marek@manet.cz>
Date:	2014-10-18

    Updated Czech translation

M	po/cs.po

commit 56402c74c9b48943ef0688b01d6da08807fe405c
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-06-29

    pty_open: Remove unused function prototype

    https://bugzilla.gnome.org/show_bug.cgi?id=724780

M	daemon/pty_open.h

commit 65ebb59e40f60e6a76421e98621efee56ee385da
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-06-29

    pty_open: Fix warnings with BSD codepath

    Fix warnings by conditionally compiling functions needed for the
    UNIX98_PTY codepath.  Also, make a function static.

    https://bugzilla.gnome.org/show_bug.cgi?id=724780

M	daemon/pty_open.c

commit 82305d74bdb750ae2dc6f070af85a22ee0e2a76d
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-06-04

    sftp: Don't spin before the SSH process opens the slave pty

    When OpenSSH starts, it closes all its open file descriptors,
    including
    the slave pty which is used for handling the login.  This would cause
    gvfsd-sftp to spin because the poll() call in handle_login would
    return
    immediately with POLLHUP.  Open the slave pty in the parent process so
    that poll() doesn't return POLLHUP and spin needlessly.

    Once the login has been completed, the slave fd can be closed in the
    parent process (this fixes an fd leak in the BSD openpty codepath).

    This change is based on what sshfs does, and is also similar to
    how the
    BSD openpty codepath behaves.

    Although the problem occurs briefly for any login, it is most
    noticeable
    when trying to connect to a server that drops SSH packets.
    E.g. gvfs-mount sftp://8.8.8.8

    https://bugzilla.gnome.org/show_bug.cgi?id=724780

M	daemon/gvfsbackendsftp.c
M	daemon/pty_open.c
M	daemon/pty_open.h

commit 0077603d193ddd8c3c6f2d7f9053808b0ff1f944
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-09-28

    gvfs-move: Allow specifying G_FILE_COPY_NO_FALLBACK_FOR_MOVE

    Allow specifying G_FILE_COPY_NO_FALLBACK_FOR_MOVE when moving
    by passing
    "-C" to gvfs-move.

    https://bugzilla.gnome.org/show_bug.cgi?id=737510

M	man/gvfs-move.xml
M	programs/gvfs-move.c

commit 2e765449decfd7ec7668fbba92e6256f19ebdbfd
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-09-28

    client: Check for G_FILE_COPY_NO_FALLBACK_FOR_MOVE when push/pulling

    Fail if G_FILE_COPY_NO_FALLBACK_FOR_MOVE is specified and either
    a pull
    or a push is going to be executed.

    https://bugzilla.gnome.org/show_bug.cgi?id=737510

M	client/gdaemonfile.c

commit ea347458a314ef1d99ed845b514f33b8af374ad7
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-09-28

    daemon: Set callback to avoid endless loop during unmount

    It is not possible to respond to unmount dialog after 2 sec timeout,
    because the callback isn't set properly. The dialog reopens every 2
    seconds until the daemon is killed.

    Because a dbus method is called every 2 seconds, we may get multiple
    replies (e.g. one normal reply and several error replies due to
    a closed
    connection).  Handle this by ignoring all but the first reply.

    Based on a patch by Ondrej Holy.

    https://bugzilla.gnome.org/show_bug.cgi?id=688471

M	daemon/gvfsbackend.c

commit 0dedf40fec26e793692d8e4d2911a157ba7203a4
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-09-28

    mtp: Remove fail-during-unmount workaround

    Since jobs should now fail properly when an unmount is in progress,
    remove the mtp backend-specific implementation.

    https://bugzilla.gnome.org/show_bug.cgi?id=710986

M	daemon/gvfsbackendmtp.c

commit 5904c6d9614b48311217faac66b4e2f57174ba9d
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-09-28

    gvfsjobunmount: Block new requests before calling unmount() on
    a thread

    Block new requests before calling unmount() on a separate thread to
    prevent a race where new jobs are received and processed while the
    unmount() is being executed.

    This is not necessary for try_unmount() because all the job
    handling is
    done on the same thread as the try_unmount() method and requests are
    blocked when the try_unmount() method completes.

    https://bugzilla.gnome.org/show_bug.cgi?id=710986

M	daemon/gvfsbackend.c
M	daemon/gvfsbackend.h
M	daemon/gvfsjobunmount.c

commit e3fab1313117d8fefc98976b8c97d0f98cbb1819
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-10-17

    gphoto2: include gvfsgphoto2utils.h conditionally

    gvfsgphoto2utils.h causes build failure if gudev isn't available thus
    include the header conditionally.

    https://bugzilla.gnome.org/show_bug.cgi?id=736285

M	daemon/gvfsbackendgphoto2.c

commit d02b563ead89278fadbc52a37e4e59e06f15292f
Author: Daniel Korostil <ted.korostiled@gmail.com>
Date:	2014-10-14

    Updated Ukrainian translation

M	po/uk.po

commit 1d98f7c8c4eb41fa83498bce23624e9cb89046e9
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-10-13

    programs: allow bash completition for gvfs-rename and
    gvfs-set-attribute

    https://bugzilla.gnome.org/show_bug.cgi?id=738369

M	programs/completion/gvfs

commit 9ac1c5c5cedccf8286054c5e6c2ed54f324a90b4
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-10-13

    gphoto2: Add symbolic icon for volume

    Add a symbolic icon to the volume using the new shared API.

    https://bugzilla.gnome.org/show_bug.cgi?id=736285

M	monitor/gphoto2/ggphoto2volume.c

commit 60f96c8bd48e25ecdec5b9d8d3a3f86bfb119d3e
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-09-09

    gphoto2: Improve root dir name and icon handling

    Set the name of the root dir and the icon to match the way that the
    volume monitor sets them.

    This is visible as the folder title when the root dir of the device is
    open in Nautilus (or using gvfs-info).

    https://bugzilla.gnome.org/show_bug.cgi?id=736285

M	daemon/Makefile.am
M	daemon/gvfsbackendgphoto2.c

commit feb570c230183052076aad6ae33ca331b721ecad
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-09-09

    mtp: Improve root dir name and icon handling

    If the device has no friendly name, set the display name of the device
    from the udev info to match the name shown by the volume monitor.

    This is visible as the folder title when the root dir of the device is
    open in Nautilus (or using gvfs-info).

    https://bugzilla.gnome.org/show_bug.cgi?id=736285

M	daemon/Makefile.am
M	daemon/gvfsbackendmtp.c
M	daemon/gvfsbackendmtp.h

commit 33d1ba069ac55f8fcfe50f67197e09b1285d4350
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-09-09

    Build shared code for gphoto2 and mtp as a convenience lib

    Deduplicate code between gphoto2 and mtp by creating a convenience
    library call libgvfscommon-gphoto2 which is only built if either
    libmtp
    is used or gphoto2 with gudev is used.

    https://bugzilla.gnome.org/show_bug.cgi?id=736285

M	common/Makefile.am
A	common/gvfsgphoto2utils.c
A	common/gvfsgphoto2utils.h
M	configure.ac
M	monitor/gphoto2/Makefile.am
M	monitor/gphoto2/ggphoto2volume.c
M	monitor/mtp/Makefile.am
M	monitor/mtp/gmtpvolume.c

commit 7d3d832326f5114c517100dae6bafbadf5e6648f
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-08-30

    afp: Give a better error message for non-existent volume

    Give a better error message when trying to mount a volume that doesn't
    exist.

    https://bugzilla.gnome.org/show_bug.cgi?id=735729

M	daemon/gvfsafpvolume.c

commit 2914733df29d2889043914fa4a5a79d923aaf041
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-10-13

    sftp: Replace "died" with "exited" in a UI string

    "exited" is friendlier.

    https://bugzilla.gnome.org/show_bug.cgi?id=737013

M	daemon/gvfsbackendsftp.c

commit f07a3d9234ec4d9c74053d2271282f00330a661e
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-10-13

    man: Fix a typo in the gvfs-mime man page

M	man/gvfs-mime.xml

commit db89e2908ec3da88472fd80aea20382692d48217
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-09-11

    gvfsjobunmount: set error as per client interaction

    If the dialog about blocking processes was cancelled,
    G_IO_ERROR_FAILED_HANDLED will be returned. If there were outstanding
    jobs and GMountOperation wasn't passed in, or "show-processes" signal
    wasn't handled, G_IO_ERROR_BUSY will be returned.

    https://bugzilla.gnome.org/show_bug.cgi?id=710986

M	daemon/gvfsbackend.c
M	daemon/gvfsbackend.h
M	daemon/gvfsjobunmount.c

commit 038f186fa471c1da1b5c72aaae7dca89aa098aa6
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-09-05

    gvfs-mount: allow specifying G_MOUNT_UNMOUNT_FORCE

    https://bugzilla.gnome.org/show_bug.cgi?id=710986

M	man/gvfs-mount.xml
M	programs/gvfs-mount.c

commit 3039959094e65edc25ba030d0be2e2362b5b3b5f
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-10-13

    gvfs-cat: add missing space after colon

M	programs/gvfs-cat.c

commit 39d6fb7445eddaaba0058912fdb625737e1e1b17
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	2014-10-13

    Updated Polish translation

M	po/pl.po

commit 1211bdc01021ea78a05163cd9b9942f58578f0a3
Author: Milo Casagrande <milo@ubuntu.com>
Date:	2014-10-13

    Updated Italian translation

M	po/it.po

commit f58b48c8087348fe6d05a9bf515e4d767e482033
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-10-13

    Post branch version bump

M	configure.ac

commit 2670ead1d92f46d000121ce7c2e6e3358c7d3ca1
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:	2014-10-13

    Updated Galician translations

M	po/gl.po

commit 9f2651129d86c4d926e7e186813922d2ed5d2e23
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-09-28

    daemon: Don't abort if jobs != NULL when finalizing

    Don't abort if there are outstanding jobs when finalizing.	This may
    happen if the backend is force unmounted.  Use a warning instead.

    https://bugzilla.gnome.org/show_bug.cgi?id=710986

M	daemon/gvfsdaemon.c

commit ea4c462ca5710773af6219d18676cf4421b929d3
Author: Rūdolfs Mazurs <rudolfsm@src.gnome.org>
Date:	2014-10-12

    Updated Latvian translation

M	po/lv.po

commit 8cba0aac60b85e97ea3ace7fa308a846f6729bbd
Author: Changwoo Ryu <cwryu@debian.org>
Date:	2014-10-11

    Updated Korean translation

M	po/ko.po

commit 1681547c8a3c372bc3f5b578659ea11c83f635e8
Author: Sweta Kothari <swkothar@redhat.com>
Date:	2014-10-10

    Updated gujarati translations

M	po/gu.po

commit dafe7add5f8d1f30aa75d2831ce143c41810eb9c
Author: Rafael Ferreira <rafael.f.f1@gmail.com>
Date:	2014-10-10

    Updated Brazilian Portuguese translation

M	po/pt_BR.po

commit 3d13a4d69a23f1dc3cb799cf938e84079bf76af2
Author: Stas Solovey <whats_up@tut.by>
Date:	2014-10-09

    Updated Russian translation

M	po/ru.po

commit 28a7a4d43270fcdc560b130dab3f0ef4a84fee30
Author: Nilamdyuti Goswami <ngoswami@redhat.com>
Date:	2014-10-09

    Updated Assamese translation

M	po/as.po

commit 535a192f3fbba97eb2f2f1fdc2c8909a26a89fdb
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-10-08

    gvfschannel: don't abort when finalizing

    Remove g_assert (channel->priv->backend_handle == NULL), because it
    could happen when backend is force unmounted.

    https://bugzilla.gnome.org/show_bug.cgi?id=737842

M	daemon/gvfschannel.c

commit ace3084150b2d4ac8c6719061365c2bc9baf5edb
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-10-08

    gvfschannel: do not call close job if channel is blocked

    We don't want to call new jobs when backend is force unmounted.

    https://bugzilla.gnome.org/show_bug.cgi?id=737842

M	daemon/gvfschannel.c

commit 3abf2f64900c8dfb033af748c0aadc0cf61523c5
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-10-08

    gvfschannel: do not crash when channel is blocked

    Backend could crash, when channel is blocked and got new request
    unless current job is set. Therefor send_reply_cb is called
    without current job and cause following error:

    Program received signal SIGSEGV, Segmentation fault.
    0x00007ffff7de12a5 in g_vfs_job_emit_finished (job=0x0) at
    gvfsjob.c:322
    322      g_assert (!job->finished);

    To fix the problem be sure error job is set.

    https://bugzilla.gnome.org/show_bug.cgi?id=737842

M	daemon/gvfschannel.c

commit c08bf598dd2723a6ea8d9f1a493a959df1239cd6
Author: Philip Langdale <philipl@cloudera.com>
Date:	2014-09-11

    MTP: Work around slow large file transfers to Android devices

    I've observed that on at least some Android devices, copying large
    files
    is very very slow. I don't know if this hardware or MTP stack specific
    but it's a very real phenomenon. Files under 4GB copy at normal
    speeds,
    as do copies from the device to the host at any size.

    To avoid this, we can avoid using SendObject and instead take
    advantage
    of the Android Direct I/O extensions.

    It may turn out to be desirable to make a similar change for
    GetObject,
    and/or < 4GB transfers.

    https://bugzilla.gnome.org/show_bug.cgi?id=736495

M	daemon/gvfsbackendmtp.c

commit 33cb19f5aeec85d3cdcb0245927a9f174466a327
Author: Milo Casagrande <milo@ubuntu.com>
Date:	2014-10-05

    Updated Italian translation

M	po/it.po

commit 1f2d2952135a1304b0ed66da1d3d8f60f1e1c06e
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-09-27

    trash: Ignore G_FILE_MONITOR_EVENT_CHANGES_DONE_HINT

    Ignore G_FILE_MONITOR_EVENT_CHANGES_DONE_HINT when to prevent
    generating
    a spurious warning about unsupported operations on the trash dir.

    https://bugzilla.gnome.org/show_bug.cgi?id=737473

M	daemon/trashlib/trashdir.c

commit 22c7d972914fb62c60e260ad0da86bcd595745c3
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-09-16

    client: increase dbus proxy timeout for unmount

    Default timeout is too short and error "Timeout was reached" could be
    shown if user don't interact with unmount dialog. The patch sets the
    timeout to 30 minutes as it is set on server side.

    https://bugzilla.gnome.org/show_bug.cgi?id=710986

M	client/gdaemonmount.c

commit 60f96a4cdd942fcb52e470cbb1437f6eafdc3f04
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-09-25

    trash: do not care about mount points without read access

    The g_file_monitor_directory polls the directory every 2 seconds if
    we try to monitor mount points without read access. It prevents autofs
    mounts from being expired and causes high system load. Don't watch
    mount points without read access at all to fix the problem.

    Based on the patch by Scott Mayhew.

    https://bugzilla.gnome.org/show_bug.cgi?id=737371

M	daemon/trashlib/trashwatcher.c

commit fcffe33ba57f968e2cb0073cb201007808155702
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-09-13

    Allow cancelling jobs that have sent a reply but not finished

    A few job types (mount, unmount and enumerate) can be in a state where
    sent_reply is TRUE but finished is FALSE because they override
    send_reply.  If the peer connection closes during this period, the
    daemon hangs in peer_connection_closed because the job still
    exists but
    cannot be cancelled.  To fix this, allow cancelling jobs that
    have sent
    a reply but not yet finished.

    This can be reproduced fairly easily by doing a search on an sftp
    mount
    in Nautilus.

    https://bugzilla.gnome.org/show_bug.cgi?id=720860

M	daemon/gvfsjob.c

commit c6200ea2184b63016fe573155b0480ba88069456
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-07-30

    afp: Use UTF-8 for volume names

    Use UTF-8 for volume names since volume names are encoded as UTF-8 for
    protocol versions 3.0 and higher.  This prevents seeing volume names
    like: "John‚Äôs Public Folder"

    Since the volume name comes as a pascal string with UTF-8 encoding,
    extend the function to read pascal strings with the ability to read
    pascal strings encoded as UTF-8.

    https://bugzilla.gnome.org/show_bug.cgi?id=733996

M	daemon/gvfsafpconnection.c
M	daemon/gvfsafpconnection.h
M	daemon/gvfsafpserver.c
M	daemon/gvfsafputils.h

commit fab432937b4bfcd56c07c8be3e14335612bd42f3
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-09-15

    gvfs-set-attribute: Actually implement "-n" flag

    Allow setting attributes on symlinks by actually implementing the "-n"
    flag rather than just ignoring it.

    https://bugzilla.gnome.org/show_bug.cgi?id=736696

M	programs/gvfs-set-attribute.c

commit 1a1cd88c3d91937cc48abf80d586e60654f5ca8e
Author: Saibal Ray <sray@redhat.com>
Date:	2014-09-24

    Updated Bengali (India) translation

M	po/bn_IN.po

commit 41bfeaf3e7c3ad6b28666fda4f7472a064bab18d
Author: Krishnababu Krothapalli <k.meetme@gmail.com>
Date:	2014-09-23

    Updated Telugu translation

M	po/te.po

commit 3ee50d38c5bb42dbb62f3d50700d64d68a6cbaad
Author: Мирослав Николић <miroslavnikolic@rocketmail.com>
Date:	2014-09-23

    Updated Serbian translation

M	po/sr.po
M	po/sr@latin.po

commit 5baa5617d05f028f4aa4373b6355fc93de171e06
Author: Petr Kovar <pkovar@redhat.com>
Date:	2014-09-22

    Update Czech translation

M	po/cs.po

commit f004f36fd9ac7636896d727562f957e9a0c4faa4
Author: Rajesh Ranjan <rajeshkajha@yahoo.com>
Date:	2014-09-22

    Updated Hindi translation

M	po/hi.po

commit d6c5a95205da6c50d840bf532c4876a54f071d75
Author: Shankar Prasad <prasad.mvs@gmail.com>
Date:	2014-09-22

    Updated Kannada translation

M	po/kn.po

commit 414fdf3194872b60fd7d07485c8627c88bff4ca6
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-09-21

    Post release version bump

M	configure.ac

commit 39e0eb4fa3e8606fc8e01c09863a97143419a79c
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-09-21

    Update NEWS for 1.22.0 release

M	NEWS

commit 45c4c6328265acbf9e87460278e1bfdf2c0ff9be
Author: Bernd Homuth <dev@hmt.im>
Date:	2014-09-21

    Updated German translation

M	po/de.po

commit 87882a6ddbf6416dcf528f8dc78354f2745fcad8
Author: A S Alam <aalam@users.sf.net>
Date:	2014-09-21

    update Punjabi Translation for 3.14 release

M	po/pa.po

commit bf725b6285212c9f9eda6446d31f259b6a98d972
Author: Tong Hui <tonghuix@gmail.com>
Date:	2014-09-21

    update zh_CN translation

M	po/zh_CN.po

commit c2a652ad39612a49c7fb728c64a40245df86b558
Author: Ask H. Larsen <asklarsen@gmail.com>
Date:	2014-09-20

    Updated Danish translation

M	po/da.po

commit 3e55c75550b7befd89fd1a1fae5a145a7fc53fcd
Author: Manoj Kumar Giri <mgiri@redhat.com>
Date:	2014-09-19

    Updated Oriya translation

M	po/or.po

commit a9f168bd828b7bad1fa03937dcb6e12dd3e15082
Author: Christian Kirbach <Christian.Kirbach@gmail.com>
Date:	2014-09-18

    Updated German translation

M	po/de.po

commit a4eaf45c84a383ba37ecfa53ec3bf090cea0c5a5
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-09-16

    doap: add myself as a maintainer

M	gvfs.doap

commit 75dc8c69ae3f76ef9b1a6fa2884eafadc787f023
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-09-16

    doap: add description field

M	gvfs.doap

commit f0f6ed365141fad711ac144735196be8ce0c3b99
Author: Saibal Ray <sray@redhat.com>
Date:	2014-09-17

    Updated Bengali (India) translation

M	po/bn_IN.po

commit 97b96d125208cfbb17043e5bf8b1254b8802de7d
Author: Mattias Eriksson <snaggen@gmail.com>
Date:	2014-09-15

    Updated Swedish translation

M	po/sv.po

commit f2fe080f2bc71f7a7f2e863a9c24de708616746c
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-09-15

    Post release version bump

M	configure.ac

commit a266086f9d793417bf02c0ce0d86336853fc4a7f
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-09-15

    Update NEWS for 1.21.92 release

M	NEWS

commit e42fcde6cccb637adbf0ef8db5ba1eae67109730
Author: Shantha kumar <shantha.thamizh@gmail.com>
Date:	2014-09-15

    Updated Tamil translation

M	po/ta.po

commit 5566ec7e02dcbd810ce5bba79be589086402c52e
Author: Carles Ferrando <carles.ferrando@gmail.com>
Date:	2014-09-14

    [l10n] Updated Catalan (Valencian) translation

M	po/ca@valencia.po

commit 42a142faccd60c78f18c37412abe91da5e1a6cf6
Author: Gil Forcada <gforcada@gnome.org>
Date:	2014-09-14

    [l10n] Update Catalan translation

M	po/ca.po

commit 50a5d4c1de2997cfebc14d37e49fe54658cf1678
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-09-13

    mtp: Fix a runtime warning

    Fix a runtime warning introduced by 32983ccd7e3d ("MTP: Fix error
    semantics for do_pull/do_push/do_make_directory") which occurs when
    pulling and the destination does not exist.

    https://bugzilla.gnome.org/show_bug.cgi?id=734305

M	daemon/gvfsbackendmtp.c

commit 627ef9b2a62c8a97e95ddfcc95c054cb7e830d81
Author: Sandeep Sheshrao Shedmake <sshedmak@redhat.com>
Date:	2014-09-12

    Updated Marathi Translations

M	po/mr.po

commit f9b3d648b1014fa733e96830dd6f6a5c04c2afb4
Author: Balázs Úr <urbalazs@gmail.com>
Date:	2014-09-11

    Updated Hungarian translation

M	po/hu.po

commit 93847a9ff7eff4d0d6de732e4942847a1f276691
Author: Yuri Myasoedov <ymyasoedov@yandex.ru>
Date:	2014-09-09

    Updated Russian translation

M	po/ru.po

commit 4535def84d04213c5ac931a8b6903007ef88390e
Author: Marek Černocký <marek@manet.cz>
Date:	2014-09-08

    Updated Czech translation

M	po/cs.po

commit f4b68791a16b72f59b112b25159d5ac337ee1640
Author: Rūdolfs Mazurs <rudolfsm@src.gnome.org>
Date:	2014-09-07

    Updated Latvian translation

M	po/lv.po

commit 241809a4bd196df40e2324c75cf090fb78bbf07d
Author: Ville-Pekka Vainio <vpvainio@iki.fi>
Date:	2014-09-07

    Finnish translation update by Jiri Grönroos

M	po/fi.po

commit e8d04b3d286745534f0a07e57e17f5142eee6007
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-08-29

    metatree: avoid endless looping when the entry is too large

    When an application tries to save a larger key-value pair than
    the size
    of the journal, it triggers the journal to be flushed to make
    space for
    the entry and the operation is then retried, but it never fits,
    and the
    loop continues forever.

    This patch removes the endless retry loop and retries the operation
    only once after the flush. We know that there isn't enough space for
    the entry if it fails after the flush.

    https://bugzilla.gnome.org/show_bug.cgi?id=637095

M	metadata/metatree.c

commit d5e07fe5491edd2f9cfc6dfe271209d888f2ba49
Author: Sweta Kothari <swkothar@redhat.com>
Date:	2014-09-05

    Updated gujarati translations

M	po/gu.po

commit ce9d7700c5641610d1c4c2400c2ab3f9183288fb
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-08-31

    archive: Allow reading files with '/./' in the path

    Allow reading files with a "." component in the path.  This is a
    followup to 46bdbf1d4596 ('archive: Ignore filenames consisting of a
    single "."'), which allowed the archive backend to enumerate an
    archive
    with a single "." in the path.

    Implement this with a generic function to fixup an archive_entry path,
    and use this wherever archive_entry_pathname() is used.

    https://bugzilla.gnome.org/show_bug.cgi?id=729463

M	daemon/gvfsbackendarchive.c

commit 8a8c9942ed2f2f98b614747e4bfbae6b29f04d56
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-08-25

    archive: Fix some memory leaks

    Unfortunately, the clever trick to avoid string copying causes leaks
    because it inserts NULLs in the middle of a NULL-terminated array.

    https://bugzilla.gnome.org/show_bug.cgi?id=729463

M	daemon/gvfsbackendarchive.c

commit cae982f8d6ca03407fb2f189d3e6d1e7ca1d8979
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:	2014-09-04

    Updated Galician translations

M	po/gl.po

commit 76d66b7934b615983cb5688f76efea25172c0503
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:	2014-09-04

    Updated Galician translations

M	po/gl.po

commit 1239448550cab54a0e6827eb52891b98103068e1
Author: Andika Triwidada <andika@gmail.com>
Date:	2014-09-03

    Updated Indonesian translation

M	po/id.po

commit 047ee674469aa871be1e971050a68bf9ae7ac4d2
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	2014-09-03

    Updated Polish translation

M	po/pl.po

commit 44539ac00f9d1d1cac4dcea4814f3c94a2da6502
Author: Changwoo Ryu <cwryu@debian.org>
Date:	2014-09-03

    Updated Korean translation

M	po/ko.po

commit 466a5750c73881b6da1fcaa32ef4a06db9d7dd94
Author: Claude Paroz <claude@2xlibre.net>
Date:	2014-08-30

    Updated French translation

M	po/fr.po

commit 554f208e7dc065889358d05d8199a2271756b05e
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-08-25

    dav: Ignore parameters of the content type header

    Ignore parameters of the file's content type since these break
    applications which make use of the content type.

    E.g. If the server returns a type such as "text/plain; charset=utf-8",
    the file won't open in a text editor.

    https://bugzilla.gnome.org/show_bug.cgi?id=676627

M	daemon/gvfsbackenddav.c

commit 8825a40848d908d3da0819592420e571f906b179
Author: Enrico Nicoletto <liverig@gmail.com>
Date:	2014-08-29

    Updated Brazilian Portuguese translation

M	po/pt_BR.po

commit 3566c6295a76559801eec299368f22425c6c9d4c
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-08-29

    Post release version bump

M	configure.ac

commit 7f26437b838caf5e955a97a3ce39d4a73266c775
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-08-29

    Update NEWS for 1.21.91 release

M	NEWS

commit 2153d300f24d3388d7c4ab75a55451ad5a581b5a
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-08-25

    ftp: Don't unlock unlocked mutex

    Don't unlock an unlocked mutex since this causes an abort() with the
    latest glib (and is undefined anyway).

    https://bugzilla.gnome.org/show_bug.cgi?id=735381

M	daemon/gvfsftptask.c

commit baf4a01c181c8a8f81ffb02cd5bfe1d94083efb9
Author: Yosef Or Boczko <yoseforb@src.gnome.org>
Date:	2014-08-28

    Updated Hebrew translation

M	po/he.po

commit 622024a88f842cb087306e81e886af850107149a
Author: Vadim Rutkovsky <vrutkovs@redhat.com>
Date:	2014-08-06

    build: add --enable-installed-tests parameter

    See https://live.gnome.org/GnomeGoals/InstalledTests for more
    information.
    Those tests will also be executed on http://build.gnome.org. For
    now we run
    all our suite as one big test

    It's still possible to run `make check` with locally uninstalled
    tests.

    https://bugzilla.gnome.org/show_bug.cgi?id=734370

M	configure.ac
A	glib-tap.mk
M	test/.gitignore
M	test/Makefile.am

commit 7955e6333507b69a1d013c70376fb4b279df2556
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-08-25

    dav: Add comment for bug 594507

    https://bugzilla.gnome.org/show_bug.cgi?id=594507

M	daemon/gvfsbackenddav.c

commit 367053db51e84c81c21fafd3d7476be8ff2301ce
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-07-04

    dav: Force unmount when dns-sd data changes

    Force unmount the backend when the resolved data changes (most likely
    when the remote service disappears).

    https://bugzilla.gnome.org/show_bug.cgi?id=594507

M	daemon/gvfsbackenddav.c

commit b9d23b3afbf16328a203931ca6a710a2fe62a35c
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2014-08-23

    Updated Norwegian bokmål translation.

M	po/nb.po

commit 3e5c3085b680101d95ae6b3ddcef3cae2b12f099
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-08-20

    archive: Retry operations that return ARCHIVE_RETRY

    Retry operations that return ARCHIVE_RETRY since it indicates that the
    operation has failed, the archive_entry is not valid, and the
    operation
    should be retried to see if it succeeds.

    This fixes a segfault on a truncated archive where
    archive_read_next_header would return ARCHIVE_RETRY and the backend
    would continue to try and use the invalid archive_entry that was
    returned.

    https://bugzilla.gnome.org/show_bug.cgi?id=735120

M	daemon/gvfsbackendarchive.c

commit 26b4b1d00eb77e54f72d5ed7c1867bcf796094c1
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:	2014-08-21

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

M	po/zh_HK.po
M	po/zh_TW.po

commit e7754a7433565e1df2411334760814f9622d0ebd
Author: Daniel Mustieles <dnaiel.mustieles@gmail.com>
Date:	2014-08-19

    Updated Spanish translation

M	po/es.po

commit d41ca9c828987546d28d82c013300ba0d6e51b12
Author: ngoswami <ngoswami@redhat.com>
Date:	2014-08-18

    Updated Assamese translation

M	po/as.po

commit d84f86d8ea3329c36d070f17788288b4d380595b
Author: Tom Tryfonidis <tomtryf@gmail.com>
Date:	2014-08-17

    Updated Greek translation

M	po/el.po

commit bb1862582a93f6f73e251f7b156d15817c27e16a
Author: Rok Mandeljc <rok.mandeljc@gmail.com>
Date:	2014-08-14

    mtp: fix storage-list-related race condition between STORE_ADDED
    event handler and do_query_info()

    The LIBMTP_Get_Storage() call in STORE_ADDED event handler needs
    to be called with backend mutex held, otherwise it races with
    iteration over storages list in do_query_info() as the latter
    attempts to retrieve information about storage.

    The issues occur when several stores are added at the same time,
    because after a store is added, Nautilus immediately queries it
    for info.

    Also, backend reference should probably also be released in cases
    when LIBMTP_Get_Storage() fails.

    Signed-off-by: Rok Mandeljc <rok.mandeljc@gmail.com>

M	daemon/gvfsbackendmtp.c

commit 01f6a72080945bf103b1a8d175f1523e1fc5c9b8
Author: Aurimas Černius <aurisc4@gmail.com>
Date:	2014-08-15

    Updated Lithuanian translation

M	po/lt.po

commit cbe0b424bfc2f57fd91435f31b1d4d236fd2e872
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-08-15

    Post release version bump

M	configure.ac

commit 8f94df31bfb8939d9986308f723ce01ff898d1ba
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-08-15

    Update NEWS for 1.21.90 release

M	NEWS

commit 540b03f9a73f58b1a1237b84ae1d453c4ac37a5f
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-08-12

    gvfs-save: Allow specifying G_FILE_CREATE_REPLACE_DESTINATION

    Allow specifying G_FILE_CREATE_REPLACE_DESTINATION when using
    gvfs-save
    with the -u flag or --unlink.  I chose this because "unlink"
    represents
    what G_FILE_CREATE_REPLACE_DESTINATION does in principle: it
    unlinks the
    destination before replacing it, thereby losing any permissions
    or other
    attributes of the file.

    https://bugzilla.gnome.org/show_bug.cgi?id=734695

M	man/gvfs-save.xml
M	programs/gvfs-save.c

commit aae5c91460a36f091384a4b3bcbb8cb70f33f135
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-06-07

    dav: Send enumerate success earlier

    Send a "success" response earlier when enumerating to allow infos
    to be
    sent incrementally rather than batched up until the end.

    https://bugzilla.gnome.org/show_bug.cgi?id=734695

M	daemon/gvfsbackenddav.c

commit 32a1e8d6fc55fa525deb85d8fc93497e8b74e832
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-06-02

    afp: Fix some memory leaks

    https://bugzilla.gnome.org/show_bug.cgi?id=734695

M	daemon/gvfsafpserver.c
M	daemon/gvfsbackendafp.c

commit 32e9db1387588f37da8b6825f3c7f70ad8c49ef1
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-08-12

    daemon: Fix a memory leak

    https://bugzilla.gnome.org/show_bug.cgi?id=734695

M	daemon/gvfsjobenumerate.c

commit bcd8b846329309bc997fd8116534352140e6142b
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-08-12

    computer: Fix a memory leak

    https://bugzilla.gnome.org/show_bug.cgi?id=734695

M	daemon/gvfsbackendcomputer.c

commit 3d20db3249bfd5a9aaab89f5d09e948d1bc28d4f
Author: Tom Tryfonidis <tomtryf@gmail.com>
Date:	2014-08-11

    Updated Greek translation

M	po/el.po

commit 32983ccd7e3d15e6071464236376abf0b855b904
Author: Philip Langdale <philipl@overt.org>
Date:	2014-08-07

    MTP: Fix error semantics for do_pull/do_push/do_make_directory

    There are a bunch of semantic inconsistencies in the existing
    implementations of these functions, when compared with the GIO
    docs for making dirs and copying files.

    This change fixes those problems, and also ensures that in the
    pull/push cases, the destination is deleted at the last possible
    moment, in the case of overwrites.

    Also, certain other methods had their error code changed from
    NOT_REGULAR_FILE to PERMISSION_DENIED when an operation is
    attempted on a storage. This leads to less surprising errors
    for users.

    https://bugzilla.gnome.org/show_bug.cgi?id=734305

M	daemon/gvfsbackendmtp.c

commit 63899f1a7e6aa286a97e82e99ae036d597cee748
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-07-31

    ftp: Only free connection if non-NULL

    Only attempt to free the connection if it is non-NULL, to prevent
    warnings like the following:
    ** (process:30854): CRITICAL **: g_vfs_ftp_connection_free: assertion
    'conn != NULL' failed

    The connection can be NULL if g_vfs_ftp_connection_new is cancelled.

    https://bugzilla.gnome.org/show_bug.cgi?id=591054

M	daemon/gvfsftptask.c

commit 9bd1bd2c7a96b69ef4de956eb04d3bb58f748c0e
Author: Benjamin Otte <otte@redhat.com>
Date:	2014-08-11

    ftp: Also mark connection as unusable on G_IO_IN

    There is data waiting on an FTP connection and we didn't request it.
    It's not ours and we have no way to clear it. Just makr this
    connection
    as unusable.

    Most likely this is the server notifying us about a timeout or other
    connection abort, so it's a good idea to treat it as an error anyway.

    Also includes a new debug message for when we mark a connection as
    unusuable and why.

    https://bugzilla.gnome.org/show_bug.cgi?id=591054

M	daemon/gvfsftpconnection.c

commit 648c433bfbc88aaa757a0adb86b20ca3c986108b
Author: Benjamin Otte <otte@redhat.com>
Date:	2014-08-11

    ftp: Check connection is usable when acquiring

    Qhen acquiring a cached connection, it might have timeout'ed or
    otherwise not be available anymore. We don't want these connection
    errors to propagate into the job we're handling and instead just
    acquire
    the next connection.

    https://bugzilla.gnome.org/show_bug.cgi?id=591054

M	daemon/gvfsftptask.c

commit 232d6d76029dc1cbc0c76c2459f9db26b7717d28
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-08-09

    fuse: Don't map EISDIR to EXDEV when renaming

    vfs_rename incorrectly maps EISDIR to EXDEV when renaming.	However,
    EISDIR occurs when the source is a file and the destination is a
    directory and it shouldn't be remapped.  (G_IO_ERROR_WOULD_RECURSE is
    mapped to EXDEV instead.)

    https://bugzilla.gnome.org/show_bug.cgi?id=734568

M	client/gvfsfusedaemon.c

commit 4341cf2b36e408c3598bc533d9510ff6ff5b0f84
Author: Rok Mandeljc <rok.mandeljc@gmail.com>
Date:	2014-08-09

    fuse: Add GError to errno mappings for G_IO_ERROR_WOULD_RECURSE
    and G_IO_ERROR_WOULD_MERGE

    This patch adds the following GError to errno mappings to
    errno_from_error():
    G_IO_ERROR_WOULD_RECURSE -> EXDEV
    G_IO_ERROR_WOULD_MERGE -> ENOTEMPTY

    The first mapping is required to allow 'mv' to rename/move a
    directory in a gvfs-fuse directory that belongs to a backend
    without support for a native move operation. In such cases,
    g_file_move() returns G_IO_ERROR_WOULD_RECURSE, which needs to
    be mapped to -EXDEV in order for mv to fall back to recursive
    copy & delete operation.

    Similarly, G_IO_ERROR_WOULD_MERGE is returned when trying to
    move/merge two non-empty directories. By mapping it to -ENOTEMPTY,
    the error message returned by 'mv' becomes ": Directory not empty"
    instead of generic ": Input/output error".

    https://bugzilla.gnome.org/show_bug.cgi?id=734568

    Signed-off-by: Rok Mandeljc <rok.mandeljc@gmail.com>

M	client/gvfsfusedaemon.c

commit be4d7fa3b44a8c195bf6e19cf2a44ff9440ffc07
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-02-27

    daemon: consider all jobs excepting unmount as blocking processes

    User can wait to finish all jobs (not only those with opened channel)
    before unmount to avoid potencial crashes.

    https://bugzilla.gnome.org/show_bug.cgi?id=710986

M	daemon/gvfsbackend.c
M	daemon/gvfsbackend.h
M	daemon/gvfsdaemon.c
M	daemon/gvfsdaemon.h
M	daemon/gvfsjobunmount.c

commit 0aafc320c4278ccb0469d2aea981ab03db3cbfab
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-07-26

    gphoto: Set mtime when pulling

    Commit 86162bbe4b09 ("gphoto2: Implement pull support") failed to set
    the modification time of the destination file when implementing pull
    support.

    Fix this by setting the modification time on the destination file
    (only
    the mtime in seconds needs to be set since this is the only time info
    the gphoto supports).

    https://bugzilla.gnome.org/show_bug.cgi?id=733469

M	daemon/gvfsbackendgphoto2.c

commit 1fdcb2b67e740b13a16cfa9cbdd1c87276af8d9a
Author: Inaki Larranaga Murgoitio <dooteo@zundan.com>
Date:	2014-08-07

    Updated Basque language

M	po/eu.po

commit 4fff3674b9c909a5d2838bdbc96ba98724d10d56
Author: Rok Mandeljc <rok.mandeljc@gmail.com>
Date:	2014-08-04

    mtp: do_open_for_read() should fail on a directory

    This is a fix for bug #729628: the GIO open-read-write-close
    fallback for copy/move operation on MTP volumes works correctly
    for files, but fails for directories - in particular, it creates
    a file with the destination name, then fails with "libmtp error:
    Unknown error." This happens because the fallback first attempts
    to open the source as a file, and if it succeeds, proceeds to
    create destination file and copy the contents via series of
    reads/writes.

    For directories, do_open_for_read() should fail with
    G_IO_ERROR_IS_DIRECTORY, which in tun causes GIO to create the
    destination as directory, and then copy its contents over.

    Signed-off-by: Rok Mandeljc <rok.mandeljc@gmail.com>

M	daemon/gvfsbackendmtp.c

commit e949e7b9918c5867a2948eb6c641171bae4e99f8
Author: MarMav <mavridou@gmail.com>
Date:	2014-08-04

    Updated Greek translation

M	po/el.po

commit c7bb2e1f5341d03cbc7b195d756f49fdf7a0f0f5
Author: Rok Mandeljc <rok.mandeljc@gmail.com>
Date:	2014-08-03

    mtp: improve validation of received thumbnail/sample data in
    do_open_icon_for_read()

    With my tablet, the call to LIBMTP_Get_Thumbnail() in
    do_open_icon_for_read() sometimes succeeds with return code 0, but
    returns size 0 and NULL data pointer. Thus, subsequent read
    operations return no data, and Nautilus ends up with invalid
    preview icon.

    This patch adds validation of returned data size, and treats size
    0 same as if the call failed - reporting no icon data to be
    available and causing Nautilus to read the actual file content to
    obtain the preview icon.

    Also, LIBMTP_destroy_filesampledata_t() is now called regardless
    whether LIBMTP_Get_Representative_Sample() call succeeds or not.

    Signed-off-by: Rok Mandeljc <rok.mandeljc@gmail.com>

M	daemon/gvfsbackendmtp.c

commit fbb887f56f3b28fe03ef2bdad96c114cf8a2661c
Author: Rok Mandeljc <rok.mandeljc@gmail.com>
Date:	2014-08-03

    mtp: convert icon id using hexadecimal base instead of decimal one

    This is a fix for regression introduced by 30697fe32d47 ("mtp: in
    debug traces, print IDs as hexadecimal values instead of decimal
    ones"), which changed format of icon id constructed in
    get_file_info() from decimal to hexadecimal, while the inverse
    conversion in do_open_icon_for_read() remained unchanged, using
    decimal base.

    Signed-off-by: Rok Mandeljc <rok.mandeljc@gmail.com>

M	daemon/gvfsbackendmtp.c

commit 12c95538d84eaa17b17e82c01bc1608570c4102d
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-08-03

    afp: Remove old TODO

    https://bugzilla.gnome.org/show_bug.cgi?id=734194

M	daemon/gvfsafpvolume.c

commit 2e3eee275a97abf4d6055c06683f04c7d8f3f7ca
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-08-03

    mtp: Fix two harmless warnings

    Fix two warnings introduced by be000ea91e90 ("MTP: Emit delete events
    when unmounting.").

M	daemon/gvfsbackendmtp.c

commit e9c320e49cace543450b961af32ea7ffeb8d512f
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-08-03

    afp: Don't retry read if connection closes

    Don't retry the read if the remote host closes the connection.
    Instead,
    exit (semi-)gracefully with exit(0) and exit with an error if
    there was
    an actual error.

    https://bugzilla.gnome.org/show_bug.cgi?id=710490

M	daemon/gvfsafpconnection.c

commit a4016460538ea8be22aa0d8289922b389a93ef78
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-08-03

    afp: Try to prevent idle disconnects

    Some servers (e.g. OS X 10.8) disconnect clients who don't respond to
    server notifications.  Prevent this by sending FPGetVolParms, as the
    spec suggests.

    https://bugzilla.gnome.org/show_bug.cgi?id=734194

M	daemon/gvfsafpconnection.h
M	daemon/gvfsafpvolume.c

commit 5b4fdbeb6b1e19aa1bbc3824c5955ee2f9c1f85b
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	2014-07-31

    doap: add <programming-language>

M	gvfs.doap

commit 2481998a6e42b0a15c850a6f7c61a5471cc3e0d6
Author: Olav Vitters <olav@vitters.nl>
Date:	2014-07-30

    doap category core

M	gvfs.doap

commit 7ebbf005fb52f3b2fe362fbf297ca1557b8c09d8
Author: Rok Mandeljc <rok.mandeljc@gmail.com>
Date:	2014-07-28

    mtp: make remove_cache_entry_by_id() remove all matching entries,
    not just the first one

    With the recently added on-demand post-fixing of storage names,
    corner cases can occur in which we end up with multiple cache
    entries that have the same storage id and item id, but different
    paths.

    In particular, this happens upon change of post-fixing requirement,
    i.e., when a second storage that has same description as the first
    one is either added or removed. In such cases, the contents of the
    first storage might end up with two sets of cache entries, one where
    storage name is post-fixed and one is not. If afterwards an
    OBJECT_REMOVED event is received, only the first cache entry is
    removed, which may or may not cause Nautilus to correctly remove
    the file/folder.

    Signed-off-by: Rok Mandeljc <rok.mandeljc@gmail.com>

M	daemon/gvfsbackendmtp.c

commit 6eb6853bfca43d714f48ca5edd676feaec357326
Author: Rok Mandeljc <rok.mandeljc@gmail.com>
Date:	2014-07-28

    mtp: added support for OBJECT_ADDED event

    This patch adds support for OBJECT_ADDED event, which is emitted
    when a file or a folder is created on the device. When such an
    event is received, its path is determined by first looking up the
    parent ID and appending object's name to it; the path and IDs are
    added to cache, and create event is emitted, causing clients (for
    example Nautilus) to display the new file/folder without having to
    refresh the display of parent folder.

    Signed-off-by: Rok Mandeljc <rok.mandeljc@gmail.com>

M	daemon/gvfsbackendmtp.c

commit be000ea91e90186bb6f1031348e33d5b9025251a
Author: Philip Langdale <philipl@overt.org>
Date:	2014-07-26

    MTP: Emit delete events when unmounting.

    Although it would seem obvious that a mount disappearing should
    invalidate any file references in clients, recent versions of
    Nautilus will keep open windows around, showing all the files that
    were there at the time of the unmount.

    So, clearly we need to emit these events to get it to clean itself
    up.

M	daemon/gvfsbackendmtp.c

commit f92fbc0f481f41c04fd61fa4c061c418cc3a0c8c
Author: Rok Mandeljc <rok.mandeljc@gmail.com>
Date:	2014-07-26

    mtp: implemented support for LIBMTP_EVENT_STORE_REMOVED

    This patch adds support for LIBMTP_EVENT_STORE_REMOVED, so that if a
    storage is removed, its entry and those of its children are
    automatically removed. For each such entry, delete event is also
    emitted.

    With this patch, the corresponding storage disappears from Nautilus
    as soon as the SD card is unmounted on device. Similarly, if Nautilus
    is located in the storage or one of its sub-folders, the window gets
    properly closed after the storage is removed.

    Signed-off-by: Rok Mandeljc <rok.mandeljc@gmail.com>

M	daemon/gvfsbackendmtp.c

commit 0f84e858fd236412fda7c5d3837fefb79ac442e1
Author: Rok Mandeljc <rok.mandeljc@gmail.com>
Date:	2014-07-26

    mtp: removed the faulty g_free(new_name) at the end of
    do_set_display_name()

    The new_name string is passed to add_cache_entry(), which assumes full
    transfer; therefore, freeing the string manually causes issues further
    down the line.

    Signed-off-by: Rok Mandeljc <rok.mandeljc@gmail.com>

M	daemon/gvfsbackendmtp.c

commit 766a77bfd304b6741993527e25338480af0861cd
Author: Rok Mandeljc <rok.mandeljc@gmail.com>
Date:	2014-07-24

    mtp & gphoto2: add missing newlines at the end of debug messages

    Commit edd777b1e675f9328aa00934651b4763783930a1 modified DEBUG() macro
    and, by replacing combination of g_vfprintf(stderr, message, args) and
    g_fprintf(stderr, "\n") with a g_logv(G_LOG_DOMAIN, G_LOG_LEVEL_DEBUG,
    message, args), caused a lack of trailing newlines in debug messages.

    Signed-off-by: Rok Mandeljc <rok.mandeljc@gmail.com>

M	daemon/gvfsbackendgphoto2.c
M	daemon/gvfsbackendmtp.c

commit 449a4b878695de6e545fadaa7fe846d7deb64acc
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-07-01

    http: Use a global SoupSession rather than per-backend

    Use a global SoupSession rather than a per-backend so that idle
    connections are reused appropriately.  This prevents a process running
    out of file descriptors due to connections stuck in a CLOSE_WAIT
    state.

    It also has the side-effect of limiting the maximum number of
    concurrent
    connections because libsoup's max-conns property is respected, fixing
    bug 576460.

    (Reapplying now that #732783 and #732925 have been fixed.)

    https://bugzilla.gnome.org/show_bug.cgi?id=732090

M	daemon/gvfsbackendhttp.c

commit be4fc6f8e8a33e5d6c84d4e2959b3f6d4377f442
Author: Christophe Fergeau <cfergeau@redhat.com>
Date:	2014-07-01

    http: Remove use of SoupSessionSync/SoupSessionAsync

    Since libsoup 2.42.0, SoupSessionSync/SoupSessionAsync are deprecated,
    and replaced by direct use of SoupSession as described on
    https://developer.gnome.org/libsoup/stable/libsoup-session-porting.html

    This commit removes use of SoupSessionSync/SoupSessionAsync and
    adjusts
    the code according to the advice in the doc above:
    - we only need one SoupSession instance as sync/async calls are
      made depending on the SoupSession method we use, not depending
      on the instance type
    - SoupSession already comes with a SoupProxyResolverDefault, we don't
      need to add it ourselves
    - SoupSession already comes with a SoupContentDecoder, we don't
      need to add it ourselves
    - SoupSession:use-thread-context is now unused and always set to TRUE,
      so we don't need to change it

    To prevent any changes in behavior, we set ssl-strict to FALSE.

    (Patch updated by Ross Lagerwall)
    (Reapplying now that #732783 and #732925 have been fixed.)

    https://bugzilla.gnome.org/show_bug.cgi?id=708306
    https://bugzilla.gnome.org/show_bug.cgi?id=732090

M	daemon/gvfsbackenddav.c
M	daemon/gvfsbackendhttp.c
M	daemon/gvfsbackendhttp.h

commit 2744d498095aeca09308819bca42d0fe287523d0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:	2014-07-24

    GDaemonMount: invalidate mount cache whenever we unmount a mount

    Otherwise, the old mount info, and in particular the (D-Bus unique
    name,
    object path) pair representing it in its backend, will remain in
    the cache until the backend process exits, which could take time.
    Re-mounting and re-unmounting that mount would fail, because the
    second Unmount() call would go to the unique name and object path of
    the backend object that was destroyed by the first Unmount call,
    not the backend object that is now responsible.

    I'm using the Unmount reply rather than a signal, for thread-safety;
    the mount cache is global, so if it was listening for the Unmounted
    signal, that signal would be queued up for delivery to some
    specific main-context, call it A. If another thread did the
    umount/mount/unmount in main context B, before main context A was
    dispatched, then the invalidation would be too late to help it.

    This does not cover concurrent mount/unmount in two distinct main
    contexts without any synchronization. However, if two threads in
    main contexts B and C race to mount/unmount a share, then they're
    sometimes going to lose anyway, and there isn't a great deal that
    cache invalidation can do to help them.

M	client/gdaemonmount.c
M	client/gdaemonvfs.c
M	client/gdaemonvfs.h
M	client/gvfsdaemondbus.c

commit 64e51eb07cd6628991842c6be8eb276802b71154
Author: Rok Mandeljc <rok.mandeljc@gmail.com>
Date:	2014-07-23

    mtp: use "storage-description (hex-storage-id)" storage name format
    only when necessary

    This patch implements on-demand post-fixing of storage description
    with ID for storage name, i.e., only in cases, when description
    itself is not unique.

    Signed-off-by: Rok Mandeljc <rok.mandeljc@gmail.com>

M	daemon/gvfsbackendmtp.c

commit 8f97c9f56e7ad868393c4b344fa7b18ab6a65782
Author: Rok Mandeljc <rok.mandeljc@gmail.com>
Date:	2014-07-22

    mtp: use "storage-description (hex-storage-id)" for storage name
    instead of just "storage-description"

    Storage description by itself is not unique, thus using it for storage
    name on its own causes problems when multiple storages with the
    same description are present (i.e., only one is listed and even that
    one incorrectly referenced in some situations - [Bug 733465]). The
    proposed storage name format is used both as name and display name.

    On my TF701 with two SD cards, Nautilus now properly lists: "Internal
    storage (10001)", "SD card (20001)" and "SD card (30001)", and the
    corresponding URIs are:
    mtp://[usb:001,005]/Internal storage (10001)
    mtp://[usb:001,005]/SD card (20001)
    mtp://[usb:001,005]/SD card (30001)

    Signed-off-by: Rok Mandeljc <rok.mandeljc@gmail.com>

M	daemon/gvfsbackendmtp.c

commit 0d198d7ebab85a7fcddee036b731254556ba01f9
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2014-07-23

    Updated Norwegian bokmål translation.

M	po/nb.po

commit 30697fe32d47d3c1f5694b56b06bc93095dd8851
Author: Rok Mandeljc <rok.mandeljc@gmail.com>
Date:	2014-07-19

    mtp: in debug traces, print IDs as hexadecimal values instead of
    decimal ones

    Hexadecimal IDs are much easier to read than their decimal
    counterparts.

    Signed-off-by: Rok Mandeljc <rok.mandeljc@gmail.com>

M	daemon/gvfsbackendmtp.c

commit 64797557badcf4d8729649a981566a19095658c2
Author: Enrico Nicoletto <liverig@gmail.com>
Date:	2014-07-18

    Updated Brazilian Portuguese translation

M	po/pt_BR.po

commit 97107976fdb965a1b0f5e9a82b63c71db0c68c1e
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-07-18

    Post release version bump

M	configure.ac

commit 9c576602e1d3bbeb0a045dbc26bcf7253a3c0602
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-07-18

    Update news for 1.21.4 release

M	NEWS

commit 66582af10b29f5a94a8d437173ae396bbce84406
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-07-13

    afp: Fix race between writing and reading

    The following sequence of events is possible in GVfsAfpConnection:
    send_request_unlocked
    write_dsi_header_cb
    ... return to main loop ...
    read_dsi_header_cb
    write_command_cb

    This happens if the server sends its response before the main
    loop gets
    a chance to run since write_command_cb is executed asynchronously
    as an
    idle function.  It causes the job to hang because the request is only
    stored in the request hash table in write_command_cb and so the
    response
    is ignored when being processed because it cannot find the
    corresponding
    request.

    To fix this, store the request in the hash table before the request is
    written.

    https://bugzilla.gnome.org/show_bug.cgi?id=733133

M	daemon/gvfsafpconnection.c

commit f1dbbb14162fe458b1f374ef888ffab9e15bc1ae
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-07-16

    ftp: Only send permission bits for SITE CHMOD

    Some ftp servers give an error if more bits than just the permission
    bits are sent for SITE CHMOD so only send the permission bits.

    https://bugzilla.gnome.org/show_bug.cgi?id=733281

M	daemon/gvfsbackendftp.c

commit 198873c067452adad337155be84d17c616d22ed5
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-07-17

    Revert "http: Remove use of SoupSessionSync/SoupSessionAsync"

    This reverts commit 4b76a7e10d76b26929425dc8a392bf0cee246b98.

    Reverting for now since this has concurrency with libsoup:
    https://bugzilla.gnome.org/show_bug.cgi?id=732783
    https://bugzilla.gnome.org/show_bug.cgi?id=732925

M	daemon/gvfsbackenddav.c
M	daemon/gvfsbackendhttp.c
M	daemon/gvfsbackendhttp.h

commit 85953661f8932f6a72dcbef729140ea6e7f8f153
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-07-17

    Revert "http: Use a global SoupSession rather than per-backend"

    This reverts commit 0d32f60776b98ea360f0c0a452feaea4ae172340.

    Reverting for now since this has concurrency with libsoup:
    https://bugzilla.gnome.org/show_bug.cgi?id=732783
    https://bugzilla.gnome.org/show_bug.cgi?id=732925

M	daemon/gvfsbackendhttp.c

commit 41778e950db34e52a69e382896ede4c0216ef8c6
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-07-15

    afp: Disable Nagle's algorithm

    Disable Nagle's algorithm for the connection to the server to improve
    performance.

    Due to the backend doing a write-write-read sequence, the combination
    of
    Nagle's algorithm and TCP delayed ACKs means that the second write is
    delayed until the server's delayed ACK timer times out (40ms on
    Linux).
    This results in each request-response taking far too long causing poor
    performance.

    This patch reduces the time it takes to duplicate a directory of 10000
    small files from 21 minutes to 11 seconds.

    https://bugzilla.gnome.org/show_bug.cgi?id=733217

M	daemon/gvfsafpconnection.c

commit 9b9e4aa95c9ea3aa414541d756b838e844ce7a1e
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-07-04

    afc: Support st_birthtime

    Allow setting the created timestamp using st_birthtime, supported on
    iOS 7+.

    https://bugzilla.gnome.org/show_bug.cgi?id=732752

M	daemon/gvfsbackendafc.c

commit 1e460863f255ad48895424d87adc5381098661f7
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-07-03

    dav: don't set NULL path to avoid warnings

    Path is always non-NULL. Set a path to "/" instead of NULL.

    https://bugzilla.gnome.org/show_bug.cgi?id=732090

M	daemon/gvfsbackenddav.c

commit 26b03564d1797676392294e291d96173ff60e404
Author: Aurimas Černius <aurisc4@gmail.com>
Date:	2014-07-05

    Updated Lithuanian translation

M	po/lt.po

commit bb82ddc3bcb7cf6fe4b2f5dcbeb6ee354de196a6
Author: Yuri Myasoedov <ymyasoedov@yandex.ru>
Date:	2014-07-04

    Updated Russian translation

M	po/ru.po

commit 0d32f60776b98ea360f0c0a452feaea4ae172340
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-07-01

    http: Use a global SoupSession rather than per-backend

    Use a global SoupSession rather than a per-backend so that idle
    connections are reused appropriately.  This prevents a process running
    out of file descriptors due to connections stuck in a CLOSE_WAIT
    state.

    It also has the side-effect of limiting the maximum number of
    concurrent
    connections because libsoup's max-conns property is respected, fixing
    bug 576460.

    https://bugzilla.gnome.org/show_bug.cgi?id=732090

M	daemon/gvfsbackendhttp.c

commit 4b76a7e10d76b26929425dc8a392bf0cee246b98
Author: Christophe Fergeau <cfergeau@redhat.com>
Date:	2014-07-01

    http: Remove use of SoupSessionSync/SoupSessionAsync

    Since libsoup 2.42.0, SoupSessionSync/SoupSessionAsync are deprecated,
    and replaced by direct use of SoupSession as described on
    https://developer.gnome.org/libsoup/stable/libsoup-session-porting.html

    This commit removes use of SoupSessionSync/SoupSessionAsync and
    adjusts
    the code according to the advice in the doc above:
    - we only need one SoupSession instance as sync/async calls are
      made depending on the SoupSession method we use, not depending
      on the instance type
    - SoupSession already comes with a SoupProxyResolverDefault, we don't
      need to add it ourselves
    - SoupSession already comes with a SoupContentDecoder, we don't
      need to add it ourselves
    - SoupSession:use-thread-context is now unused and always set to TRUE,
      so we don't need to change it

    To prevent any changes in behavior, we set ssl-strict to FALSE.

    (Patch updated by Ross Lagerwall)

    https://bugzilla.gnome.org/show_bug.cgi?id=708306
    https://bugzilla.gnome.org/show_bug.cgi?id=732090

M	daemon/gvfsbackenddav.c
M	daemon/gvfsbackendhttp.c
M	daemon/gvfsbackendhttp.h

commit 22a770978aca432645ee32ffe93c14ccf359a354
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:	2014-07-01

    Updated Galician translations

M	po/gl.po

commit 578be7faa86a68eac83e90039f497e9ed1e88dc2
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-06-23

    Post release version bump

M	configure.ac

commit f1b4c824c6aac50d7915e9fb3a5e3816800e3561
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-06-23

    Update NEWS for 1.21.3 release

M	NEWS

commit 8d892e82c585e29760d0b15a3da9ed55d6cc8232
Author: Daniel Mustieles <dnaiel.mustieles@gmail.com>
Date:	2014-06-12

    Updated Spanish translation

M	po/es.po

commit ebdd9bd15502d5cad8b4f9079bb26adc6b4cf527
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-06-01

    afc: Implement standard::allocated-size

    https://bugzilla.gnome.org/show_bug.cgi?id=505042

M	daemon/gvfsbackendafc.c

commit 948ce9902c8c9a60358e7957dda63c0475a42efe
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-06-01

    smb: Implement standard::allocated-size

    https://bugzilla.gnome.org/show_bug.cgi?id=505042

M	daemon/gvfsbackendsmb.c

commit e0e8e9f440a30a93a88698b19e1909b54bcee3c5
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-05-31

    sftp: Reword connection closed error message

    Emphasize the fact that the SSH process dying is likely due to the
    network connection closing.

    https://bugzilla.gnome.org/show_bug.cgi?id=615146

M	daemon/gvfsbackendsftp.c

commit e103eba168c6e84ad51ecda0e09c3cfa18def8cc
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-05-31

    sftp: Quit more cleanly on remote shutdown

    Don't issue any operations after g_vfs_backend_force_unmount() is
    called.

    This prevents messages like the following repeated many times when the
    remote sftp-server process quits unexpectedly:
    forced_unregister_mount_callback

    ** (process:3348): WARNING **: Error unregistering mount: Mountpoint
    not
    registered (g-io-error-quark, 16)

    https://bugzilla.gnome.org/show_bug.cgi?id=731035

M	daemon/gvfsbackendsftp.c

commit dd14287060689075fd3259c4c627d20bd46b9ed2
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-06-02

    afp: Report number of bytes copied

    Report the number of bytes copied at the end since this is required by
    the g_file_copy API.  This doesn't add any overhead either since we're
    already stat()ing the source file.

    https://bugzilla.gnome.org/show_bug.cgi?id=731116

M	daemon/gvfsbackendafp.c

commit 28cb50541ffd369cd8f7630575a02c12e1cb42fc
Author: Bastien Nocera <hadess@hadess.net>
Date:	2014-06-03

    afc: Work-around mounts not disappearing when disconnecting device

    See https://bugzilla.gnome.org/show_bug.cgi?id=708288

M	daemon/gvfsbackendafc.c

commit db1a79070d3115dfa00c0f0904867447e19ee27f
Author: Bastien Nocera <hadess@hadess.net>
Date:	2013-09-18

    afc: Add version detection for iOS 6, 7 and 8

M	daemon/gvfsbackendafc.c

commit b618b5255ad2ae20fb8d85a54a3a58f189c960b5
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-05-29

    gdu: add translators comments

M	monitor/gdu/ggdumount.c

commit 18b027483f4414dc77b284e08bcb93784e7c6d49
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-05-27

    recent: Plug a few memory leaks

    https://bugzilla.gnome.org/show_bug.cgi?id=730855

M	daemon/gvfsbackendrecent.c

commit a2c0a4882356f6ab17d70be6e6276a88673d7257
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-05-27

    smb: Fail properly if set_attribute type is wrong

    If given an invalid type when setting time::modified in
    do_set_attribute, don't try and change the mtime after failing
    the job.

    https://bugzilla.gnome.org/show_bug.cgi?id=730844

M	daemon/gvfsbackendsmb.c

commit 9be61011c012db38ea73484579375999af3c4236
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-05-27

    sftp: Fail properly if set_attribute type is wrong

    If given an invalid type when setting unix::mode in try_set_attribute,
    don't try and change the mode after failing the job.

    https://bugzilla.gnome.org/show_bug.cgi?id=730844

M	daemon/gvfsbackendsftp.c

commit d17e4dbfef0b9859b7d8a149b931cf685f9b4e15
Author: Michael Cree <mcree@orcon.net.nz>
Date:	2014-04-17

    metadata: fix misaligned accesses to 64bit data

    Unfortunately the journal entries are only aligned to 32 bit
    boundaries
    but on some 64-bit RISC architectures (e.g. Alpha) this is
    insufficient
    to guarantee correct alignment of 64-bit accesses. This is not a show
    stopper but does cause inefficient traps to the kernel and pollution
    of
    kernel logs.  Rather than fix the alignment we provide a helper
    function,
    dependent on features specific to gcc, to correctly access a 64-bit
    datum
    that may be misaligned.

    https://bugzilla.gnome.org/show_bug.cgi?id=726456

M	metadata/metatree.c

commit 5aa709f89433962ea0bbd02401a2f0bb40d66120
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-05-27

    smb: Improve batching when sending enumerate GFileInfos

    Instead of creating a list of GFileInfos and sending them when the
    entire directory has been read, call g_vfs_job_enumerate_add_info
    to send them in batches (default of 50).  This simplifies the code
    and should reduce the memory usage when enumerating a large directory.

    https://bugzilla.gnome.org/show_bug.cgi?id=730856

M	daemon/gvfsbackendsmb.c

commit f77fef6733b617125b11ee354369be1b35c27325
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-05-11

    dav: Unref each GFileInfo after being added

    https://bugzilla.gnome.org/show_bug.cgi?id=729938

M	daemon/gvfsbackenddav.c

commit 2a4ea1d63f2190f519dffe503952d205e628d301
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-05-23

    Post release version bump

M	configure.ac

commit 867dd47980b5f84635f4ed612dde0829265ca1c3
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-05-23

    Update NEWS for 1.21.2 release

M	NEWS

commit 16d0cc520a68be50be0eea02dae113d3e85f3978
Author: Enrico Nicoletto <liverig@gmail.com>
Date:	2014-05-21

    Updated Brazilian Portuguese translation

M	po/pt_BR.po

commit ad0e3aeb50261a6e02581e033490e954774a99a3
Author: Yosef Or Boczko <yoseforb@src.gnome.org>
Date:	2014-05-16

    Updated Hebrew translation

M	po/he.po

commit ec4a7e7f7662a735e31b87ed8357a6b375b96ada
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	2014-05-15

    tests: Fix two pyflakes errors

M	test/gvfs-test

commit 2f83f3a4f883e33cf44e4a53549e26def7f5953d
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	2014-05-15

    tests: Fix race condition in FTP server setup

    Don't sleep for 0.5 seconds but repeatedly ping the FTP server until
    it is
    started up. Time out after 5 s.

M	test/gvfs-test

commit ee2fec7be7459b67e24b2dcd469ec95baf33f043
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	2014-05-15

    gvfs-test: Refresh gphoto umockdev ioctl

    Refresh test/files/powershot.ioctl for libgphoto 2.5.4.

M	test/files/powershot.ioctl

commit c3946eb20370bd9787d20663225761b84a6c5d40
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2014-05-10

    Updated Spanish translation

M	po/es.po

commit ea9a1af16a1e589fd24931428f4faa0d754f58c7
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-05-10

    client: Remove unneeded function declaration

    Remove function declaration whose body was removed in a68aa2319d3e.

M	client/gdaemonvfs.c

commit 84dc778fa5901f02b0b02fb258b0e401db510c85
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-05-04

    gvfs-mount: Handle the ask-question signal

    Present questions as a message and a numbered list of choices such
    that the user must enter one of the numbers.

    For example:
    """
    Can't verify the identity of ...
    This happens when you log in to a computer the first time.

    The identity sent by the remote computer is ... If you want to be
    absolutely sure it is safe to continue, contact the system
    administrator.
    [1] Log In Anyway
    [2] Cancel Login
    Choice: 1
    """

    https://bugzilla.gnome.org/show_bug.cgi?id=728959

M	programs/gvfs-mount.c

commit 46bdbf1d45962b56f4c30763fbc964890b75d79a
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-05-03

    archive: Ignore filenames consisting of a single "."

    Don't abort if a path has a component consisting of a single ".",
    just ignore that component.
    E.g. OpenCV-2.3.1/./opencv.pc.cmake.in becomes
    OpenCV-2.3.1/opencv.pc.cmake.in

    https://bugzilla.gnome.org/show_bug.cgi?id=729463

M	daemon/gvfsbackendarchive.c

commit 990b04f22c6e4d8c8cd10d74b685aaf3bcbf6049
Author: Pau Iranzo <paugnu@gmail.com>
Date:	2014-05-02

    [l10n] Update Catalan translation

M	po/ca.po

commit eb11ec725f5d2850597fc88635609474c857f6aa
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-04-05

    dav: Implement push support

    Implement push support for the webdav backend.  This allows large
    files
    to be uploaded properly without consuming large amounts of memory and
    also makes the progress bar work when uploading.

    Data is provided to libsoup in chunks, activated via the wrote_chunk
    signal.  Note that this uses content-length encoding rather than
    chunked
    encoding which is not supported by many servers.  The CAN_REBUILD flag
    is set on the SoupMessage and accumulate is set to FALSE so that
    Libsoup
    does not buffer all the data in memory at once.  This does mean
    that the
    restarted signal needs to be handled correctly by seeking to the
    beginning of the file.

    The code is written in an asynchronous fashion so that other
    operations
    are not blocked since the webdav backend is single-threaded.
    Unfortunately, this does complicate the code, especially with
    regards to
    having reads in flight and handling the restarted signal from libsoup.

    A quick benchmark writing to a tmpfs via Apache's mod_dav achieved
    just over 1GB/s.

    https://bugzilla.gnome.org/show_bug.cgi?id=570772

M	daemon/gvfsbackenddav.c

commit 9a52e2195166ed01b3c01f8c74e8a1adcaaf4b40
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-04-24

    gvfs-less: add missing man page

M	man/Makefile.am
A	man/gvfs-less.xml

commit 41790cb90f2c4b0c647ea1df211387c9effa6133
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-12-18

    recent: Implement query_info_on_read()

    Implement query_info_on_read() by proxying to the underlying stream's
    implementation.

    https://bugzilla.gnome.org/show_bug.cgi?id=720806

M	daemon/gvfsbackendrecent.c

commit d872d9ca4437c6e24948d8a730dea884c4299783
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-12-17

    trash: Implement query_info_on_read()

    Implement query_info_on_read() by proxying to the underlying stream's
    implementation.

    https://bugzilla.gnome.org/show_bug.cgi?id=720806

M	daemon/gvfsbackendtrash.c

commit 8ec1666eb2a42dad7e4bafe4545b0d945f4fbc29
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-04-19

    build: Silence automake portability warnings

    Require GNU Make for now and so silence portability warnings.

    https://bugzilla.gnome.org/show_bug.cgi?id=722354

M	configure.ac

commit a6c3c774da479a2bcbc4597b156d77b967602669
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-12-10

    build: Fix typo

    The FTP backend is always enabled regardless of the state of
    HTTP/DAV so
    don't include it in the message at the end of configure.

    https://bugzilla.gnome.org/show_bug.cgi?id=722354

M	configure.ac

commit 7db881a927d1cdaff59cc9c9c029f04db60f1531
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-12-10

    build: Require gudev >= 147

    From release 147, the gudev API was marked as stable, so require that
    version.

    https://bugzilla.gnome.org/show_bug.cgi?id=722354

M	configure.ac
M	daemon/Makefile.am
M	monitor/gphoto2/Makefile.am
M	monitor/mtp/Makefile.am

commit f9f62f9f60eb04e437f537f6619dde4c66a21647
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-04-27

    Post release version bump

M	configure.ac

commit b3e57d51613c89c7a98031260c77ec1caa1cfc5c
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-04-27

    Update NEWS for 1.21.1 release

M	NEWS

commit 3577028e66a9f9042952f5d540ae958612dce3c9
Author: Dirgita <dirgitadevina@gmail.com>
Date:	2014-04-24

    Updated Indonesian translation

M	po/id.po

commit d9b8dda613ba847b6696f58d5dccfff5bf5e0ad0
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-04-17

    gvfs-move: Show progress for interactive move

    If requested, show progress for an interactive move.

    https://bugzilla.gnome.org/show_bug.cgi?id=637543

M	programs/gvfs-move.c

commit eab4de10233923598f2b27cb0b868c723179b971
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-04-17

    gvfs-move: Improve the interactive overwrite

    Mimic the output of mv by displaying the full URI and put a space
    between the output and the user's input.  Accept either lower or
    upper-case 'y'.

    https://bugzilla.gnome.org/show_bug.cgi?id=637543

M	programs/gvfs-move.c

commit ee19f369476c6b24892bcb9b50f9041d65d570ac
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-04-17

    gvfs-move: Improve progress output

    Rather than spamming the screen with output, rate-limit the updates
    and
    make them display over each other.	Also calculate the speed of
    transfer.

    https://bugzilla.gnome.org/show_bug.cgi?id=637543

M	programs/gvfs-move.c

commit d1138fb4fe1ce8c0c13a1a8541682a0d59da50ef
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-04-17

    gvfs-copy: Show progress for interactive copy

    If requested, show progress for an interactive copy.

    https://bugzilla.gnome.org/show_bug.cgi?id=637543

M	programs/gvfs-copy.c

commit dec164fc8dc7f7395be6510cb9f600f42398fb42
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-04-17

    gvfs-copy: Improve the interactive overwrite

    Mimic the output of cp by displaying the full URI and put a space
    between the output and the user's input.
    Accept either lower or upper-case 'y'.

    https://bugzilla.gnome.org/show_bug.cgi?id=637543

M	programs/gvfs-copy.c

commit c12758233bbeef5728e1589d908106ac5d1f1417
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-04-17

    gvfs-copy: Make the progress output usable

    Rather than spamming the screen with output, rate-limit the updates
    and
    make them display over each other.

    https://bugzilla.gnome.org/show_bug.cgi?id=637543

M	programs/gvfs-copy.c

commit 57e9a7f28aac02d8f27ef15d76440a0aa4dd2973
Author: Bastien Nocera <hadess@hadess.net>
Date:	2013-09-18

    afc: Check for iOS >= 3.1.2 to enable house arrest

    https://bugzilla.gnome.org/show_bug.cgi?id=676187

M	monitor/afc/afcvolume.c

commit cce606379c3ebd3f8bf8c5a602a7b34a0d84e087
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-02-19

    ftp: clear queue when mount fails

M	daemon/gvfsbackendftp.c

commit 6e72d1870dd9401dc5479e7bd40fb112b448dda1
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-03-27

    tests: use "#!/usr/bin/env python3" to be more portable

    https://bugzilla.gnome.org/show_bug.cgi?id=726911

M	test/gvfs-test
M	test/test_polkitd.py

commit b4387906ba3d5e73025e19245b5058e0db17c84f
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-03-26

    dav: Use the native MOVE operation for moving

    This saves unnecessary round trips when moving files and directories.
    Based on a patch by Mads Chr. Olesen and the GLocalFile
    implementation.

    Backups are not yet implemented.  It tries to cover the various
    cases of
    overwriting files with directories and vice versa by doing what
    GLocalFile does.  Notably, webdav servers are capable of overwriting a
    directory with a file which is not a supported operation for
    g_file_move, while at least Apache's mod_dav gives a generic 400 Bad
    Request when trying to overwrite a file with a directory.

    https://bugzilla.gnome.org/show_bug.cgi?id=572786

M	daemon/gvfsbackenddav.c

commit 54cc808258ecafbb81f62526e57c170cca15ac3d
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-04-11

    Add goa-volume-monitor to gitignore

A	monitor/goa/.gitignore

commit e7795959f88872d1231c322a45d16264ada9f997
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-03-23

    run-in-tree.sh: Use sh rather than bash

    We don't really on bash-specific features so use /bin/sh rather than
    /bin/bash.

    https://bugzilla.gnome.org/show_bug.cgi?id=726911

M	test/run-in-tree.sh

commit a3d3074363cd271c94dd10606d7a9953625632da
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-03-25

    client: Return NULL if set_display_name() fails

    Return NULL as per the documentation rather than returning the
    original
    file.  This prevents errors like the following, where "Permission
    Denied" should be displayed:
    $ gvfs-rename smb://localhost/tmp/cat dog
    Rename successful. New uri: smb://localhost/tmp/cat

    (gvfs-rename:1385): GLib-GObject-CRITICAL **: g_object_unref:
    assertion
    'G_IS_OBJECT (object)' failed

    https://bugzilla.gnome.org/show_bug.cgi?id=727007

M	client/gdaemonfile.c

commit a29366193100de48df416c07f96daf7b84ee8f30
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-03-27

    Report gvfs version when --version is used

    https://bugzilla.gnome.org/show_bug.cgi?id=727132

M	daemon/main.c
M	man/gvfs-cat.xml
M	man/gvfs-copy.xml
M	man/gvfs-info.xml
M	man/gvfs-ls.xml
M	man/gvfs-mime.xml
M	man/gvfs-mkdir.xml
M	man/gvfs-monitor-dir.xml
M	man/gvfs-monitor-file.xml
M	man/gvfs-mount.xml
M	man/gvfs-move.xml
M	man/gvfs-open.xml
M	man/gvfs-rename.xml
M	man/gvfs-rm.xml
M	man/gvfs-save.xml
M	man/gvfs-set-attribute.xml
M	man/gvfs-trash.xml
M	man/gvfs-tree.xml
M	man/gvfsd-metadata.xml
M	man/gvfsd.xml
M	metadata/meta-daemon.c
M	programs/gvfs-cat.c
M	programs/gvfs-copy.c
M	programs/gvfs-info.c
M	programs/gvfs-ls.c
M	programs/gvfs-mime.c
M	programs/gvfs-mkdir.c
M	programs/gvfs-monitor-dir.c
M	programs/gvfs-monitor-file.c
M	programs/gvfs-mount.c
M	programs/gvfs-move.c
M	programs/gvfs-open.c
M	programs/gvfs-rename.c
M	programs/gvfs-rm.c
M	programs/gvfs-save.c
M	programs/gvfs-set-attribute.c
M	programs/gvfs-trash.c
M	programs/gvfs-tree.c

commit 208cf642ca1a070e5695c23afecea40740052a75
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-04-05

    Unify error conversion in http and dav backends

    Have a single function which converts libsoup error codes to gio error
    codes rather than one in each backend.

    https://bugzilla.gnome.org/show_bug.cgi?id=536305

M	daemon/gvfsbackenddav.c
M	daemon/gvfsbackendhttp.c
M	daemon/gvfsbackendhttp.h

commit 9fe664597834114e8a42dbe09c3b2395affd272b
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-04-10

    fuse: Set permissions from UNIX mode when available

    If the GFileInfo has a UNIX mode available, use that for setting
    permissions.  This prevents programs like vim from losing permissions
    when saving a file.

    https://bugzilla.gnome.org/show_bug.cgi?id=727996

M	client/gvfsfusedaemon.c

commit 43a9b93d925be2d12e988374d733d86a94191453
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-04-11

    Post branch version bump

M	configure.ac

commit cc9e1249b08e1db213baaddb77914f5394bffb69
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-04-06

    proxy volume monitor: Fix invalid read

    When g_bus_unwatch_name () is called, it frees the associated
    Client and
    so the name variable becomes invalid.  So, ensure that nothing
    uses the
    name variable after this call.

    https://bugzilla.gnome.org/show_bug.cgi?id=710679

M	monitor/proxy/gvfsproxyvolumemonitordaemon.c

commit 8d6a969c21d70ac389b84ab0b39d3506ea0fe568
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	2014-04-06

    doap: update URLs

M	gvfs.doap

commit 449fd42ad5d8bc717c024e51f71bd8e913009025
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-03-24

    smb: Give correct error when unlink fails while closing file

    When closing a file that is overwriting another file, don't ignore the
    error message when unlinking the old file.	This is important when
    unlinking fails due to a permission denied error but the error message
    that was being returned was File Exists (from the subsequent rename).

    https://bugzilla.gnome.org/show_bug.cgi?id=726998

M	daemon/gvfsbackendsmb.c

commit 1d944bcd1fcd1e4a8afb26758c98fa3b72786798
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-04-01

    gvfs-tree: End GOptionEntry array with NULL

    Prevent a segfault (revealed on OpenBSD) by null-terminating the
    GOptionEntry array.

    https://bugzilla.gnome.org/show_bug.cgi?id=727447

M	programs/gvfs-tree.c

commit f0b77b600621da2b286954bc74472d09c1c8df42
Author: Inaki Larranaga Murgoitio <dooteo@zundan.com>
Date:	2014-03-30

    Updated Basque language

M	po/eu.po

commit 50af53dad6c6d6df4ba03ac04a6c6c76d2ba2337
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-03-16

    dav: Unescape URIs before comparing them for equality

    In some instances (e.g. Apache), gvfs uses percent encodings like %2A
    while Apache returns redirections encoded like %2a.  This makes
    redirections fail when non-ascii characters are used in the path.

    https://bugzilla.gnome.org/show_bug.cgi?id=721543

M	daemon/gvfsbackenddav.c

commit a77cdbac08ca1ff17aeba2323a610a61101387db
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-03-20

    common: use nl_langinfo constants conditionally

    The _NL_ADDRESS_LANG_TERM and _NL_ADDRESS_COUNTRY_AB3 aren't portable.

    https://bugzilla.gnome.org/show_bug.cgi?id=726707

M	common/gvfsmountinfo.c
M	configure.ac

commit 58b39924ccbcfb2809186432dc1c63a3d040bab5
Author: Petr Kovar <pkovar@redhat.com>
Date:	2014-03-23

    Update Czech translation

M	po/cs.po

commit 4c1ba096790a8978450db881f42f5ee56f279e11
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	2014-03-21

    Updated Slovenian translation

M	po/sl.po

commit 28dea2f80c63c670052a03015c8c62c8ae4db4ab
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-03-21

    Post release version bump

M	configure.ac

commit 20f3cd2d81b13257836164535e9fb70f2d617818
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-03-21

    Update NEWS for 1.20.0 release

M	NEWS
M	configure.ac

commit 34dc8bdcc2b26a0e15691b81e575b4796dd1f0b2
Author: Andika Triwidada <andika@gmail.com>
Date:	2014-03-21

    Updated Indonesian translation

M	po/id.po

commit 8f8ed94a93bcf161bd575b57e01154e29c1be834
Author: Мирослав Николић <miroslavnikolic@rocketmail.com>
Date:	2014-03-21

    Updated Serbian translation

M	po/sr.po
M	po/sr@latin.po

commit 5e83a587f0a4d8b1f12747125bc322bc26a5ae30
Author: Gábor Kelemen <kelemeng@gnome.hu>
Date:	2014-03-19

    Updated Hungarian translation

M	po/hu.po

commit 8d28f3ff7d568f5380869c0b6f60d21fdc00981d
Author: Ask H. Larsen <asklarsen@gmail.com>
Date:	2014-03-19

    Updated Danish translation

M	po/da.po

commit dc5385738c9ae1a23ec29a7aa44e8e6a2d14b29a
Author: A S Alam <apreet.alam@gmail.com>
Date:	2014-03-17

    update Punjabi Translation 17March2014: Alam

M	po/pa.po

commit 1c535f4f113df57ef29a987066caf40c93870dd7
Author: Tiagosdot <almosthumane@portugalmail.pt>
Date:	2014-03-12

    Updated Portuguese translation

M	po/pt.po

commit 49d21160cae817bcbc5c646c4659d7428b4389a9
Author: Wylmer Wang <wantinghard@gmail.com>
Date:	2014-03-08

    Updated Chinese (China) translation

M	po/zh_CN.po

commit f6b9bfb180f8e1bfc4f64ece0bff27bd3370a9c5
Author: Rūdolfs Mazurs <rudolfsm@src.gnome.org>
Date:	2014-03-07

    Updated Latvian translation

M	po/lv.po

commit f335a45875ffb91e95bfd3063bf03371056a6f1a
Author: Changwoo Ryu <cwryu@debian.org>
Date:	2014-03-07

    Updated Korean translation

M	po/ko.po

commit 79bdd3ea3690c366b05846ff7d4bbc4b05ac3d15
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-03-06

    build: add missing libraries to fix linking issues

    Building gvfs in clean chroot fails without those libraries.

M	daemon/Makefile.am

commit ee320becd3f43f6d238558eaefbc85fbf6afadbc
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	2014-03-03

    Updated Polish translation

M	po/pl.po

commit 1c7754071d64cc0c5fe3b11cc08e1f26cdb52ab0
Author: Aurimas Černius <aurisc4@gmail.com>
Date:	2014-02-21

    Updated Lithuanian translation

M	po/lt.po

commit 303bcce021d1ec89785628d6f8b37b3db7296168
Author: Claude Paroz <claude@2xlibre.net>
Date:	2014-02-21

    Updated French translation

M	po/fr.po

commit d9fdfc8518eca32cdb2c76013f01f42c13644233
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-02-17

    Post release version bump

M	configure.ac

commit 4c20896b044ee42d05906b419eaeb0494bc8b3f7
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-02-17

    Update NEWS for 1.19.90 release

M	NEWS

commit b688fc459dcd80ccf582f9e2e3759d8c70cc64d7
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-02-17

    Change version to 1.19.90

M	configure.ac

commit 510a6dcfc74bd412ce478d3a458ddcbbd40f2c2c
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-02-13

    smb: set context to NULL after it has been freed

    https://bugzilla.gnome.org/show_bug.cgi?id=710986

M	daemon/gvfsbackendsmb.c

commit 2f112685db58a7ff54361f18917e4769ba677d30
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2014-02-10

    Updated Norwegian bokmål translation

M	po/nb.po

commit edd777b1e675f9328aa00934651b4763783930a1
Author: Giovanni Campagna <gcampagna@src.gnome.org>
Date:	2014-01-29

    various: reduce the verboseness of debug messages

    With a recent enough dbus-daemon (or with kdbus), the standard
    error of dbus activated services is sent to the journal, so
    we should not pollute it with debug messages by default.

    https://bugzilla.gnome.org/show_bug.cgi?id=723251

M	daemon/gvfsbackendgphoto2.c
M	daemon/gvfsbackendmtp.c

commit ed451a1c8307f3b02f2d4aa9f3bd691e3c0a2f0e
Author: Giovanni Campagna <gcampagna@src.gnome.org>
Date:	2014-01-29

    mtpvolume: implement symbolic icons

    The places sidebar in nautilus and the places menu in the shell
    use symbolic icons exclusively, so make sure one is provided, to
    avoid falling back to a generic "network mount" icon.

    https://bugzilla.gnome.org/show_bug.cgi?id=723251

M	monitor/mtp/gmtpvolume.c

commit 8a1d6a00889fea35889a939c228edec38bf0955b
Author: Giovanni Campagna <gcampagna@src.gnome.org>
Date:	2014-01-29

    mtpvolume: improve volume name

    Replace _ and - with spaces, and apply that pass on
    the product string too.

    https://bugzilla.gnome.org/show_bug.cgi?id=723251

M	monitor/mtp/gmtpvolume.c

commit 5076749384dd769b16025c1cc8281772bf8a0c8d
Author: Giovanni Campagna <gcampagna@src.gnome.org>
Date:	2014-01-29

    mtpvolume: fix a memory leak

    Make the buffer really static, as the comment above documents.

    https://bugzilla.gnome.org/show_bug.cgi?id=723251

M	monitor/mtp/gmtpvolume.c

commit 0888a45453393b9c94e36f4929ea939925ce1f83
Author: Shankar Prasad <prasad.mvs@gmail.com>
Date:	2014-02-05

    updated kn.po

M	po/kn.po

commit 01fe5a61c01a1b4ad24a2cb6a280183cc774de4b
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-02-02

    Revert "trash: Don't use try_ for blocking methods"

    This reverts commit 052682c8a22bf8d7c86fb0f086a119dd7fec4c6b.

    This may have caused a race condition causing failed assertions; since
    it is not important, revert for now.

    https://bugzilla.gnome.org/show_bug.cgi?id=723305

M	daemon/gvfsbackendtrash.c

commit 2da3f4ac1ff7f9debdd10d50ed0b4f3e627f4bad
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:	2014-02-02

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

M	po/zh_HK.po
M	po/zh_TW.po

commit fe5787cb19b02f0cd07baf9fbe389d55fde61d00
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-01-30

    Post release version bump

M	configure.ac

commit c3e2874e8d085c713f9e41b7194b19ac49880d78
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-01-30

    Update NEWS for 1.19.5 release

M	NEWS

commit 82af6b545f99ad738e8e2f1f8f468a0232f043a4
Author: Yosef Or Boczko <yoseforb@src.gnome.org>
Date:	2014-01-26

    Updated Hebrew translation

    Signed-off-by: Yosef Or Boczko <yoseforb@src.gnome.org>

M	po/he.po

commit df197ee8bf5900adc67a6298bbb8f6e5d4ce41df
Author: Nilamdyuti Goswami <ngoswami@redhat.com>
Date:	2014-01-23

    Assamese translation updated

M	po/as.po

commit 2909ef002746201a83922fdd1c5efad6766347f8
Author: Antoine Jacoutot <ajacoutot@gnome.org>
Date:	2014-01-23

    gvfsdaemon: properly remove socket_dir

    When not using abstract sockets, gvfs tries to rmdir the socket
    directory but it still contains the socket so the call fails.
    We now make sure to remove the socket first.

    https://bugzilla.gnome.org/show_bug.cgi?id=720482

M	daemon/gvfsdaemon.c

commit 9a114917fd19cc7225df10765de2ead036a4d080
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2014-01-08

    Remove obsolete address info for the LGPL

    https://bugzilla.gnome.org/show_bug.cgi?id=721510

M	common/org.gtk.vfs.xml
M	daemon/gvfsafptypes.h
M	daemon/gvfsbackendmtp.c
M	daemon/gvfsbackendmtp.h
M	daemon/gvfsjobprogress.c
M	daemon/gvfsjobprogress.h
M	monitor/mtp/gmtpvolume.c
M	monitor/mtp/gmtpvolume.h
M	monitor/mtp/gmtpvolumemonitor.c
M	monitor/mtp/gmtpvolumemonitor.h
M	monitor/mtp/mtp-volume-monitor-daemon.c

commit 947ca911a6e522f8158dfb007cd306ce40d1266c
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-12-30

    ftp: Set etag::value

    Set etag::value based on the file's modification time.

    https://bugzilla.gnome.org/show_bug.cgi?id=721234

M	daemon/gvfsftpdircache.c

commit cf884c045b939f2ec148ae0b9c69d123b55fef4e
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-12-03

    ftp: Remove custom progress callback rate limiting

    https://bugzilla.gnome.org/show_bug.cgi?id=719807

M	daemon/gvfsbackendftp.c

commit 44b66a906c302bd1340fe22b0f6d39f7be6f403e
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-12-03

    daemon: Rate limit progress callbacks

    To prevent flooding the dbus daemon with messages, rate limit the
    progress callbacks to 10 per second (i.e. every 100 milliseconds).

    https://bugzilla.gnome.org/show_bug.cgi?id=719807

M	daemon/gvfsjobprogress.c
M	daemon/gvfsjobprogress.h

commit 31129df79b1f86ccd8fa1a01936fdfa6bc98e83b
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-12-17

    daemon: Set infinite timeout for enumerate response

    Set an infinite timeout for responses to enumerate() otherwise it can
    timeout when enumerating large, slow directories.

    https://bugzilla.gnome.org/show_bug.cgi?id=598092

M	daemon/gvfsjobenumerate.c

commit 5de780f7d7ca5ef3d930c050fa6f57c8d3f0ebdf
Author: Giovanni Campagna <gcampagna@src.gnome.org>
Date:	2014-01-04

    client: remove GVfsUriMountInfo

    This structure is too similar to GMountSpec to deserve a presence
    (it's essentially a GMountSpec with a path). By removing it we
    can remove some code and avoid wasteful allocations in sensitive
    paths such as creating and traversing GFiles.

    https://bugzilla.gnome.org/show_bug.cgi?id=721461

M	client/afpuri.c
M	client/gdaemonvfs.c
M	client/gvfsurimapper.c
M	client/gvfsurimapper.h
M	client/httpuri.c
M	client/smburi.c
M	common/gmountspec.c
M	common/gmountspec.h

commit afd78d3945e383501e91ebf0a2845a075869a046
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-01-17

    build: append missing flags in the _CPPFLAGS variables

    https://bugzilla.gnome.org/show_bug.cgi?id=722354

M	daemon/Makefile.am

commit 9f5585c3d73e7013ad4e9b0e065e75646daf1bc6
Author: Antoine Jacoutot <ajacoutot@gnome.org>
Date:	2014-01-15

    sftp: force openpty(3) on BSD

    Implementation of grantpt() and unlockpt() on FreeBSD and OpenBSD does
    not conform to IEEE Std 1003.1-2008 (``POSIX.1'') so force using the
    openpty(3) code path so that the key fingerprint and login/password
    dialogs instead of just failing or falling back to SSH_ASKPASS.

    https://bugzilla.gnome.org/show_bug.cgi?id=722001

M	daemon/pty_open.c

commit 41994e8c32fb8a3a4fe9c441b1a57ac1d8fd2f1e
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-01-16

    build: replace obsolete INCLUDES by CPPFLAGS

    https://bugzilla.gnome.org/show_bug.cgi?id=722354

M	client/Makefile.am
M	common/Makefile.am
M	daemon/Makefile.am
M	metadata/Makefile.am
M	programs/Makefile.am

commit 05218230f58891d8b87a56256452ca8342a77972
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-01-16

    build: remove unused --enable-maintainer-mode option

    https://bugzilla.gnome.org/show_bug.cgi?id=722354

M	autogen.sh

commit a9631828c2c9a34f1e35b697f3c0ac554e1ad6d6
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2014-01-16

    build: Update for test file renaming

    files/powershot.ioctl.xz → files/powershot.ioctl, after the
    previous commit.

M	test/Makefile.am

commit 3d604a874bf6aed39751b6daf87dfa81faf75488
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2014-01-16

    gvfs-test: Refresh gphoto umockdev ioctl

    Refresh test/files/powershot.ioctl, now with gvfs 1.9.4 and libgphoto
    2.5.3.

    Stop storing it xz compressed; it's not that big, and xz makes it
    impossible to
    patch files in distro packages.

A	test/files/powershot.ioctl
D	test/files/powershot.ioctl.xz
M	test/gvfs-test

commit 99ba8aa6c24b00eb84c48343ca2880d6af31f2cc
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-01-13

    Post release version bump

M	configure.ac

commit e33c58c8e3fdf28b792df6e718e3b5fc9c5f2bb3
Author: Ondrej Holy <oholy@redhat.com>
Date:	2014-01-13

    Update NEWS for 1.19.4 release

M	NEWS

commit 686776f1a6f932e7751069715d9693e00f672b5c
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-12-08

    dav: Implement truncate for output streams

    https://bugzilla.gnome.org/show_bug.cgi?id=720062

M	daemon/gvfsbackenddav.c

commit 336aae5e9c9cb718ac83df0938f7563a33d7f063
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-12-08

    dav: Implement seek for output streams

    https://bugzilla.gnome.org/show_bug.cgi?id=720062

M	daemon/gvfsbackenddav.c

commit 052682c8a22bf8d7c86fb0f086a119dd7fec4c6b
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-12-17

    trash: Don't use try_ for blocking methods

    Don't use the try_ variants of the GVfsBackend methods for methods
    that
    could block.

    https://bugzilla.gnome.org/show_bug.cgi?id=720589

M	daemon/gvfsbackendtrash.c

commit f0d54548d7f8fd92a0bdb4dfc16abc924d9e1c5e
Author: Dimitris Spingos <dmtrs32@gmail.com>
Date:	2014-01-07

    Updated Greek translation

M	po/el.po

commit 4ffe7f54444d70b3265070191fff46c06fe104ce
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-12-19

    afp: Don't crash when opening the root directory

    Previously, opening the root directory would generate an error
    and cause
    the backend to abort:
	backend_dbus_handler org.gtk.vfs.Mount:OpenForRead
	Queued new job 0xba4350 (GVfsJobOpenForRead)

	** (process:6778): CRITICAL **: g_vfs_afp_volume_open_fork_finish:
	assertion 'g_simple_async_result_is_valid (res, G_OBJECT (volume),
	g_vfs_afp_volume_open_fork)' failed

	(process:6778): GLib-CRITICAL **: g_error_copy: assertion
	'error !=
	NULL' failed

    Instead, remove the special-casing for the root directory since it is
    handled correctly anyway.

    https://bugzilla.gnome.org/show_bug.cgi?id=720743

M	daemon/gvfsafpvolume.c

commit 86162bbe4b09f517b551ff1c9207a119e91ab733
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-11-08

    gphoto2: Implement pull support

    Make use of gp_file_new_from_fd() to copy the file from the device
    straight to the local file without copying it into memory first.  This
    fixes memory usage issues with copying large videos off devices.

    A positive side effect is that the progress bar now behaves correctly
    when copying a large file.

    https://bugzilla.gnome.org/show_bug.cgi?id=642814

M	daemon/gvfsbackendgphoto2.c

commit 03535e34805f32d29a193e7a1897b52ae60a617e
Author: Rafael Ferreira <rafael.f.f1@gmail.com>
Date:	2014-01-02

    Updated Brazilian Portuguese translation

M	po/pt_BR.po

commit 28cf48f6ea1cd6885b7853aa3b430d5ab846c3ab
Author: Benjamin Otte <otte@redhat.com>
Date:	2013-12-21

    ftp: Always close data connections when done

    Opening data connections is a complex process and can fail in multiple
    stages. Instead of requiring the code to close them manually and
    throwing assertions when that doesn't work we just clean up after all
    jobs automatically.

    https://bugzilla.gnome.org/show_bug.cgi?id=711865

M	daemon/gvfsftptask.c

commit 490b23019fa1ae2744bb1efc9b620485343bcfb4
Author: Yuri Myasoedov <ymyasoedov@yandex.ru>
Date:	2013-12-19

    Updated Russian translation

M	po/ru.po

commit 9947ff5ecbd4782d57729368e53105844ed0c6ec
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:	2013-12-19

    Updated Galician translations

M	po/gl.po

commit 7fb61822761fdb40c833695aba61c72e3d9baea1
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-12-13

    Post release version bump

M	configure.ac

commit 80c024f5fb3b322f7420e4f6b923d096aca95e22
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-12-13

    Update NEWS for 1.19.3 release

M	NEWS

commit e6353d86379e7b274f4c8f4cb17e73bf60780adc
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-12-13

    Do not dist removed old libsmb-compat.h.

M	daemon/Makefile.am

commit 9ec8f2e84e97831d1ce97d8daa7b590349e08415
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-12-05

    Convert libgvfscommon to a private shared library

    Convert libgvfscommon to a private shared library since it is not used
    by anything outside of the libdir.	Also, don't version it.

    https://bugzilla.gnome.org/show_bug.cgi?id=561187

M	common/Makefile.am

commit db599e514ff179f7ec4f653f1d3941b50b720ea8
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-10-28

    Convert libdaemon to a private shared library

    Convert libdaemon to be a private shared library called libgvfsdaemon,
    much like libgvfscommon.  It has the benefit of reducing the binary
    size of each daemon by between 100 and 200KB and reduces the memory
    footprint if using several backends at the same time.

    https://bugzilla.gnome.org/show_bug.cgi?id=561187

M	daemon/Makefile.am

commit 20f1c7197173816490a6196c776793d77791e1f1
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-12-11

    dav: Set the is_hidden property for files starting with a '.'

    https://bugzilla.gnome.org/show_bug.cgi?id=720275

M	daemon/gvfsbackenddav.c

commit 597637b4a2ac9fe797881c43db986e46aad44c6c
Author: Milo Casagrande <milo@ubuntu.com>
Date:	2013-12-11

    [l10n] Updated Italian translation.

M	po/it.po

commit b747b08f765e28c7e3b910d49c98d3440f3de12e
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2013-12-09

    Updated Spanish translation

M	po/es.po

commit dd03740d26da5d730d91c2c9bec3257b009380a4
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-12-09

    afp: Remove unused variable

    Remove a set but not used variable caused by 91cf41328a2d (afp: Don't
    free the handle if truncate fails).

M	daemon/gvfsbackendafp.c

commit fbcd75035e89c9431c9e1512e02e54ac8b5200d0
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-12-08

    http: Allow seek past end of file

    Handle a read after a seek past the end of the file by ignoring the
    requested range not satisfiable http error (416) and simply
    returning 0.

    https://bugzilla.gnome.org/show_bug.cgi?id=710534

M	daemon/gvfshttpinputstream.c

commit 7e0f96133ca897640be51c3f4039dd90188357da
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-12-08

    http: Fix the SEEK_END offset calculation

    Fix the SEEK_END offset calculation by reversing the sign of
    offset and
    taking into account the offset of the previous seek.

    https://bugzilla.gnome.org/show_bug.cgi?id=710534

M	daemon/gvfshttpinputstream.c

commit 06b5820152e6b4647ef63cc2498511fbed6d4806
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-12-08

    http: Ensure the range header is updated

    Ensure that the range header is updated every time ensure_request() is
    called in case it has been updated.

    https://bugzilla.gnome.org/show_bug.cgi?id=710534

M	daemon/gvfshttpinputstream.c

commit 0ea226568dec4ff8738c835e68dce3c98501cefb
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-12-08

    http: Fix segfault when seeking on read

    Previously, the dav backend would segfault when reading after a seek
    (or
    also if you did a read_async() without an explicit send()/send_async()
    first) because the stream from soup_request_send_finish() was
    not being
    stored, so store it.

    https://bugzilla.gnome.org/show_bug.cgi?id=710534

M	daemon/gvfshttpinputstream.c

commit 02144460d8af7de84e5b1be071a84adc866f283f
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	2013-12-06

    Updated POTFILES.in

M	po/POTFILES.in

commit 91cf41328a2df886ec59c533ffa4991f92059e59
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-12-06

    afp: Don't free the handle if truncate fails

    https://bugzilla.gnome.org/show_bug.cgi?id=573837

M	daemon/gvfsbackendafp.c

commit 249711ae216e03ee88ac8e74904ff55a29674a31
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-12-01

    gphoto2: Don't release the device multiple times

    If an error occurs during mounting, don't explicitly release the
    device
    because it is released anyway during finalize().

    https://bugzilla.gnome.org/show_bug.cgi?id=706224

M	daemon/gvfsbackendgphoto2.c

commit d274d614677ad987d795925d7f15cab582b9e17d
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-11-13

    gphoto2: Implement truncate support for output streams

    https://bugzilla.gnome.org/show_bug.cgi?id=573837

M	daemon/gvfsbackendgphoto2.c

commit 07d802db0b73fc345a53db3c6d65d9912f9cbb5a
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-10-18

    mtp: Implement truncate support for output streams

    https://bugzilla.gnome.org/show_bug.cgi?id=573837

M	daemon/gvfsbackendmtp.c

commit 8a717606329e1a4edfee67f2d01cba5a1a81e405
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-10-17

    afc: Implement truncate support for output streams

    https://bugzilla.gnome.org/show_bug.cgi?id=573837

M	daemon/gvfsbackendafc.c

commit d8b214af8a28896bcbba2530bebcbbd7d59084f3
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-10-17

    afp: Implement truncate support for output streams

    https://bugzilla.gnome.org/show_bug.cgi?id=573837

M	daemon/gvfsbackendafp.c

commit 41602b74d507a7945454431e55ad9a0b56c2c903
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-10-17

    sftp: Implement truncate support for output streams

    https://bugzilla.gnome.org/show_bug.cgi?id=573837

M	daemon/gvfsbackendsftp.c

commit 6e5786f4368e7124ce316dafd607d3306c05ea11
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-10-17

    smb: Implement truncate support for output streams

    https://bugzilla.gnome.org/show_bug.cgi?id=573837

M	daemon/gvfsbackendsmb.c

commit ad521f604df7aad2dacf993942b257e93fda203b
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-10-17

    Require libsmbclient from Samba 3.4.0 or higher

    Also remove the old libsmb-compat.h header file.

    https://bugzilla.gnome.org/show_bug.cgi?id=573837

M	configure.ac
M	daemon/gvfsbackendsmb.c
M	daemon/gvfsbackendsmbbrowse.c
D	daemon/libsmb-compat.h

commit c1dc110ff36297caa61747e1e59a8d9ca85a07b3
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-10-17

    localtest: Implement truncate support for output streams

    https://bugzilla.gnome.org/show_bug.cgi?id=573837

M	daemon/gvfsbackendlocaltest.c
M	daemon/gvfsbackendlocaltest.h

commit c3b6615e95bd213beab32d90a8bf38f1b221a8b4
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-10-17

    Implement truncate support for output streams

    Backends receive a TRUNCATE message which contains a size parameter.
    Truncation is signaled with a TRUNCATED message (which contains
    no other
    useful information).

    In more detail:
    Add a new dbus method, OpenForWriteFlags, which has a flags
    parameter to
    implement can_seek and can_truncate.  These flags are used in
    GDaemonFileOutputStream.  Compatability with old clients is
    maintained.
    Implement the can_truncate and truncate_fn GDaemonFileOutputStream
    methods.
    Add two new message types to the daemon socket protocol:
	G_VFS_DAEMON_SOCKET_PROTOCOL_REQUEST_TRUNCATE
	G_VFS_DAEMON_SOCKET_PROTOCOL_REPLY_TRUNCATED
    Add a new job type, GVfsJobTruncate.
    Add two new methods to GVfsBackend which backend classes can
    implement:
    truncate and try_truncate

    https://bugzilla.gnome.org/show_bug.cgi?id=573837

M	client/gdaemonfile.c
M	client/gdaemonfileoutputstream.c
M	client/gdaemonfileoutputstream.h
M	common/gvfsdaemonprotocol.h
M	common/org.gtk.vfs.xml
M	daemon/Makefile.am
M	daemon/gvfsbackend.c
M	daemon/gvfsbackend.h
M	daemon/gvfsjobopenforwrite.c
M	daemon/gvfsjobopenforwrite.h
A	daemon/gvfsjobtruncate.c
A	daemon/gvfsjobtruncate.h
M	daemon/gvfswritechannel.c
M	daemon/gvfswritechannel.h

commit 444a63d09fdaf4db8124801ec6f4ff26ca3c7c0e
Author: Christophe Fergeau <cfergeau@redhat.com>
Date:	2013-09-18

    http: Remove trailing whitespace

    https://bugzilla.gnome.org/show_bug.cgi?id=708306

M	daemon/gvfsbackendhttp.c

commit 1371818a79746fe1a40644f7d1b93d9c4c80187f
Author: Philip Langdale <philipl@overt.org>
Date:	2013-11-30

    MTP: Fix compilation warning.

    https://bugzilla.gnome.org/show_bug.cgi?id=715119

M	daemon/gvfsbackendmtp.c

commit 2a775f07fc75df89d4452cf4fcbf20034573316d
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-11-18

    client: Use the correct enumeration constant

    https://bugzilla.gnome.org/show_bug.cgi?id=712382

M	client/gvfsdaemondbus.c

commit 592cfc134ae83e18c5806617a18810cbecb95a20
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-11-18

    udisks2: Initialize variables to prevent them being used uninitialized

    https://bugzilla.gnome.org/show_bug.cgi?id=712382

M	monitor/udisks2/gvfsudisks2volume.c

commit 4be2b2ed73422e2a8ae2a84bc9df7115e01cc78b
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-11-18

    Make file-local functions static

    This silences some warnings.

    https://bugzilla.gnome.org/show_bug.cgi?id=712382

M	daemon/gvfsbackendmtp.c
M	daemon/gvfskeyring.c

commit 0790a32bb8868cf3b471d76c7a23f2fcf433e85d
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-11-18

    udisks2: Compile function only if we have udisks >= 2.0.90

    https://bugzilla.gnome.org/show_bug.cgi?id=712382

M	monitor/udisks2/gvfsudisks2drive.c
M	monitor/udisks2/gvfsudisks2volume.c

commit 17fc415acc2a6b69cd03951f636692763b23ce41
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-11-18

    udisks2: Define SECRET_API_SUBJECT_TO_CHANGE to silence warning

    https://bugzilla.gnome.org/show_bug.cgi?id=712382

M	monitor/udisks2/gvfsudisks2volume.c

commit 8227b7cc872a067d6149c1f4eb8053382f73b3b2
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-11-18

    fuse: Remove duplicate assignment

    https://bugzilla.gnome.org/show_bug.cgi?id=712382

M	client/gvfsfusedaemon.c

commit da8daebe5cf91c2a02a6adf0b8ccd4c56af5029d
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-10-23

    sftp: Implement try_query_fs_info using the OpenSSH statvfs extension

    Use the statvfs command from OpenSSH to fill in the filesystem size,
    free and used attributes as well as whether the filesystem is readonly
    or not.

    The extension is defined at http://api.libssh.org/rfc/PROTOCOL.
    The extension is signified by the name "statvfs@openssh.com" with a
    version of "2".

    Based on a patch Alban Browaeys.

    https://bugzilla.gnome.org/show_bug.cgi?id=549207

M	daemon/gvfsbackendsftp.c
M	daemon/sftp.h

commit 304ea0b47d80018ec49712677f5090feeb7a8c24
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-11-19

    dav: Report number of bytes used on the filesystem

    Report the number of bytes used by exposing the "quota-used-bytes"
    property.

    https://bugzilla.gnome.org/show_bug.cgi?id=712654

M	daemon/gvfsbackenddav.c

commit 159ef25cbe37176a9b2e1861fbf66a826097d19c
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-11-18

    gphoto2: Return the correct offset when seeking

    https://bugzilla.gnome.org/show_bug.cgi?id=712601

M	daemon/gvfsbackendgphoto2.c

commit 460e8ae14eb0eb44cd06dd176f56737307d96408
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2013-11-29

    Updated Spanish translation

M	po/es.po

commit 6b54d05ea00a363e570101e355917cc12d650ae9
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-11-28

    mtp: fix segfault when device not found

    https://bugzilla.gnome.org/show_bug.cgi?id=719495

M	daemon/gvfsbackendmtp.c

commit 807be442d3063247a9d05f16284475d2d9624d25
Author: Philip Langdale <philipl@overt.org>
Date:	2013-11-24

    MTP: Fail fast if in the middle of an unmount

    I've seen a ton of bug reports where the backend crashes due to
    operations executing after an unmount begins. I think it's a
    sufficient solution to check the unmount flag that we already have
    and then immediately abort the operation.

    Generally, this is only seen with operations that are initiated
    implicitly like do_query_info or do_enumerate, but I've added the
    protection to all operations for consistency.

M	daemon/gvfsbackendmtp.c

commit 4b2a5a6883de0b5285b803be0a31ab1491bb2de5
Author: Dimitris Spingos <dmtrs32@gmail.com>
Date:	2013-11-22

    Updated Greek translation

M	po/el.po

commit 65216faae97bfce29006fbd479feed6fc37cf342
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-11-15

    afp: missing enumeration value warning fix

M	daemon/gvfsbackendafp.c

commit 53933e21316db15d70b540501af716860c0ff055
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-11-15

    sftp: missing enumeration value warning fix

M	daemon/gvfsbackendsftp.c

commit 5110e2744b90b9ea62e99fc2405e77ed81efecea
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-11-15

    gdeamonfileenumerator: unused variable cleanup

M	client/gdaemonfileenumerator.c

commit ed826fdf386cd0891cbda5c9fc3904d2a5aba03f
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-11-01

    sftp: Implement pull support

    Implement pull support with a sliding window to improve the speed of
    sftp downloads.

    The implementation is based on the one from the OpenSSH sftp client.
    It
    uses up to 64 outstanding read requests.  The limit of 64 is
    incremented
    gradually to prevent overwhelming the server.  The file is fstat()ed
    to
    determine the size.  When the expected size is reached, the maximum
    number of outstanding requests is reduced to 1.

    The implementation is complicated by the fact that reads can return
    short and they can also be serviced out of order.

    This patch results in substantial performance improvments, especially
    for high-latency links.  Compared to the fallback copy implementation,
    other performance improvements are achieved by performing the initial
    lstat()/stat() and open() in parallel, as well as performing the
    fstat() and initial read requests in parallel.

    Some benchmark figures:
    Old behavior:
    Copying from local server = 6.1MB/s
    Copying from local server with 250ms of RTT latency = 0.251MB/s
    Copying many small files with 250ms of RTT latency = 0.64 files
    per second

    New behavior:
    Copying from local server = 13MB/s
    Copying from local server with 250ms of RTT latency = 6.6MB/s
    Copying many small files with 250ms of RTT latency = 1.24 files
    per second

    OpenSSH sftp client:
    Copying from local server = 14.2MB/s
    Copying from local server with 250ms of RTT latency = 6.4MB/s
    Copying many small files with 250ms of RTT latency = 1.34 files
    per second

    https://bugzilla.gnome.org/show_bug.cgi?id=532951

M	daemon/gvfsbackendsftp.c

commit 020d4e0176c82d2d19502b93757235f16b94a451
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-11-15

    Post release version bump

M	configure.ac

commit 9cee4a4a3c29e625305ace51996798fcb572f77c
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-11-15

    Update NEWS for 1.19.2 release

M	NEWS

commit 26163e67d5b31812c58ca661f57a8ab17b0d197b
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-10-26

    sftp: Implement GFileCreateFlags and improve permission handling

    Set the file permissions to 0600 when G_FILE_CREATE_PRIVATE is
    specified and the file does not exist or
    G_FILE_CREATE_REPLACE_DESTINATION is specified.
    Otherwise, set the file permissions and ownership to the permissions
    and
    ownership of the existing file only if it is a regular file
    (i.e. don't
    set the permissions to 777 because the existing destination is
    actually
    is a symlink).
    Otherwise, use the default file permissions by not setting any file
    permissions.

    If G_FILE_CREATE_REPLACE_DESTINATION is specified or the destination
    is
    a regular file, write to a tempfile and rename; otherwise, replace by
    truncating the destination.

    https://bugzilla.gnome.org/show_bug.cgi?id=710906

M	daemon/gvfsbackendsftp.c

commit 936708b2d947917be5aed3de0b0de85ded2d3283
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-11-07

    sftp: Fix handling of multiple reads of the packet length

    In certain cases, reading the packet length may take more than
    one call.
    Make this work by calculating the offset into the reply_size
    correctly.

    https://bugzilla.gnome.org/show_bug.cgi?id=532951

M	daemon/gvfsbackendsftp.c

commit ff870666620b48f9563d7c587b56ed06c349a96c
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-11-11

    archive: Set filesystem size information

    Set the total size and the amount used to be the total size of the
    files; set the amount free to 0.

    https://bugzilla.gnome.org/show_bug.cgi?id=711852

M	daemon/gvfsbackendarchive.c

commit af1e2dd22047e1f95c245a9ada11958899f20278
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-11-11

    fuse: Round up the number of blocks that a filesystem has

    If a filesystem is 4095 bytes, indicate that it uses 1 block
    rather than
    0 blocks.

    https://bugzilla.gnome.org/show_bug.cgi?id=711855

M	client/gvfsfusedaemon.c

commit 100dbd9a53efc0dd18a6e0f9dc7083ed584ffbee
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-11-14

    sftp: Add "PermitLocalCommand no" to the OpenSSH commandline

    Add "PermitLocalCommand no" to the OpenSSH commandline to prevent
    user-configured commands running and interfering with the sftp
    session.
    This is what the OpenSSH sftp client does.

    https://bugzilla.gnome.org/show_bug.cgi?id=639599

M	daemon/gvfsbackendsftp.c

commit 66f204655a7ca44a20dea2dae267c456c714c4af
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-11-11

    smb: Report number of bytes used on the filesystem

    Calculated the number of bytes used by subtracting the size from the
    number of bytes free, as done with local files.

    https://bugzilla.gnome.org/show_bug.cgi?id=711838

M	daemon/gvfsbackendsmb.c

commit e355526f0c6c00bbb7593d02accd4075c4da800f
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-11-01

    daemon: Make progress callbacks work with try methods

    Before, for each job type that implements progress callbacks, the
    progress_proxy was being unref'd immediately after the backend's
    try or
    run method had run.  This means that if the backend had an
    asynchronous
    callback which updated the progress, it wouldn't work because the
    progress_proxy had been removed.

    Fix this by unrefing the progress_proxy in the GVfsJobProgress class's
    finalize method.

    https://bugzilla.gnome.org/show_bug.cgi?id=711247

M	daemon/gvfsjobcopy.c
M	daemon/gvfsjobmove.c
M	daemon/gvfsjobprogress.c
M	daemon/gvfsjobpull.c
M	daemon/gvfsjobpush.c

commit 2965194d8479e83dfa6e2ef0b0302aea2762dae3
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-11-11

    afp: Report number of bytes used on the filesystem

    Calculate the number of bytes used by subtracting the size from the
    number of bytes free, as done with local files.

    https://bugzilla.gnome.org/show_bug.cgi?id=711859

M	daemon/gvfsafpvolume.c
M	daemon/gvfsbackendafp.c

commit 7890d2801a7f3998b336452fadc8ad0d01d06e60
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-11-05

    sftp: Implement push support

    Implement sftp push support with a sliding window to improve the speed
    of sftp uploads.

    The implementation is based on the one from the OpenSSH sftp client.
    It
    uses up to 64 outstanding write requests where each request is
    32KiB in
    size which gives a maximum theoretical bandwidth of 2MiB per RTT.

    This patch results in substantial performance improvments, especially
    for high-latency links.

    Some benchmark figures:
    Old behavior:
    Copying from local server = 6.1MB/s
    Copying from local server with 250ms of RTT latency = 0.249MB/s
    Copying many small files with 250ms of RTT latency = 0.93 files per
    second

    New behavior:
    Copying from local server = 12.2MB/s
    Copying from local server with 250ms of RTT latency = 6.2MB/s
    Copying many small files with 250ms of RTT latency = 1.24 files per
    second

    OpenSSH sftp client:
    Copying from local server = 12.8MB/s
    Copying from local server with 250ms of RTT latency = 6.7MB/s
    Copying many small files with 250ms of RTT latency = 1.33 files per
    second

    https://bugzilla.gnome.org/show_bug.cgi?id=523015

M	daemon/gvfsbackendsftp.c

commit 9d90065bad034ab17fe10bb8bde9dd0979d7050a
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-11-08

    trash: Fix missing include

    Caused by 15d5da3f13f9325cab8d32316304ce49d0ff83fb.

M	daemon/gvfsbackendtrash.c

commit 15d5da3f13f9325cab8d32316304ce49d0ff83fb
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-11-05

    trash: Add " (invalid encoding)" to files with invalid encoding

    https://bugzilla.gnome.org/show_bug.cgi?id=656186

M	daemon/gvfsbackendtrash.c

commit 990756b22795a13fb38c2a2b038da5758fa679ec
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-11-05

    trash: Support enumerating non-UTF-8 filenames

    Before when enumerating, display names were set directly from the
    filenames which can be a problem if the filename is not UTF-8.
    Instead, don't set the display name at all since it is set correctly
    via
    trash_backend_add_info().

    https://bugzilla.gnome.org/show_bug.cgi?id=656186

M	daemon/gvfsbackendtrash.c

commit f25f929a1574a2d874d164895ec6693abb87025b
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2013-11-07

    gvfs-test: Refresh MTP record

    - DCIM/100CANON/IMG_000?.JPG are from test/files/source-gphoto/

    - sine.ogg was generated with
      gst-launch-1.0 audiotestsrc num-buffers=10 ! audioconvert ! \
      audioresample ! vorbisenc ! oggmux ! filesink location=sine.ogg

    - Record started with
      umockdev-record -i /dev/bus/usb/001/017=test/files/mtp_xperia.ioctl
      /usr/lib/gvfs/gvfsd

    - Recorded commands (in a different terminal):
      gvfs-mount 'mtp://[usb:001,017]'
      gvfs-ls 'mtp://[usb:001,017]/SD-Karte'
      gvfs-ls 'mtp://[usb:001,017]/SD-Karte/Music'
      gvfs-ls 'mtp://[usb:001,017]/SD-Karte/Music/GStreamer - The
      Test Sine'
      gvfs-info 'mtp://[usb:001,017]/SD-Karte/Music/GStreamer - The
      Test Sine'
      gvfs-info 'mtp://[usb:001,017]/SD-Karte/Music/GStreamer - The
      Test Sine/sine.ogg'
      gvfs-cat 'mtp://[usb:001,017]/SD-Karte/Music/GStreamer - The Test
      Sine/sine.ogg'
      gvfs-cat 'mtp://[usb:001,017]/SD-Karte/hello.txt'
      gvfs-info 'mtp://[usb:001,017]/SD-Karte/hello.txt'
      gvfs-info 'mtp://[usb:001,017]/SD-Karte/DCIM/100CANON/IMG_0001.JPG'
      gvfs-cat 'mtp://[usb:001,017]/SD-Karte/DCIM/100CANON/IMG_0001.JPG'
      gvfs-mount -u 'mtp://[usb:001,017]'

M	test/files/mtp_xperia.ioctl.xz
M	test/gvfs-test

commit cadb7298c3e55a54889dbf735765f49accfa9c18
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2013-11-07

    gvfs-test: Robustify MTP test

    Don't assume a particular odering of listing the top-level directory.

    For unmount success, verify that our Mount object is gone, instead
    of our URI
    not appearing anywhere in the "gvfs-mount -li" output; the latter
    catches the
    Volume as well, which we don't expect to go away.

M	test/gvfs-test

commit d76dce9e83ddc033b53d2603b4f4d9f73de1f112
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-11-05

    programs: Escape string properly

    Use an unsigned char to avoid implementation-defined behavior of
    a right
    shift.
    Shift by 4 rather than 8 to get the second half of a byte.

    https://bugzilla.gnome.org/show_bug.cgi?id=711457

M	programs/gvfs-info.c

commit 74e284c7f1bd3377d27250755b3c2fad5a2aa5c8
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-11-05

    client: Fix SIGSEGV in fallback copy

    If the daemon is killed during the fallback copy, it is possible that
    proxy is NULL which causes a segfault when unrefing it.  Use
    g_clear_object() instead.

    https://bugzilla.gnome.org/show_bug.cgi?id=711454

M	client/gdaemonfile.c

commit 5d87cd17ee31cf4fd0ea3a5a620960c925269992
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-11-02

    sftp: Free error

    https://bugzilla.gnome.org/show_bug.cgi?id=711292

M	daemon/gvfsbackendsftp.c

commit 33a9f21d96b8903188614509a405e62b858035a3
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-11-04

    archive: Set the is_hidden attribute when appropriate

    https://bugzilla.gnome.org/show_bug.cgi?id=589157

M	daemon/gvfsbackendarchive.c

commit d3d6f93381b5ea20ee34dd6125c1638527d42ff9
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-11-01

    archive: fix wrong data types

    Libarchive 3.0 changed public interface to use int64_t uniformly
    instead of off_t, ino_t, uid_t, gid_t, and dev_t.

    https://bugzilla.gnome.org/show_bug.cgi?id=670534

M	daemon/gvfsbackendarchive.c

commit 41266f89894dabcc502d1bf1be65592d23eb24cc
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-11-01

    archive: fix segfault when libarchive fails

    When libarchive fails g_vfs_job_failed is called even as
    g_vfs_job_succeeded which cause segfault. Set GError instead of
    g_vfs_job_failed to fix that.

    https://bugzilla.gnome.org/show_bug.cgi?id=670534

M	daemon/gvfsbackendarchive.c

commit 39ab8a0f6f673696941a681cf11d2fbbb17bdccf
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-11-01

    archive: fix reading files when size not set

    File size can be unset in the archive therefor is set to zero.
    This breaks reading file content using fuse. Determine file size
    by reading data blocks to fix it.

    https://bugzilla.gnome.org/show_bug.cgi?id=670534

M	daemon/gvfsbackendarchive.c

commit 9d29cf7acff8d899dc97b8659b1ed1e65cf42d6b
Author: Colin Walters <walters@verbum.org>
Date:	2013-11-03

    gvfsproxyvolumemonitordaemon: Turn off debug

    Now that dbus-activated session services have their stdout/stderr
    connected to the systemd journal (as of recent dbus), these debug
    messages now show up by default.

    The #define DEBUG_ENABLED was apparently turned on by accident in
    commit 8315eaf84e52c6a00a4905f1f6a73182db9e8015 - we can just turn it
    off again.

    (Why is this not just g_debug()?  Who knows...)

    https://bugzilla.gnome.org/show_bug.cgi?id=711365

M	monitor/proxy/gvfsproxyvolumemonitordaemon.c

commit 7fae7088c21c4f5cdae2327915edd21b1ec4574f
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-10-16

    ftp: Return the correct error code for a failed move operation

    When the source file does not exist for a move operation, return
    G_IO_ERROR_NOT_FOUND (as specified by the docs) instead of
    G_IO_ERROR_FAILED.

    https://bugzilla.gnome.org/show_bug.cgi?id=710321

M	daemon/gvfsbackendftp.c

commit 0f5d4be5ceb7fa4df7882b784f8c8e41303b8d8c
Author: timeless <timeless@gmail.com>
Date:	2013-11-01

    common: Make autorun.inf parsing less strict

    Make the parsing of autorun.inf less strict by ignoring whitespace
    around "=".

    Tweaked by Ross Lagerwall to prevent a match occurring if the
    part after
    the "=" contains only whitespace.

    https://bugzilla.gnome.org/show_bug.cgi?id=595027

M	common/gvfsmountinfo.c

commit b30678e3f49f04a207870e8a58084fa96cce5a99
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-11-01

    Update .gitignore files

M	.gitignore
M	client/.gitignore
M	daemon/.gitignore
A	monitor/afc/.gitignore
A	monitor/udisks2/.gitignore
M	programs/.gitignore
M	test/.gitignore

commit 154a57ca5d2c637ac0a02e52554f2607487a15d7
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-10-28

    recent: Don't mark filesystem as read-only

    The filesystem should not be marked as read-only since items can be
    deleted from it.

    https://bugzilla.gnome.org/show_bug.cgi?id=710993

M	daemon/gvfsbackendrecent.c

commit 9c11445c38132f6c3ee9d1753f8e8093f7ccca5d
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-10-27

    recent: Prevent spurious monitor notifications

    Ignore nonexistent files completely to prevent them being repeatedly
    deleted and then re-added to the list of files.

    https://bugzilla.gnome.org/show_bug.cgi?id=686135

M	daemon/gvfsbackendrecent.c

commit 1217b2760b94d299457d542edf142d83527852f7
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2013-10-31

    Updated Spanish translation

M	po/es.po

commit 38a0034e98537082054a4f2a2a2c3a898744b5bf
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-10-26

    sftp: Return the correct error code on failed symlink creation

    If the symlink path already exists, return the correct error code of
    G_IO_ERROR_EXISTS.

    https://bugzilla.gnome.org/show_bug.cgi?id=710935

M	daemon/gvfsbackendsftp.c

commit 0fcf806e76cb944cfa531fc1df83787f5543ea47
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-10-24

    backend: typo fix in signal name

M	daemon/gvfsbackend.c

commit a9c38f1b15e56f2d08d5ffccd0483aee68095c00
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-10-28

    Don't crash if mount_operation is given as NULL

    Check for NULL before using the mount_operation given to any of
    GDaemonFile's methods to prevent a crash due to refing NULL.

    https://bugzilla.gnome.org/show_bug.cgi?id=710995

M	client/gdaemonfile.c

commit de923addad07af49a810ad375e124dcb6379da5b
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-10-31

    smb: Unlink file before sending job reply

M	daemon/gvfsbackendsmb.c

commit 6032fe495e7de81cb27438b652644b9bd847641e
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-10-27

    smb: Set error from the errno of the correct operation

    This prevents errors of the form "Error performing operation: Success"
    when doing a close after a replace that tries to overwrite a file but
    fails in the final rename.

    https://bugzilla.gnome.org/show_bug.cgi?id=603353

M	daemon/gvfsbackendsmb.c

commit 0cee04b8abcdb25f98a616ed8d785c92f05f7102
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-10-01

    archive: Handle open failure

    If gvfs_archive_open fails, libarchive immediately calls
    gvfs_archive_close which causes a crash due to calling g_object_unref
    on
    the NULL stream.

    https://bugzilla.gnome.org/show_bug.cgi?id=589028

M	daemon/gvfsbackendarchive.c

commit 20418890e206f0e06e2e98c010733627a144e2fd
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-10-11

    http: Clean up usage of libsoup

    Use libsoup rather than libsoup-gnome since libsoup-gnome is not
    required anymore.

    Bump the libsoup requirement to 2.42 to prevent a build failure
    with old
    libsoups (undefined references to soup_session_request_uri).

    Don't include individual libsoup headers as recommended by the libsoup
    documentation.

    https://bugzilla.gnome.org/show_bug.cgi?id=587890

M	configure.ac
M	daemon/gvfsbackendhttp.c
M	daemon/gvfshttpinputstream.c
M	daemon/gvfshttpinputstream.h

commit f04a331fd84e1de883e52cd768406530465393b7
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2013-10-25

    Updated Spanish translation

M	po/es.po

commit b22941edf1b192e31086e16fc41efcf982964576
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-10-25

    Post release version bump

M	configure.ac

commit 00b83993f456d386d8e3cc50c4158b3d03389c83
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-10-25

    Update NEWS for 1.19.1 release

M	NEWS

commit 9912094bede0f79c322bc41178a158b0310d6094
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-10-25

    Add myself as a maintainer

M	MAINTAINERS

commit e26b4c1741ffc8c99389c0b3a80b2c3c223f9dee
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-09-16

    mtp: fix error messages to be more consistent

    https://bugzilla.gnome.org/show_bug.cgi?id=697451

M	daemon/gvfsbackendmtp.c

commit 9299dacc3fd09d9a5c017a780a92a23702094159
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-10-06

    archive: Set file executable bit from archive contents

    https://bugzilla.gnome.org/show_bug.cgi?id=634735

M	daemon/gvfsbackendarchive.c

commit 084a365996f1e5948913af452d952d396994791a
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-10-23

    http: Set error to NULL to possibly prevent crash on close

    https://bugzilla.gnome.org/show_bug.cgi?id=710678

M	daemon/gvfsbackendhttp.c

commit 39471165d86fe3094536466a4a7039ff4e9ed095
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-10-25

    Add myself as a maintainer

M	MAINTAINERS
M	gvfs.doap

commit 2b251d69351312d632e41188d5f9f7cbf394331a
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-10-11

    dav: Set file type to regular by default

    Some servers send empty resourcetype nodes or don't send the node
    at all
    for regular files (the spec says that it defaults to empty).  Set the
    file type to regular by default.

    https://bugzilla.gnome.org/show_bug.cgi?id=706798

M	daemon/gvfsbackenddav.c

commit e7470c339a9f894dc71701d03a9e943eac21066a
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-10-17

    Remove unnecessary trailing slashes in path

    https://bugzilla.gnome.org/show_bug.cgi?id=606324

M	daemon/Makefile.am

commit 629c5cc2425945bcd39a6ca28f77ec391bf96950
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-10-01

    sftp: Allow seeking when opening for append

    Although it has no effect, allow seeking when opening a file for
    append
    to allow programs to write to files opened for append through the fuse
    backend without failing with ENOTSUPP.
    This is similar to POSIX behavior which allows seeking on a file
    opened
    with O_APPEND.

    https://bugzilla.gnome.org/show_bug.cgi?id=608910

M	daemon/gvfsbackendsftp.c

commit e1fb4516d5a3cc222f5bcc629ea0c509b7934ebd
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-10-23

    client: Fix usage of incorrect enum constant

    https://bugzilla.gnome.org/show_bug.cgi?id=710698

M	client/gdaemonfileoutputstream.c

commit 0f1c61fd236219fda950e3f04b52ee4486dcd0b1
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	2013-10-24

    Updated Slovenian translation

M	po/sl.po

commit abf8d980975b500d4569e20f7207ec1f0e0c9440
Author: Enrico Nicoletto <liverig@gmail.com>
Date:	2013-10-19

    Updated Brazilian Portuguese translation for manual

M	po/pt_BR.po

commit 449705eb4be29e3942919d07df04d9788ed7e3d8
Author: Alexander Larsson <alexl@redhat.com>
Date:	2013-10-16

    Show URI in gvfs-info

M	programs/gvfs-info.c

commit eb1e1bb3e13eb6d9a9952fd1b6cb7ffe65aba15f
Author: Ihar Hrachyshka <ihar.hrachyshka@gmail.com>
Date:	2012-10-20

    gvfs-ls: added option to output URIs

    Add a new -u option to gvfs-ls utility which will make it output
    properly escaped URIs. These URIs may then be passed to other gvfs-*
    tools.

    Signed-off-by: Ihar Hrachyshka <ihar.hrachyshka@gmail.com>

    https://bugzilla.gnome.org/show_bug.cgi?id=683295

M	programs/gvfs-ls.c

commit b510d4426fb8df74a05b45b24272221e341ffa10
Author: Alexander Larsson <alexl@redhat.com>
Date:	2013-10-16

    Bump version to 1.19.1 after branch

M	configure.ac

commit 8835238a5d0049e7639f792bf82d2105ad54cc11
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-10-08

    fuse: Use the big_writes option to speed up writes

    Without the big_writes option, fuse uses a block size of 4096 bytes
    which results in poor write performance.  So use the big_writes option
    to write blocks up to 64KiB in size.

    https://bugzilla.gnome.org/show_bug.cgi?id=652540

M	client/gvfsfusedaemon.c
M	daemon/main.c

commit 1474a61207aa33362a674abe674c822691a57331
Author: Alexander Larsson <alexl@redhat.com>
Date:	2013-10-08

    afp: Allow seek past end of file

    Also, only query file size if needed for G_SEEK_END.

    https://bugzilla.gnome.org/show_bug.cgi?id=709432

M	daemon/gvfsbackendafp.c

commit d12755f991a14f4f7d5cc6930a9026e106b88933
Author: Alexander Larsson <alexl@redhat.com>
Date:	2013-10-08

    gphoto2: Allow seek past end of file

    https://bugzilla.gnome.org/show_bug.cgi?id=709432

M	daemon/gvfsbackendgphoto2.c

commit 77f98e82f552ea464545b2e584b7a3011ae55a65
Author: Alexander Larsson <alexl@redhat.com>
Date:	2013-10-08

    cdda: Allow seek past end of file

    https://bugzilla.gnome.org/show_bug.cgi?id=709432

M	daemon/gvfsbackendcdda.c

commit fb56d6dd8699ae73c732fd30dd8bb2034105ecb8
Author: Alexander Larsson <alexl@redhat.com>
Date:	2013-10-08

    mtp: Allow seek past end of file

    https://bugzilla.gnome.org/show_bug.cgi?id=709432

M	daemon/gvfsbackendmtp.c

commit 5fb056ffea07aa415a676bc22d4b02e7d3fc482a
Author: Alexander Larsson <alexl@redhat.com>
Date:	2013-10-08

    sftp: Allow seek past end of file

    also, don't query for the file size unless required for SEEK_END

    https://bugzilla.gnome.org/show_bug.cgi?id=709432

M	daemon/gvfsbackendsftp.c

commit 0e6434139716a63ce99e84525aa63890a6244378
Author: Alexander Larsson <alexl@redhat.com>
Date:	2013-10-03

    Update for 1.18.2

M	NEWS

commit 33df4211825ad9ef36272a3e5cf987ea8f7cfe01
Author: Alexander Larsson <alexl@redhat.com>
Date:	2013-10-03

    client: Don't user g_source_remove() on non-default main context

    We created a GSource, attached it to a non-default main context and
    then removed it via g_source_remove, which removed the source with the
    same id on the main context, which typically was the X fd, causing
    everything to stop working!

    Non-default main contexts must use g_source_destroy()

    https://bugzilla.gnome.org/show_bug.cgi?id=708744

M	client/gdaemonfileenumerator.c

commit 50e927218909b87bce5bc792621b7db8c47538fc
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-09-25

    fuse: Make file nonseekable if it actually is

    Instead of failing in read() with ENOTSUPP after the lseek on a
    nonseekable stream succeeds, make the lseek fail with ESPIPE, as it
    should.  This is important for applications which test the return
    value
    of lseek to determine if the file descriptor is seekable.

M	client/gvfsfusedaemon.c

commit 3e8cc556fe13a32518ebdd4c11a11f0006083844
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-09-25

    fuse: Enforce sync_read

    When running multithreaded, fuse can issue readahead requests out of
    order which can cause subsequent reads to fail with ENOTSUPP
    (if seeking
    backward is not supported on the stream).

    Force readahead to occur in order to prevent this problem.

M	client/gvfsfusedaemon.c

commit 64ccbde184653f2ce3ed3e5395eb336b379e5847
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-09-25

    fuse: Fix seek offset calculation

    Since fh->pos is already incremented by n_bytes_skipped, check if
    offset == fh->pos.

    This error was hidden by the fact that the operation is retried when
    -EIO is returned.  When it was retried, the stream was already in the
    correct position and so no seek operation was required.

M	client/gvfsfusedaemon.c

commit bdc3babbe21e5fed06876db4d56d1b13915fe1cb
Author: Ross Lagerwall <rosslagerwall@gmail.com>
Date:	2013-09-21

    daemon: Emit signal before returning dbus value

    In gvfsjobopenforread.c, the dbus method returns a value in
    create_reply
    which eventually results in a GVfsJobRead job to be sent to the
    backend.
    This could happen before the "new-source" signal is emitted.  If this
    happens, the job is not queued because the "new_job" signal would not
    have been connected to a job source yet.  The read then hangs because
    the GVfsJobRead is lost.

    This is hit often when performing large smb transfers (see
    https://bugzilla.gnome.org/show_bug.cgi?id=697782 and
    https://bugs.launchpad.net/ubuntu/+source/gvfs/+bug/1075923).
    It can be reproduced by putting a small sleep before the
    g_signal_emit_by_name call.

    Fix this by emitting the "new-source" signal *before* the dbus method
    value is returned.	This ensures that the "new_job" signal is set up
    before any further jobs are sent.

    Note that the same problem and solution applies for
    gvfsjobopenforwrite.c.

M	daemon/gvfsjobopenforread.c
M	daemon/gvfsjobopenforwrite.c

commit a1dd98ffa979441a0b9db3289287eaeab2c1aadf
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-09-26

    Post release version bump

M	configure.ac

commit 5d64580fb5ae224763b695f5f015cabd62a5e7f3
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-09-26

    Update NEWS for 1.18.1 release

M	NEWS
M	configure.ac

commit fdf5ae5cc3068377ba66302698e170922af38478
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-09-26

    mtp: fix several compilation warnings

    https://bugzilla.gnome.org/show_bug.cgi?id=591228

M	daemon/gvfsbackendmtp.c

commit 8966e2db6c19aa0ab54a7ff16fa6b7a4fa1b0695
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-09-26

    gdbus: fix compilation warnings

    https://bugzilla.gnome.org/show_bug.cgi?id=591228#c21

M	client/gvfsdaemondbus.c

commit 5a239267e6d32ab0029a18d8090876dc8c188180
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-09-26

    GDaemonFileEnumerator: fix compilation warning

    https://bugzilla.gnome.org/show_bug.cgi?id=591228

M	client/gdaemonfileenumerator.c

commit 65e95eef20194695f3b4d1dc6e880650004e6d7f
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-09-26

    Revert "mtp: fix error messages to be more consistent"

    This reverts commit 233faf72d10f9b60b4e0f33a281ac48b043cc28d
    due to the string freeze.

M	daemon/gvfsbackendmtp.c

commit 656e5f48288f976eec9009233410775d83fc8b44
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-09-26

    cdda: fix a typo

    https://bugzilla.gnome.org/show_bug.cgi?id=591228

M	daemon/gvfsbackendcdda.c

commit 89287cdea32db6c67f787cfcb07b7e4b3669c2a3
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-09-26

    cdda: fix two compilation warnings

    https://bugzilla.gnome.org/show_bug.cgi?id=591228

M	daemon/gvfsbackendcdda.c

commit a878a1ff2404d4544a98f242a095cec1851d3ae5
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-09-26

    gdbus: fix compilation warning

    https://bugzilla.gnome.org/show_bug.cgi?id=591228

M	client/gdaemonfile.c

commit 19249f9eb50639484caec9adad5bc353ed103181
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-09-26

    smb: fix compilation warning

    https://bugzilla.gnome.org/show_bug.cgi?id=591228

M	client/smburi.c

commit 8de3770b845a76e6ed22ac610811d0fe7e29f4cb
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-09-26

    mount: fix compilation warning

    https://bugzilla.gnome.org/show_bug.cgi?id=591228

M	daemon/mount.c

commit a4ac941872838a5f14d1d3a61c15dc5c21caceec
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-09-26

    goa: fix two compilation warnings

    https://bugzilla.gnome.org/show_bug.cgi?id=591228

M	monitor/goa/goavolumemonitor.c

commit 37a32f8b9d112683b9f9870fe73f9b37040a2b51
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-09-17

    afp: translator comments improvements

    https://bugzilla.gnome.org/show_bug.cgi?id=697451

M	daemon/gvfsafpvolume.c

commit 233faf72d10f9b60b4e0f33a281ac48b043cc28d
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-09-16

    mtp: fix error messages to be more consistent

    https://bugzilla.gnome.org/show_bug.cgi?id=697451

M	daemon/gvfsbackendmtp.c

commit a390856358db1d9fbdd6406d7d781bce0e93477b
Author: Antoine Jacoutot <ajacoutot@gnome.org>
Date:	2013-09-26

    build: do not redefine GVfsBackend

    https://bugzilla.gnome.org/show_bug.cgi?id=708814

M	daemon/gvfsbackend.h

commit 3448fa01d514e31d0b0c1071f7738b3c8101c8ab
Author: Alexander Larsson <alexl@redhat.com>
Date:	2013-09-26

    GVfsDaemon: Don't deadlock on cliend disconnect

    There was a deadlock that could happen on client disconnect in
    peer_connection_closed(). If the cancelled job immediately called
    back into
    job_finished_callback() we would deadlock on daemon->mutex.

    So, make sure we cancel jobs without holding the lock, just like
    handle_cancel() does.

    https://bugzilla.gnome.org/show_bug.cgi?id=708816

M	daemon/gvfsdaemon.c

commit 8d08c558cda63e864ffd1c960435ea5332c884bd
Author: Alexander Larsson <alexl@redhat.com>
Date:	2013-09-26

    client: Remove unused code for dbus vfs filters

    This code is not used anymore

    https://bugzilla.gnome.org/show_bug.cgi?id=708744

M	client/gdaemonfile.c
M	client/gdaemonfilemonitor.c
M	client/gdaemonmount.c
M	client/gvfsdaemondbus.c
M	client/gvfsdaemondbus.h
M	client/gvfsiconloadable.c

commit a302823af930e1b09f44908b02d1f4b6a44b5cc9
Author: Alexander Larsson <alexl@redhat.com>
Date:	2013-09-26

    GDaemonFileMonitor: Only recieve events on one dbus connection

    There is no need to register for monitor evens on all dbus
    connections,
    just the one we send the request on.

    https://bugzilla.gnome.org/show_bug.cgi?id=708744

M	client/gdaemonfilemonitor.c

commit 65b8b938df26cfe04935b0195265971c7e278ab0
Author: Alexander Larsson <alexl@redhat.com>
Date:	2013-09-26

    GDaemonFileEnumerator: Only listen to messages one connection

    There is no need to listen to messages on other connections than
    the one we sent the request on. In fact, doing so is bad as it
    can cause
    locking issues as per bug 708721.

    https://bugzilla.gnome.org/show_bug.cgi?id=708744

M	client/gdaemonfile.c
M	client/gdaemonfileenumerator.c
M	client/gdaemonfileenumerator.h

commit f252b6473c8c38d8fffbc03864db302f43f8e9ce
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:	2013-09-24

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

M	po/zh_HK.po
M	po/zh_TW.po

commit f736e2b49eb66ac7124093c28cc76b5ccde1eae2
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2013-09-23

    1.18.0

M	NEWS
M	configure.ac

commit 1ec925bee225f13df3431dcceff461577155cd2f
Author: victory <victory.deb@gmail.com>
Date:	2013-09-23

    l10n: Update Japanese translation

M	po/ja.po

commit 9d114434a4118009e16cad9aed1430a14718ab23
Author: Peter Mráz <etkinator@gmail.com>
Date:	2013-09-19

    Updated slovak translation

M	po/sk.po

commit 6ce5a592d65682a1817958be8d89de88703fdeab
Author: Dirgita <dirgitadevina@yahoo.co.id>
Date:	2013-09-19

    Updated Indonesian translation

M	po/id.po

commit a6639bc6951c28bc3650d2b27ee553cd2bb74733
Author: Pavol Klačanský <pavol@klacansky.com>
Date:	2013-09-15

    Updated slovak translation

M	po/sk.po

commit 588e65a74659526ac38e493f4ac9e69e11695757
Author: Ville-Pekka Vainio <vpvainio@iki.fi>
Date:	2013-09-07

    Finnish translation update by Jiri Grönroos

M	po/fi.po

commit 151dec926ed669cd3000e87899f3adcb03508422
Author: Alexander Larsson <alexl@redhat.com>
Date:	2013-09-03

    Update NEWS for release

M	NEWS

commit e2d47b30ae726f4d106f4f4bbad3c9acbe0e3fb4
Author: Debarshi Ray <debarshir@gnome.org>
Date:	2012-11-20

    daemon: Catch thumbnail files in large directory as well

    When building the file attribute table info, use thumbnail paths in
    $XDG_CACHE_DIR/thumbnails/large in addition to
    $XDG_CACHE_DIR/thumbnails/normal.

    Failing to do this would cause an application that creates large
    thumbnails by default to never find any value for
    G_FILE_ATTRIBUTE_THUMBNAIL_PATH, with no
    G_FILE_ATTRIBUTE_THUMBNAILING_FAILED set, which might cause the
    application to either think thumbnailing is still in progress, or
    blindly requeue thumbnail operations in a loop.

    Large thumbnails are generally preferred, so we now default to
    the path
    of a large thumbnail (in case both are present).

    Fixes: https://bugzilla.gnome.org/688685

M	daemon/gvfsbackend.c

commit d0762a94ebabb2d6651606a25a75079859eb1e9c
Author: Alexander Larsson <alexl@redhat.com>
Date:	2013-08-22

    post release version bump

M	configure.ac

commit 8cefa4ad08af89cfd4e0a8e88063b2fa27265f61
Author: Alexander Larsson <alexl@redhat.com>
Date:	2013-08-22

    NEWS: Update for release

M	NEWS

commit 1f0f04fd5dd14f4bdd05c657bf39d939623e286e
Author: Alexander Larsson <alexl@redhat.com>
Date:	2013-08-22

    Change version to 1.17.90

M	configure.ac

commit 0214a16ae0c86d4203947640b8f0175c457fa726
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-06-19

    http: Replace deprecated SoupRequester by SoupSession

    https://bugzilla.gnome.org/show_bug.cgi?id=702624

M	daemon/gvfsbackendhttp.c
M	daemon/gvfshttpinputstream.c

commit 4cdbe80da2547742df2433d56df3ad6a80b23a46
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-07-03

    archive: Update to libarchive new api

    https://bugzilla.gnome.org/show_bug.cgi?id=703561

M	daemon/gvfsbackendarchive.c

commit d432ea728941fbf49773357a2b57a54c62be63ef
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2013-08-01

    gvfs-test: Update GPhoto test case record for libgphoto 2.5

    libgphoto 2.5 changed the ioctls that get sent to the camera. Refresh
    test/files/powershot.ioctl.xz with a record with libgphoto 2.5.

    Also add the two test files on the SD card to
    test/files/source-gphoto/, so
    that it's easier to reconstruct that SD card and re-record the
    ioctl trace.

M	test/files/powershot.ioctl.xz
A	test/files/source-gphoto/IMG_0001.jpg
A	test/files/source-gphoto/IMG_0002.jpg

commit ce0ffe231e7dd162394cb61467be8e75bfd9eae1
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-07-08

    Post release version bump

M	configure.ac

commit a02a2066e047321dd3a9080b9217743485b768b8
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-07-08

    Update NEWS for 1.17.3 release

M	NEWS

commit 468065523a4900c52e483064abf6fb12432df6e1
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-07-08

    Post release version bump

M	configure.ac

commit 53909ed97cdf84059bf16d8dde18f8183529d788
Author: Timothy Arceri <t_arceri@yahoo.com.au>
Date:	2013-05-08

    Implement clean shutdown in obexftp backend

    https://bugzilla.gnome.org/show_bug.cgi?id=511802

M	daemon/gvfsbackendobexftp.c

commit 91bd02a0e3216d7b901405b7636055881867bf92
Author: Timothy Arceri <t_arceri@yahoo.com.au>
Date:	2013-05-08

    Implement clean shutdown in mtp backend

    https://bugzilla.gnome.org/show_bug.cgi?id=511802

M	daemon/gvfsbackendmtp.c

commit 5354d7ff2b3ade6f2d78769cbb831ee861572e13
Author: Timothy Arceri <t_arceri@yahoo.com.au>
Date:	2013-05-08

    Implement clean shutdown in afc backend

    https://bugzilla.gnome.org/show_bug.cgi?id=511802

M	daemon/gvfsbackendafc.c

commit d951f39564ea61fdb2be1dece281fab46e1e97ea
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2013-07-02

    gvfs-test: Add first test for mtp backend

    Add umockdev dump and ioctl trace for a Sony Xperia Mini mobile phone
    (with
    CyanogenMod), with some small demo files and the ioctls from these
    commands
    recorded:

      gvfs-mount 'mtp://[usb:001,017]'
      gvfs-ls 'mtp://[usb:001,017]/SD-Karte'
      gvfs-ls 'mtp://[usb:001,017]/SD-Karte/Music'
      gvfs-ls 'mtp://[usb:001,017]/SD-Karte/Music/GStreamer - The
      Test Sine'
      gvfs-info 'mtp://[usb:001,017]/SD-Karte/Music/GStreamer - The
      Test Sine'
      gvfs-info 'mtp://[usb:001,017]/SD-Karte/Music/GStreamer - The
      Test Sine/sine.ogg'
      gvfs-cat 'mtp://[usb:001,017]/SD-Karte/Music/GStreamer - The Test
      Sine/sine.ogg'
      gvfs-cat 'mtp://[usb:001,017]/SD-Karte/hello.txt'
      gvfs-info 'mtp://[usb:001,017]/SD-Karte/hello.txt'
      gvfs-info 'mtp://[usb:001,017]/SD-Karte/DCIM/100CANON/IMG_0001.JPG'
      gvfs-cat 'mtp://[usb:001,017]/SD-Karte/DCIM/100CANON/IMG_0001.JPG'

    If umockdev is available, use it to simulate that device and check
    that we can
    get the directory and file info, and access the file contents.

    This bumps the (optional) umockdev dependency to >= 0.2.10.

A	test/files/mtp_xperia.ioctl.xz
A	test/files/mtp_xperia.umockdev
M	test/gvfs-test

commit 14f82fd299320f28ac11c877c326e254507b402e
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2013-06-14

    gvfs-test: Drop dbus startup from gvfs-testbed

    Drop the D-BUS launch in the gvfs-testbed wrapper, and always launch
    the test
    session D-BUS in gvfs-test. This makes both scripts easier and
    more consistent,
    and also makes the GPhoto test work under gvfs-testbed.

    This bumps the (optional) umockdev dependency to >= 0.2.9.

M	test/gvfs-test
M	test/gvfs-testbed

commit 4099005236ff64aad3cdf7d79bca5d8bd6741cfb
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2013-06-14

    gvfs-test: Support calling this in an unbuilt tree

    Instead of failing all over the place and complaining about a missing
    session.conf, run the tests against the installed gvfs.

M	test/gvfs-test

commit 53f086bdb30a1cc582ed7064bbf69f931b398134
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-06-11

    afc: Bump libimobiledevice dependency

    https://bugzilla.redhat.com/show_bug.cgi?id=951731
    https://bugzilla.gnome.org/show_bug.cgi?id=702577

M	configure.ac
M	daemon/gvfsbackendafc.c
M	monitor/afc/afcvolume.c
M	monitor/afc/afcvolumemonitor.c

commit 80d83ce120fc0af69ef61abfeea96604c0190cad
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-06-11

    afc: Update to libimobiledevice new api

    https://bugzilla.redhat.com/show_bug.cgi?id=951731

M	configure.ac
M	daemon/gvfsbackendafc.c
M	monitor/afc/afcvolume.c

commit 6c61bf71944952ff7e71e92bb3c1c972053f5f7a
Author: Alexander Larsson <alexl@redhat.com>
Date:	2013-06-14

    Update NEWS for release

M	NEWS

commit 5a4f9e6a366e40a6967ff1569c7c2eaaabd5c4a1
Author: Alexander Larsson <alexl@redhat.com>
Date:	2013-06-14

    metadata: Fix short journal check

    This was reading the size in the wrong place *sizep, not *(sizep-1),
    plus the out of bounds checks were wrong.

    https://bugzilla.gnome.org/show_bug.cgi?id=637095

M	metadata/metatree.c

commit 7aa0c533a78dead59ea0c1a6bc132b8d8e051bcf
Author: Giovanni Campagna <gcampagna@src.gnome.org>
Date:	2013-06-02

    goa: export the activation root for volumes

    Now that we can be in charge of mounts even if we have the shadow
    mount infrastructure, we should export it so that tracking
    of the associated GDaemonMount works correctly.

    https://bugzilla.gnome.org/show_bug.cgi?id=696279

M	monitor/goa/goavolume.c
M	monitor/goa/goavolumemonitor.c

commit 97a4246ba7f620ee348711b21cba8a1b67e8a056
Author: Giovanni Campagna <gcampagna@src.gnome.org>
Date:	2013-06-02

    GProxyVolume: extend the protocol so the volume monitor can force
    a call to Mount

    Some volume monitors, like gnome-online-accounts, want their
    mount implementation to be called even though the volume has an
    activation root. Allow them to advertise so using the expansion
    fields of the volume DBus representation.

    https://bugzilla.gnome.org/show_bug.cgi?id=696279

M	monitor/proxy/gproxyvolume.c
M	monitor/proxy/gvfsproxyvolumemonitordaemon.c
M	monitor/proxy/gvfsproxyvolumemonitordaemon.h

commit bf50158cb58d1d22d6ece145d1eabd790b30798f
Author: Giovanni Campagna <gcampagna@src.gnome.org>
Date:	2013-06-02

    GDaemonFile: fix relative path handling to account for mount_prefix

    If two files have two different origins (say, one from
    g_mount_get_root()
    and one from g_file_new_for_uri()), the mount_spec they use could
    expose a different mount_prefix, even if the represent the same URI
    and network object.

    This in particular fixes the handling of shadow mounts for dav
    (which rewrites the mount_spec during mount to find the right prefix)

    https://bugzilla.gnome.org/show_bug.cgi?id=696279

M	client/gdaemonfile.c

commit 5235e39b054e7574493c50bf60dce874f040bd6c
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2013-06-11

    gvfs-test: Add first test for gphoto2 backend

    Add umockdev dump and ioctl trace for a Canon PowerShot SX200
    digicam, with
    ioctls from these commands recorded:

      gvfs-mount -li
      gvfs-mount gphoto2://[usb:001,011]/
      gvfs-info gphoto2://[usb:001,011]
      gvfs-info gphoto2://[usb:001,011]/DCIM
      gvfs-info gphoto2://[usb:001,011]/DCIM/100CANON/IMG_0001.JPG
      gvfs-info gphoto2://[usb:001,011]/DCIM/100CANON/IMG_0002.JPG
      gvfs-cat gphoto2://[usb:001,011]/DCIM/100CANON/IMG_0001.JPG
      gvfs-cat gphoto2://[usb:001,011]/DCIM/100CANON/IMG_0002.JPG

    (With two tiny test images, not actual big photos)

    If umockdev is available, use it to simulate that device and check
    that we can
    get the directory and file info, and access the pictures.

    Note that this does not yet work under gvfs-testbed, as we somehow
    need to
    inject the $UMOCKDEV_ROOT into the spawned d-bus.

M	test/Makefile.am
A	test/files/powershot.ioctl.xz
A	test/files/powershot.umockdev
M	test/gvfs-test

commit 025792d444cbbc12e0d64969c59645f5d7fac174
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2013-06-13

    gvfs-test: More robust cleanup of temporary home directory

    Especially the trash:// tests have a tendency to leave the
    gvfs-metadata child
    around a little while after killing the D-BUS daemon, and thus
    leaving the
    temporary home directory busy. Retry for a few times to allow
    gvfsd-metadata to
    clean up itself.

M	test/gvfs-test

commit 45f1243fd2ed2129caebdc1b55d1d8a255418a18
Author: Debarshi Ray <debarshir@gnome.org>
Date:	2013-06-06

    http: Don't send a SoupMessage if we only want the thumbnail path

    https://bugzilla.gnome.org/show_bug.cgi?id=701714

M	daemon/gvfsbackendhttp.c

commit f389246b60f3ce6d528af01f15a296b122815cd0
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-05-29

    Use GOnce for interface type registration

    Related to https://bugs.freedesktop.org/show_bug.cgi?id=65130

M	daemon/gvfsjobsource.c

commit 54f23f2d89a4b066f19f5e56108fc0464df25585
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2013-05-29

    gvfs-test: Drop assumption about local consoles

    Drop the check that mounting a CD fails without the fake polkit. This
    worked in
    ConsoleKit times, but not with logind any more.

M	test/gvfs-test

commit 1f6ad356dcc73acf7d5c75a75e5f829809ee96af
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2013-05-29

    gvfs-test: Do not assume that /run/udev/rules.d/ exists

    Create the directory if necessary. Recent udev versions do not
    create it
    automatically any more.

M	test/gvfs-test
M	test/gvfs-testbed

commit 9fcbba900c87a41a85281bec3ee1989258f3a3db
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2013-05-29

    gvfs-test: Fix for Python 3.3

    Use read() instead of readall() for reading from subprocess, as this
    is a
    BufferedReader() now. This also works for older Python versions.

    Also, add another missing Popen.stdin.flush(), like in the previous
    commit.

M	test/gvfs-test

commit 8f0ffa1f5b8c541f30d73b99aee8e2aab574c28d
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2013-05-29

    gvfs-test: Fix communication with gvfs CLI tool

    Flush the stdin stream to "gvfs-mount" after writing to it. Apparently
    Python
    3.3's buffering behaviour has changed to require this now.

M	test/gvfs-test

commit 5c1843f5905255cbb471fe414a66eeee78102662
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2013-05-29

    gvfs-test: Avoid deadlocks when waiting for CLI user prompts

    Force subprocess' stdout to be non-blocking, so that we do not
    potentially wait
    forever, but time out properly.

M	test/gvfs-test

commit ba7981734456b86787777c119821a17e7dbe5737
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-04-30

    smb: Add support for specifying custom port

    Thanks to the work by Jeremy Allison we should be able to connect
    to a non-standard port through new enough Samba version.

    This patch adds a port argument to smburi parser and both smb and
    smb-browse backends.

    https://bugzilla.gnome.org/show_bug.cgi?id=698071

M	client/smburi.c
M	daemon/gvfsbackendsmb.c
M	daemon/gvfsbackendsmbbrowse.c

commit b1c573b3400e1aa0f5a835edda2505abb6bcf313
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-05-27

    Post release version bump

M	configure.ac

commit f96d3c00f514c5901d7bd50a893f2ff3887623c7
Author: Ondrej Holy <oholy@redhat.com>
Date:	2013-05-24

    Update NEWS for 1.17.1 release

M	NEWS

commit eb62d94a9a3141fd016b0abad8dcf142c4c0d962
Author: Colin Walters <walters@verbum.org>
Date:	2013-05-21

    metadata: Downgrade journal short-read to debug

    Because multiple clients can be concurrently writing to the journal,
    it's possible to see partially written journal entries.  Emitting
    g_warning() here breaks test cases.

    The real fix would be safe concurrent access to the journal, but
    that's harder.

    https://bugzilla.gnome.org/700785

M	metadata/metatree.c

commit 5ab3363029f94f30cf716aa55fe4f581ef67f14d
Author: Colin Walters <walters@verbum.org>
Date:	2013-05-21

    sftp: Fix two compilation warnings

M	daemon/gvfsbackendsftp.c

commit 1b5dbbe63f607cb9fadbc7109cc3124460a185d8
Author: Richard Stanislavský <kenny.vv@gmail.com>
Date:	2013-05-21

    Updated slovak translation

M	po/sk.po

commit e793a0476feeaa0a3cc4f1fd043c15c297707455
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-05-13

    metadata: Flush all scheduled writeouts on daemon exit

    This patch ensures that we safely write all data from journals to
    metatrees on exit. E.g. if anything happens to session bus or we get
    replaced by some other instance.

    https://bugzilla.gnome.org/show_bug.cgi?id=637095

M	metadata/meta-daemon.c

commit c8e7d1375715545f28a0943ce7657330e3b70acd
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-05-13

    metadata: Use shorter writeout timeout on NFS

    Since we've moved journal to a non-volatile storage, let's flush
    more often to minimize a chance of data loss.

    https://bugzilla.gnome.org/show_bug.cgi?id=637095

M	metadata/meta-daemon.c
M	metadata/metatree.c
M	metadata/metatree.h

commit 749c872b9192a84e65d83bc0f0eb697ab247fdd8
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-05-13

    metadata: Put journal in $XDG_RUNTIME_DIR for shared NFS homedir case

    This essentially moves is_on_nfs() from metatree.c in metabuilder.c
    as the more appropriate place for shared functions. It's used in
    meta_builder_get_journal_filename() to determine whether to use
    original
    metadata directory or temporary $XDG_RUNTIME_DIR location to work
    around
    certain NFS issues.

    The idea behind this change is to have separate journals for every
    client
    that is accessing shared homedir. Then the only possible point
    of conflict
    is on rotation which is backed up by atomic file rename. Without this,
    there were multiple metadata daemons writing to the same journal file,
    overwriting changes to each other and being racy in flush and
    rotation.

    There will always be a conflict between clients, overwriting tree file
    data by flushing their journals.

    https://bugzilla.gnome.org/show_bug.cgi?id=637095

M	metadata/metabuilder.c
M	metadata/metabuilder.h
M	metadata/metatree.c

commit 3381859ba7a92f4824ff09a7aa951407bf4e1c72
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-05-13

    metadata: Create new journal if it doesn't exist

    With concurrent access of multiple daemons there may be a moment when
    tree file exists but not the journal file. The daemon can't write
    anything without journal and is doomed until next rotation. Missing
    journal file can also happen on system crash etc.

    This patch tries to create new journal file only when it doesn't
    exist,
    other errors still lead to inability to store anything.

    This will also allow us to have journal file somewhere else, e.g. on
    a non-persistent storage.

    https://bugzilla.gnome.org/show_bug.cgi?id=637095

M	metadata/metabuilder.c
M	metadata/metabuilder.h
M	metadata/metatree.c

commit 21811b3ae17ec705327484c1ce0be75fec95bb0e
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-05-13

    metadata: Be more resistive to broken journal files

    In shared NFS homedir case with multiple clients writing to the same
    mmaped journal file data can get easily corrupted. The daemon iterates
    over a journal file on flush taking in account variable entry size and
    advances according to the data read.

    However in certain case invalid data are read making us to jump out of
    bounds. In case of zero entry size we would stand at the same place
    leading to infinite loop.

    This patch checks if the indicated entry size is at least the size of
    the structure we're getting the size from (it's a first element)
    and breaks
    the iteration cycle if it's not. This may lead to partial data loss
    on flush
    as we don't process the rest of the journal file. Old data from
    existing
    tree file will be preserved of course, only few recent changes would
    get lost.

    https://bugzilla.gnome.org/show_bug.cgi?id=637095

M	metadata/metatree.c

commit 6b12c3d7b33c87a7fea228106f39ecf2a3e0f310
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-05-13

    metadata: Force tree re-read after successful flush

    Once we flush the journal and write new tree file we need to re-read
    it to refresh internal data structures (and mmap data from the right
    file). We originally left this work on meta_tree_refresh_locked() and
    meta_tree_needs_rereading() respectively where we checked the rotated
    bit.

    In detail, metabuilder wrote a new temp tree file, then explicitly
    opened
    the current (old) one, wrote the rotated bit and atomically
    replaced the
    temp file. Then the metadata daemon having mmapped the old file
    detected
    the rotated bit and scheduled journal and tree file reopen+reread.

    However in concurrent environment like NFS homedir where multiple
    metadata
    daemons are handling the same database we may run in a race and
    not getting
    the rotated bit detected properly.

    This led to an infinite loop between meta_journal_add_entry() -
    meta_tree_flush_locked() - meta_tree_refresh_locked() -
    meta_journal_add_entry()
    since we had full journal, didn't detect the rotation and since
    the files
    were already unlinked, there was no force to break that loop. This
    patch
    forces tree file re-read after successful flush to prevent this issue.

    https://bugzilla.gnome.org/show_bug.cgi?id=637095

M	metadata/metatree.c

commit 051556ee1dd6b8af290cc15875290b756600b71b
Author: Timothy Arceri <t_arceri@yahoo.com.au>
Date:	2013-05-07

    Implement clean shutdown in sftp backend

    https://bugzilla.gnome.org/show_bug.cgi?id=511802

M	daemon/gvfsbackendsftp.c

commit 8c5d70c411d3b7f0c0622e0a73567e83b2745249
Author: Timothy Arceri <t_arceri@yahoo.com.au>
Date:	2013-04-20

    Adds remaining shutdown infrastructure and call from cdda backend.

    https://bugzilla.gnome.org/show_bug.cgi?id=511802

M	daemon/daemon-main.c
M	daemon/gvfsbackend.c
M	daemon/gvfsbackend.h
M	daemon/gvfsbackendcdda.c

commit 238a92496f5ab165b52f90d414379525cb262ee1
Author: Philip Langdale <philipl@overt.org>
Date:	2013-05-01

    MTP: Fix compilation warning.

    The add_cache_entry helper's signature said it returned the CacheEntry
    but it doesn't.

    https://bugzilla.gnome.org/show_bug.cgi?id=699424

M	daemon/gvfsbackendmtp.c

commit 341d17c7a78a7ce001d51f665763c33570ccec65
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-04-30

    Post release version bump

M	configure.ac

commit 927378b614382f4c214de0b78083e34a3deb527a
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-04-30

    Update NEWS for 1.17.0 release

M	NEWS

commit 98a891369688a072df516caf41f4c39029b5d9ca
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-04-29

    httpuri: Fix a typo

M	client/httpuri.c

commit a2565bbfe5a0928d098b50a8ef4537d3456df8e4
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2013-04-25

    Document the --etag attribute of gvfs-save

M	man/gvfs-save.xml

commit 71c1e26e13144d1de79d273f5665ddaae56b512b
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2013-04-25

    gvfs-move: Don't document nonexisting options

    The gvfs-move tool doesn't have a --preserve option.

M	man/gvfs-move.xml

commit 6cb23192dd1b5c26c4aa27619352768785285de7
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2013-04-25

    Fix a typo in the gvfs-info man page

M	man/gvfs-info.xml

commit 3c192e1120c3489eec3a4863882bbac48f3d511c
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2013-04-25

    iFix a typo in the gvfs-set-attribute man page

M	man/gvfs-set-attribute.xml

commit 3f72ae855a0a7fb05c8dc4cc4ec481fc57646f48
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2013-04-25

    Fix a typo in the gvfs-ls man page

M	man/gvfs-ls.xml

commit c9bbd01b70fea6488f48d2360893196295e13429
Author: Ryan Lortie <desrt@desrt.ca>
Date:	2013-04-20

    GVfsIcon: support icon serialisation

    Add support for the new icon serialisation interface to GVfsIcon
    as well
    as implementing the new interface on GVfsClass for deserialising.

    https://bugzilla.gnome.org/show_bug.cgi?id=688820

M	client/gdaemonvfs.c
M	common/gvfsicon.c
M	common/gvfsicon.h
M	configure.ac

commit 89c89f5a3a0ce4dedb969f4cc2e996c581141c97
Author: Philip Langdale <philipl@overt.org>
Date:	2013-04-17

    MTP: Use actual standard name for SD Card icon.

    The last name I chose was deprecated. What fun.

    https://bugzilla.gnome.org/show_bug.cgi?id=698174

M	daemon/gvfsbackendmtp.c

commit 586ed0c7b662d97486966273983e8586039a5ed1
Author: Philip Langdale <philipl@overt.org>
Date:	2013-04-16

    MTP: Use standard name for SD Card icon.

    I was previously using an Ubuntu specific alias.

    https://bugzilla.gnome.org/show_bug.cgi?id=698174

M	daemon/gvfsbackendmtp.c

commit 82d39107703293fc6f25b4ac8b1312366809a229
Author: OKANO Takayoshi <kano@na.rim.or.jp>
Date:	2013-04-16

    l10n: Update Japanese translation

M	po/ja.po

commit 517ae68514f5489c5494d0a3c667a727d1bf2681
Author: Timothy Arceri <t_arceri@yahoo.com.au>
Date:	2013-04-12

    Adds infrastructure for the backends to exit cleanly

    https://bugzilla.gnome.org/show_bug.cgi?id=511802

M	daemon/gvfsdaemon.c
M	daemon/gvfsdaemon.h
M	daemon/main.c

commit 9ce7691218febc42bca1e3a35bfe72c2f23a566d
Author: Philip Langdale <philipl@overt.org>
Date:	2013-04-14

    MTP: Handle overwriting of files in do_pull correctly.

    As with do_push, it's necessary for us to explicitly detect the
    OVERWRITE case and handle it appropriately.

M	daemon/gvfsbackendmtp.c

commit 05ebb30a6a4e3aa5a30355a594fb53ece3059f09
Author: Colin Walters <walters@verbum.org>
Date:	2013-04-10

    daemon: Fix build breakage from previous commit

    The trivial fix didn't work because there is now a circular dependency
    between the gvfsdaemon.h and and gvfsbackend.h headers.  Break
    this by creating the standard "types.h".

    https://bugzilla.gnome.org/show_bug.cgi?id=511802

M	daemon/Makefile.am
M	daemon/gvfsdaemon.h
A	daemon/gvfstypes.h

commit ef65827c7962ad534b4d044354249d74a832e1d4
Author: Timothy Arceri <t_arceri@yahoo.com.au>
Date:	2013-04-09

    Fix g_vfs_daemon_close_active_channels() to take a GVfsBackend
    argument and only close channels with that backend as a single daemon
    may handle multiple mounts/backends.

    https://bugzilla.gnome.org/show_bug.cgi?id=511802

M	daemon/gvfsdaemon.c
M	daemon/gvfsjobunmount.c

commit 10331e649f843e9b50e78aeb6dae1b439bd27c57
Author: Bruce Cowan <bruce@bcowan.me.uk>
Date:	2013-04-06

    Updated British English translation

M	po/en_GB.po

commit 20406034ca71ca24c39eec1a7b4b6878eb3f204b
Author: Alexander Larsson <alexl@redhat.com>
Date:	2013-04-05

    daemons: Tweak read sizes

    Make sure we never read more than one page unless requested on
    the first
    read. This helps for e.g. sniffing and gstreamer (which reads in
    4k blocks
    with seeks inbetween).

    Also, further limit the max size request, because 512k seems very
    ridicoulus.

M	daemon/gvfsreadchannel.c

commit 4efd634afdb564b890e75404aefea5198e3b6487
Author: Alexander Larsson <alexl@redhat.com>
Date:	2013-04-05

    Fix readahead behaviour

    We were constantly adding extra readahead operations that were
    not really
    needed. A single readahead is necessary to get the read operations
    pipelined (see comment). Also, avoid readahead for the first read
    to handle random access i/o better.

    https://bugzilla.gnome.org/show_bug.cgi?id=697289

M	daemon/gvfsreadchannel.c

commit 210dab51a9db47795b03d3090c3ffdfd3bf3a1df
Author: Alexander Larsson <alexl@redhat.com>
Date:	2013-04-05

    GVfsJobError: Return TRUE in try

    This fixes a warning and a potentially useless call of do() method in
    a thread.

M	daemon/gvfsjoberror.c

commit de374faaff6b17ff2c65087b22e517410af4b6bc
Author: Alexander Larsson <alexl@redhat.com>
Date:	2013-04-04

    remove debug spew

M	daemon/gvfsjoberror.c

commit 5dcde303ae36986fd7dda4efb540ce4719fb648a
Author: Alexander Larsson <alexl@redhat.com>
Date:	2013-04-04

    GVfsChannels: Verify that replies are for the right serial

    We might be getting replies for old cancelled operations which
    we need to ignore.

    https://bugzilla.gnome.org/show_bug.cgi?id=675181

M	client/gdaemonfileinputstream.c
M	client/gdaemonfileoutputstream.c

commit f25b407fdc1ea5624ebe8b8b0e026615f1f14243
Author: Alexander Larsson <alexl@redhat.com>
Date:	2013-04-04

    channel: Unqueue cancelled requests

    We put a channel request on the output buffer and start writing, but
    if the write is cancelled on the first call (i.e. no partial writes)
    we abort immediately without ever writing the request.

    However, if we do this we also need to unqueue the request from
    the output
    buffer, as otherwise this will be sent with the next operation. This
    can be problematic for seeks as the seek generation is then not
    in sync.

    https://bugzilla.gnome.org/show_bug.cgi?id=675181

M	client/gdaemonfileinputstream.c
M	client/gdaemonfileoutputstream.c
M	daemon/gvfschannel.c

commit 46f9c79cb7b289676128555646721d18a6c4c062
Author: Alexander Larsson <alexl@redhat.com>
Date:	2013-04-04

    Fix daemon crash when cancelling channel operations

    The error handling in gvfschannel.c:start_queued_request() when
    there was an error creating the job or when the request was cancelled
    caused problems. It didn't set current_job, yet it called
    g_vfs_channel_send_error() which eventually resulted in a
    call to send_reply_cb which crashed as it assumed current_job
    was set.

    Also, not returning TRUE for started_job when we sent an error
    is problematic as we then could start the next job which caused
    us to have two outstanding jobs on the same channel mixing things up
    badly.

    https://bugzilla.gnome.org/show_bug.cgi?id=675181

M	daemon/Makefile.am
M	daemon/gvfsbackend.h
M	daemon/gvfschannel.c
A	daemon/gvfsjoberror.c
A	daemon/gvfsjoberror.h

commit a8965c4e04c9fd14fa2a611aeac6ed620d186c62
Author: Philip Langdale <philipl@overt.org>
Date:	2013-04-03

    MTP: Fix compilation with libmtp 1.1.5

    One of the 1.1.6 specific calls was missing its #ifdef guard.

M	daemon/gvfsbackendmtp.c

commit 94f8380381c46b1512712be1192894dd9a9e12f0
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-04-03

    gvfschannel: Return proper error if we're out of free fds

    In case of too many open files within the process the
    g_vfs_channel_init() call fails on socketpair and subsequent
    g_vfs_channel_steal_remote_fd() call returns -1 for the fd.
    Then g_unix_fd_list_append() hits the assert and doesn't set an
    error we're dereferencing afterwards.

    This patch doesn't solve the lack of free fds situation and since glib
    heavily depends on it it would fail somewhere else. We're just fixing
    the segfault and returning nicer error.

    Based on a fix suggested by Stephen M. Webb

    https://bugzilla.gnome.org/show_bug.cgi?id=696713

M	daemon/gvfschannel.c
M	daemon/gvfsjobopenforread.c
M	daemon/gvfsjobopenforwrite.c

commit 421ce4a6b4526047fde9d8d039a66b520eb09f3f
Author: Bastien Nocera <hadess@hadess.net>
Date:	2013-03-14

    Fix compiler warnings

    https://bugzilla.gnome.org/show_bug.cgi?id=695834

M	client/gvfsfusedaemon.c
M	common/gvfsmountinfo.c
M	daemon/gvfsafpvolume.c
M	daemon/gvfsbackenddav.c
M	daemon/gvfshttpinputstream.c
M	metadata/meta-get-tree.c
M	monitor/goa/goavolume.c
M	monitor/udisks2/gvfsudisks2volume.c

commit 070294d1bac480f45eb4b5573d4aa6b8380e7fdc
Author: Bastien Nocera <hadess@hadess.net>
Date:	2013-03-31

    obexftp: Fix crasher due to missing D-Bus threads support

    Spotted by Serge Gavrilov <serge@pdmi.ras.ru>

    The GDbus port removed the need for us to initialise
    libdbus' threads support, and commit
    7d4bd61385cd56db5507ee31b14724244b637da4
    removed the last call to it.

    However, the obexftp backend still hasn't fully been ported
    to GDbus, and needs this threading support. Re-add it directly
    in the backend.

    https://bugzilla.gnome.org/show_bug.cgi?id=693574

M	daemon/gvfsbackendobexftp.c

commit 7d6b36dae188d249365eb2716c34b23ebebab5f6
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-04-02

    Post branching version bump

M	configure.ac

commit 983353c493954b785c582766017647f32c0aff82
Author: Kristjan SCHMIDT <kristjan.schmidt@googlemail.com>
Date:	2013-04-01

    Updated Esperanto translation

M	po/eo.po

commit ab05416b79fe455559dfb6d6ea36c6c6ec127e91
Author: Philip Langdale <philipl@overt.org>
Date:	2013-03-31

    MTP: Fully avoid untranslated strings.

    Fixed one typo from the first fix, and re-replaced one string. My
    first choice had not really been translated (though it was present
    in some of the existing translation files)

M	daemon/gvfsbackendmtp.c

commit 9230a05d6098b3f5b846c69be40a23a1ca8b5d5c
Author: Philip Langdale <philipl@overt.org>
Date:	2013-03-31

    MTP: Avoid introducing new translatable strings.

    The last set of changes unnecessarily introduced new strings for
    translation. This change replaces them with existing strings.

M	daemon/gvfsbackendmtp.c

commit 70793f173d6b216f3602f581b049bc8ac3837f52
Author: Mario Blättermann <mario.blaettermann@gmail.com>
Date:	2013-03-31

    [l10n] Updated German translation

M	po/de.po

commit 240d860c1570db974c77cd47a292fd30ccf73cf5
Author: Enrico Nicoletto <liverig@gmail.com>
Date:	2013-03-30

    Updated Brazilian Portuguese translation

M	po/pt_BR.po

commit 4094fb8e4793981e0f516569a1b5d4a2144f0ab7
Author: Philip Langdale <philipl@overt.org>
Date:	2013-03-23

    Daemon: Ensure monitors are not prematurally finalized.

    If a monitor is being cleaned up due to the backend disappearing,
    we could see the monitor being finalized as a result of removing
    a subscriber, leading to a segfault as it continues to access
    its internal state.

    https://bugzilla.gnome.org/show_bug.cgi?id=696479

M	daemon/gvfsmonitor.c

commit d31ebff2b2d9a44f380ada8887c77dfdee770eb5
Author: Philip Langdale <philipl@overt.org>
Date:	2013-03-20

    MTP: Handle overwriting of files in do_push correctly.

    If a file copy is requested without OVERWRITE but the destination
    exists, return G_IO_ERROR_EXISTS. If OVERWRITE is requested, then
    delete the destination before the push.

    https://bugzilla.gnome.org/show_bug.cgi?id=696163

M	daemon/gvfsbackendmtp.c

commit 30ca34dfd2a4c2f86a906d9bdea75adf8d4a73f4
Author: Philip Langdale <philipl@overt.org>
Date:	2013-03-17

    MTP: Clear cache and emit delete events when an object is removed.

    If an object is reported as removed by the device, remove it from
    the cache and emit a delete event for it.

    https://bugzilla.gnome.org/show_bug.cgi?id=696016

M	daemon/gvfsbackendmtp.c

commit 12a47b298d3bb3274e9796533cdd6c88b670e87d
Author: Philip Langdale <philipl@overt.org>
Date:	2013-03-17

    MTP: Clear previous cache entries when refreshing a directory.

    https://bugzilla.gnome.org/show_bug.cgi?id=696016

M	daemon/gvfsbackendmtp.c

commit cc83b6b557bb2c23833242f308dd5b4478b8bd30
Author: Philip Langdale <philipl@overt.org>
Date:	2013-02-26

    MTP: When removing cache entries, remove children too.

    If a directory is deleted or renamed, everything inside it has to
    be invalidated in the cache too. The simplest way to do this is
    to remove by string prefix match. This will remove too many entries
    if there are filenames that match the prefix but aren't actually
    children. This is ok as the cache will be repopulated as needed
    and operations that invalidate the cache are infrequent.

    https://bugzilla.gnome.org/show_bug.cgi?id=696016

M	daemon/gvfsbackendmtp.c

commit 79f94867d39bab750fb437ffe552f943cfda0add
Author: Philip Langdale <philipl@overt.org>
Date:	2013-02-24

    MTP: Use normal filenames in paths.

    It's becoming too fragile to use item IDs as path elements. Beyond
    the problems with clients that don't use copy names, there are a
    bunch of situtations where a path sent by a client could be an id
    or a filename and it's not 100% possible to tell them apart.

    When the initial feature set of very limited, this wasn't much
    of an issue, but with direct read/write support, we are now
    exposed to a huge set of clients (as opposed to just file managers)
    with no ability to recognise copy names, and which generate a lot
    of mixed form paths, so we're past the tipping point where it's now
    less of a hassle to maintain a name to id mapping.

    https://bugzilla.gnome.org/show_bug.cgi?id=696016

M	daemon/gvfsbackendmtp.c
M	daemon/gvfsbackendmtp.h

commit e88aa8dad358a23c164a95267f7dd8415d377b21
Author: Philip Langdale <philipl@overt.org>
Date:	2013-02-18

    MTP: Use android extensions to support in place write to files.

    Allows for opening files directly on the device and writing to them.

    https://bugzilla.gnome.org/show_bug.cgi?id=695984

M	daemon/gvfsbackendmtp.c

commit 3176cd338e955f67de0c68e1d6500902459e80e7
Author: Philip Langdale <philipl@overt.org>
Date:	2013-02-11

    MTP: Use android extensions to support in place read of files.

    Allows for opening files directly on the device and reading from them.

    https://bugzilla.gnome.org/show_bug.cgi?id=695984

M	configure.ac
M	daemon/gvfsbackendmtp.c
M	daemon/gvfsbackendmtp.h

commit 4ee8ef9bfeb6b5a4f5d0c21867a0c662fc52f240
Author: Philip Langdale <philipl@overt.org>
Date:	2013-02-23

    MTP: Refactor read path in preparation for supporting normal files.

    The existing logic for reading only works for preview icons, but
    I'm about to add support for reading normal files using special
    MTP calls. For that, we need the read calls to work for both cases.

    To achieve that, we need to make reading more stateful.

    https://bugzilla.gnome.org/show_bug.cgi?id=695984

M	daemon/gvfsbackendmtp.c

commit e9ba3d8951d83c1e3be14ba6ed60b72906ffff0f
Author: Krishnababu Krothapalli <kkrothap@redhat.com>
Date:	2013-03-26

    Updated Telugu Translations

M	po/te.po

commit 4f9c0df5e761adca0107fe3dcfcd3054a5a6c5ed
Author: Krishnababu Krothapalli <kkrothap@redhat.com>
Date:	2013-03-26

    Updated Telugu Translations

M	po/te.po

commit 1dbba65340ad096bf18d1995edd58ba37d89eede
Author: Shankar Prasad <svenkate@redhat.com>
Date:	2013-03-26

    Updated kn translations

M	po/kn.po

commit 92abf64e33686bb2ae715fa7abde7f1d38c13ac5
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-03-25

    Post release version bump

M	configure.ac

commit 6210d23edaba478efd7a76d9c73ced080cd842c1
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-03-25

    Update NEWS for 1.16.0 release

M	NEWS
M	configure.ac

commit c19b628fd19c7e37c37552537694019798473be9
Author: Petr Kovar <pkovar@redhat.com>
Date:	2013-03-24

    Update Czech translation

M	po/cs.po

commit 35f5d69034f1cb0ec59d45225cfbb63ab66497a1
Author: Sandeep Sheshrao Shedmake <sshedmak@redhat.com>
Date:	2013-03-24

    Updated Marathi Translations

M	po/mr.po

commit e21ce08c7aaa6a287ca8fc06d4d58f07851444b8
Author: Wouter Bolsterlee <uws@xs4all.nl>
Date:	2013-03-23

    Updated Dutch translation

M	po/nl.po

commit 12630fb340785422d3d52e8d832413590856b193
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-03-22

    build: Distribute m4 macros

    The m4 directory is used by *ize scripts for putting their m4
    macros there
    and is a common practice to distribute these macros within a tarball.

    https://bugzilla.gnome.org/show_bug.cgi?id=693634

M	Makefile.am
M	autogen.sh

commit e903c3e908249b094b6109af52ad2c931c5add89
Author: Shantha kumar <shkumar@redhat.com>
Date:	2013-03-22

    Tamil Translations Updated

M	po/ta.po

commit 1b5b510deeee53842b83616a2c720c4b41a7a2d5
Author: ManojKumar Giri <mgiri@redhat.com>
Date:	2013-03-22

    Updated Odia Language along with FUEL implementation

M	po/or.po

commit 96d9cade8f08284beb47a3ba29b763dd4cb80645
Author: Rajesh Ranjan <rranjan@redhat.com>
Date:	2013-03-22

    hindi translation

M	po/hi.po

commit 11bb63dca6b9e2c16906d63470896c6754036310
Author: Ville-Pekka Vainio <vpvainio@iki.fi>
Date:	2013-03-21

    Finnish translation update by Jiri Grönroos

M	po/fi.po

commit c9a3381000b9f25d5fbe20c5f6ecb0d0739477a7
Author: Gabor Kelemen <kelemeng@gnome.hu>
Date:	2013-03-21

    Updated Hungarian translation

M	po/hu.po

commit 6a324aa05f1213d6b1f9ee31d022728df0dd59f2
Author: Nishio Futoshi <fut_nis@d3.dion.ne.jp>
Date:	2013-03-21

    [l10n] Update Japanese translation

M	po/ja.po

commit 9be6420ee91b4d0c068f284304ccffa22b4c3899
Author: Victor Ibragimov <victor.ibragimov@gmail.com>
Date:	2013-03-19

    [l10n] Added Tadjik translation

M	po/LINGUAS
A	po/tg.po

commit 6ee73074971eaab23646550d1f17b9abd9725501
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2013-03-18

    gvfs-test: Update expected gvfs-mount -li output

    Update expected "Drive connected:" output for the Drive.test_cdrom and
    Drive.test_system_partition tests, as gvfs now prints the driver
    name instead
    of the label.

M	test/gvfs-test

commit e2e53eb30a1614369da2bcdeff22d5861c6b2613
Author: Rūdolfs Mazurs <rudolfsm@src.gnome.org>
Date:	2013-03-17

    Updated Latvian translation

M	po/lv.po

commit b89af14018a568bd342d17459cf161e46abc85c2
Author: Rūdolfs Mazurs <rudolfsm@src.gnome.org>
Date:	2013-03-17

    Updated Latvian translation

M	po/lv.po

commit 578e746f30f8a9e8f7a8df3d4778f928eddbe07a
Author: Ask H. Larsen <asklarsen@gmail.com>
Date:	2013-03-17

    Updated Danish translation

M	po/da.po

commit 5c61c7092d025242c74054f7eacd340d30e0b332
Author: Philip Langdale <philipl@overt.org>
Date:	2013-03-16

    MTP: Switch to version based checks for new libmtp features.

M	configure.ac
M	daemon/gvfsbackendmtp.c

commit 7855cb474a061b0908a2fa8f4b3687f1d9759e97
Author: Bastien Nocera <hadess@hadess.net>
Date:	2013-03-14

    cdda: Fix warnings for each track on the CD

    (process:22937): GLib-CRITICAL **: g_convert: assertion `str !=
    NULL' failed
    for each of the tracks as we tried to convert the genre (which
    was NULL)

    https://bugzilla.gnome.org/show_bug.cgi?id=695835

M	daemon/gvfsbackendcdda.c

commit 51ad0a98b0834fc7755e26ded721604ac890e8ff
Author: Bastien Nocera <hadess@hadess.net>
Date:	2013-03-14

    cdda: Remove leading '/' from the filenames

    https://bugzilla.gnome.org/show_bug.cgi?id=695835

M	daemon/gvfsbackendcdda.c

commit aac8860e2f2d7c39f1c5d9f19a4c650771fc1c6e
Author: Bastien Nocera <hadess@hadess.net>
Date:	2013-03-14

    cdda: Remove unneeded function argument

    https://bugzilla.gnome.org/show_bug.cgi?id=695835

M	daemon/gvfsbackendcdda.c

commit 31afcc10efa4ee3375a3c4722302924b664cc49c
Author: Bastien Nocera <hadess@hadess.net>
Date:	2012-11-27

    trash: Use the symbolic names for trash:: attributes

    https://bugzilla.gnome.org/show_bug.cgi?id=695836

M	daemon/gvfsbackendtrash.c

commit 3466f4ef2fa74bf5f20d40a681c36ff5f6521957
Author: Sweta Kothari <swkothar@redhat.com>
Date:	2013-03-14

    Updated gujarati file

M	po/gu.po

commit 2be6bb1786192685c7281869b4163b32ad77d14d
Author: Duarte Loreto <happyguy_pt@hotmail.com>
Date:	2013-03-13

    Updated Portuguese translation and converted to New Spelling (Novo AO)

M	po/pt.po

commit e981707d7e3390d21b16e81e96ee884bc01a1c55
Author: Carles Ferrando <carles.ferrando@gmail.com>
Date:	2013-03-12

    [l10n] Updated Catalan (Valencian) translation

M	po/ca@valencia.po

commit 47922405377b6d498018491db75aebf24c0da39c
Author: Gil Forcada <gforcada@gnome.org>
Date:	2013-03-12

    [l10n] Updated Catalan translation

M	po/ca.po

commit de1280eefc6d2b61146e047e5e8ed831d65db2c7
Author: Claude Paroz <claude@2xlibre.net>
Date:	2013-03-12

    Updated French translation

M	po/fr.po

commit 631007704726cc746843e331e6d482f320c1aaea
Author: Nilamdyuti Goswami <ngoswami@redhat.com>
Date:	2013-03-12

    Assamese translation updated for gnome 3.8

M	po/as.po

commit db72f0d7ae89fc1202e5de469ab8661401e687e5
Author: Changwoo Ryu <cwryu@debian.org>
Date:	2013-03-12

    Updated Korean translation

M	po/ko.po

commit 78f60df065f9fecf04075111a1ed26dc48cf34a6
Author: Changwoo Ryu <cwryu@debian.org>
Date:	2013-03-12

    Updated Korean translation

M	po/ko.po

commit f13720301a406a329c9bffa97d2b1e96c4dc6cad
Author: Changwoo Ryu <cwryu@debian.org>
Date:	2013-03-12

    Updated Korean translation

M	po/ko.po

commit 1812700d45870999997555e8b31484e717762c47
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	2013-03-07

    Updated Slovenian translation

M	po/sl.po

commit 4b9321013bc46b3c7fe38b0234a314b60718749e
Author: Rafael Ferreira <rafael.f.f1@gmail.com>
Date:	2013-03-07

    Updated Brazilian Portuguese translation proofread by Enrico Nicoletto

M	po/pt_BR.po

commit 28655bc178156c7094db93323c915342fce23798
Author: Ihar Hrachyshka <ihar.hrachyshka@gmail.com>
Date:	2013-03-07

    Updated Belarusian translation.

M	po/be.po

commit 49fe2d39c7331250824054d9e6cfd6c474901371
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-03-04

    Post release version bump

M	configure.ac

commit 4c9881c0e77d973146f5992961147dab6af87fa9
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-03-04

    Update NEWS for 1.15.4 release

M	NEWS

commit de82adbfd61ae77a52b9e74903912c9dcad8c1cd
Author: Yuri Myasoedov <omerta13@yandex.ru>
Date:	2013-03-03

    Updated Russian translation

M	po/ru.po

commit ab0e8cf84081c85bacb9283e98315506b62440b0
Author: Mario Blättermann <mario.blaettermann@gmail.com>
Date:	2013-03-03

    Added German translation

M	po/de.po

commit a080b00d2f779ed6248d355f4811c09da5e3c4dc
Author: Aurimas Černius <aurisc4@gmail.com>
Date:	2013-03-02

    Updated Lithuanian translation

M	po/lt.po

commit bfcd300e40455ceea2dd6eddfd0007a5dc73be8b
Author: Nguyễn Thái Ngọc Duy <pclouds@gmail.com>
Date:	2013-03-02

    Updated Vietnamese translation

M	po/vi.po

commit 07033e7ee0c07aa81e5287c7b666e10d9bff67f3
Author: Nguyễn Thái Ngọc Duy <pclouds@gmail.com>
Date:	2013-03-02

    po/vi: import from Damned Lies

M	po/vi.po

commit 22bb8e6b65ed4c6024edff713e484cf631019fd1
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:	2013-03-01

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

M	po/zh_HK.po
M	po/zh_TW.po

commit 54ab696750eff646cfc93ddc1c3cd630f31a7c26
Author: Inaki Larranaga Murgoitio <dooteo@zundan.com>
Date:	2013-02-28

    Updated Basque language

M	po/eu.po

commit 26f0ceb9c69b6ee31adaff24b5de351bd90a9e49
Author: Wylmer Wang <wantinghard@gmail.com>
Date:	2013-02-28

    Update Simplified Chinese translation

M	po/zh_CN.po

commit d839289cc0795c2a26fefcfbd5797091db50013b
Author: Dimitris Spingos <dmtrs32@gmail.com>
Date:	2013-02-26

    Updated Greek translation

M	po/el.po

commit 17d65f4c96866477de43928f1c353ebf1e1cca99
Author: Philip Langdale <philipl@overt.org>
Date:	2013-02-12

    MTP: Respect remove_source in do_push.

    I still think it's odd that it's the backend's responsibility to
    delete the source file, as opposed to the client.

M	daemon/gvfsbackendmtp.c

commit e1a413a367902b9b670af6843599282b631b1470
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2013-02-25

    Updated Norwegian bokmål translation

M	po/nb.po

commit e98257498dafafd0e96f0b6d92a01acb84d2775a
Author: Gheyret Kenji <gheyret@gmail.com>
Date:	2013-02-25

    Updated Uyghur translation

    Signed-off-by: Gheyret Kenji <gheyret@gmail.com>

M	po/ug.po

commit b063f6b659d09a37bbc5631f89b2038992cdff8f
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:	2013-02-23

    Updated Hebrew translation.

M	po/he.po

commit ee962a123b58b88014bed278914c74b773cd0246
Author: Gheyret Kenji <gheyret@gmail.com>
Date:	2013-02-22

    Updated Uyghur translation

    Signed-off-by: Gheyret Kenji <gheyret@gmail.com>

M	po/ug.po

commit 99a7847c6238d65582f1783874a849a9f84d85f8
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:	2013-02-20

    Updated Galician translations

M	po/gl.po

commit 0dafb0c79b5f1d3029981d46c2defe9bf50f6eff
Author: A S Alam <aalam@users.sf.net>
Date:	2013-02-20

    Punjabi: Translation updated (aalam)

M	po/pa.po

commit aef8cb24acc65bf4237f66a923932fcd7df031b7
Author: Zeeshan Ali (Khattak) <zeeshanak@gnome.org>
Date:	2011-09-15

    gdu,udisks2: Make use of new udev property

    New udev/blkid expose more ISO9660 properties, including 'Boot System
    ID'. Existance of this property implies that media is bootable. The
    libosinfo udev rules that provided the 'OSINFO_BOOTABLE' property will
    soon be ditched as a result but we better keep the check for backward
    compatibility.

    https://bugzilla.gnome.org/show_bug.cgi?id=694007

M	monitor/gdu/ggdumount.c
M	monitor/udisks2/gvfsudisks2mount.c

commit b278176379c32800f629b64e6b1f2cad2d8881a4
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	2013-02-17

    Updated Polish translation

M	po/pl.po

commit 04b021b8e3e7c9d5e9a1efb8f440965c43be557e
Author: Мирослав Николић <miroslavnikolic@rocketmail.com>
Date:	2013-02-17

    Updated Serbian translation

M	po/sr.po
M	po/sr@latin.po

commit 30cab1eb561b1f2a7bdeb46f490b1905a0cfe4fe
Author: Anish A <aneesh.nl@gmail.com>
Date:	2013-02-15

    Updated Malayalam Localization

M	po/ml.po

commit 8d485f4dee1ed3eace5920984a36a5d3e75b8ab2
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2013-02-14

    Updated Spanish translation

M	po/es.po

commit 7b331d0c8331f577311a3d94a4651e8fdfa7a19f
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2013-01-08

    Add gvfs-testbed to enable tests which need root

    The Drive test requires root privileges as it uses the scsi_debug
    kernel module
    and running some commands as root, such as injecting a temporary
    udev rule for
    working around some scsi_debug limitations and running udisksd under
    a mock
    polkit daemon.

    Add a "gvfs-testbed" script which sets up some unshared tmpdir
    overlays as a
    sandbox (to ensure that the tests don't destroy anything in the
    real system),
    set up a temporary user etc.

    This also enables the Sftp.test_unknown_host, as this depends on
    a particular
    client-side configuration and ssh does not allow using a temporary
    $HOME.

    Integrate this into "make installcheck", so that this uses
    gvfs-testbed when
    being called as root.

    https://bugzilla.gnome.org/show_bug.cgi?id=691336

M	test/Makefile.am
A	test/gvfs-testbed
A	test/test_polkitd.py

commit 26d731dccfa4732b8b4b94027cbd65929e1e1a03
Author: Milo Casagrande <milo@ubuntu.com>
Date:	2013-02-11

    [l10n] Updated Italian translation.

M	po/it.po

commit fb0ec5da9be74a5d246ec122b3a12333de0b484b
Author: Philip Langdale <philipl@overt.org>
Date:	2013-02-11

    MTP: Respect remove_source when pulling a file.

    This was just an oversight.

M	daemon/gvfsbackendmtp.c

commit 828a5cd1db7a352820f4979095389fb4a24e728f
Author: Philip Langdale <philipl@overt.org>
Date:	2013-02-11

    MTP: Fix crash when libmtp operations fails without error message.

M	daemon/gvfsbackendmtp.c

commit f6066a4dbe35372959bae360615b3c36edd84186
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2013-02-11

    Updated Spanish translation

M	po/es.po

commit 35c5ae9062609467bc18ba5a200e398ccd5232bd
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:	2013-02-10

    Updated Galician translations

M	po/gl.po

commit efc54a8c7096b788de21fab4f519bb092331d287
Author: Wouter Bolsterlee <uws@xs4all.nl>
Date:	2013-02-09

    Updated Dutch translation

M	po/nl.po

commit 5cece72b43fdf6286b944fca144d907c82e27a85
Author: Gheyret Kenji <gheyret@gmail.com>
Date:	2013-02-09

    Updated Uygur translation

    Signed-off-by: Gheyret Kenji <gheyret@gmail.com>

M	po/ug.po

commit a27fc080c1c6c09720c31bc8f323913ad8a772cb
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-02-08

    gvfs-test: Check for URI string presence on CLI unmount

    Turned out we can't easily check for 'Mount(0)' in `gvfs-mount -l`
    output since that string can be present from a system mount,
    either fstab or native volume monitor. Think of a mounted CD-ROM
    drive.

    We can't disable volume monitors either since there are tests that
    require it. The best solution would be to check for the particular
    URI but then we need to ensure the strings match (i.e. escaping
    issues),
    bringing more stress to properly formatted URIs.

    This fixes false unmount error reports when there was something else
    mounted as 'Mount(0)'.

    https://bugzilla.gnome.org/show_bug.cgi?id=691336

M	test/gvfs-test

commit 5ca4ebdac6bc5c6d87802ae527bb7880d81e823c
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-02-08

    smb: More verbosity for easier debugging

    This adds more debugging output for both smb and smb-browse backends
    and also brings more verbosity for user-visible error messages.

    Changes made to be able to debug weird samba issues remotely:
    https://bugzilla.gnome.org/show_bug.cgi?id=691863

M	daemon/gvfsbackendsmb.c
M	daemon/gvfsbackendsmbbrowse.c

commit d587089433c326adc4947346b79b82929e514bf9
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	2013-02-07

    Updated Slovenian translation

M	po/sl.po

commit af2df5b697d12a01c64188e6484bc4267b48453b
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:	2013-02-06

    Updated Galician translations

M	po/gl.po

commit 82743210b9c75a8de768136bfdd00ea357ea2238
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-02-06

    Fix some compiler warnings

M	daemon/gvfsbackendafc.c
M	daemon/mount.c
M	monitor/afc/afcvolumemonitor.c

commit 657330aa51ec65b9e5c247365bf5eb067ef62915
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-02-06

    fuse: Install systemd tmpfiles.d exclusion file

    We need to tell systemd to stay out of our fuse mounts before
    any data are destroyed.

    This patch reuses libsystemd-login detection as long as there is no
    general header or pkg-config file in systemd.

    https://bugzilla.redhat.com/show_bug.cgi?id=902743
    https://bugs.archlinux.org/task/32715
    https://bugzilla.gnome.org/show_bug.cgi?id=560658

M	client/Makefile.am
A	client/gvfsd-fuse-tmpfiles.conf

commit 4c37c7263682e99ed57e22b001ca5dd71c21e240
Author: Milo Casagrande <milo@ubuntu.com>
Date:	2013-02-05

    [l10n] Updated Italian translation.

M	po/it.po

commit 9d7233f3a4ed596fd30c6f2b854e80beb8b87892
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-02-05

    Post release version bump

M	configure.ac

commit 4f5b9cd4d2f27f380f9cf6fd42c86ce7455f0e0d
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-02-05

    Update NEWS for 1.15.3 release

M	NEWS

commit 116e9e740d8e2d05e5643d8119530d4561f7e38b
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-02-05

    Updated POTFILES.in

M	po/POTFILES.in

commit b9c3d2c11c854ca9c3b173fe8cebab21bfaa46d4
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-02-05

    gvfs-test: Don't wait for GVolumeMonitor "mount-removed" signal

    With implementing proper unmount method in the last commit the mount
    should be gone when GVfsJobUnmount returns. It's not guaranteed when
    the "mount-removed" signal is received to the application.

    Let's not wait for the "mount-removed" signal, a return value from
    g_file_unmount_mountable_with_operation_finish() should be enough to
    indicate success or error.

    https://bugzilla.gnome.org/show_bug.cgi?id=691568

M	test/gvfs-test

commit 62ba3def657a053c0a8aa805e7e3fe3a25d3759d
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-02-05

    daemon: Implement proper org.gtk.vfs.MountTracker.UnregisterMount()

    A proper unmount method was missing from the daemon interface as
    it was
    basically not needed. The mount tracker was watching mounts on the bus
    and if child disappeared, that event was treated as unmount.

    With recent introduction of gvfs test suite we started using
    man-in-the-middle program for connecting to private SMB
    server. However,
    certain libsmbclient versions are forking gvfs backends (gvfsd-smb in
    this case) which makes d-bus confused and name owner tracking doesn't
    work as expected.

    Moreover the forked process got stuck due to internal samba
    LIBSMB_PROG
    handling after the original process did its job and unmount was
    triggered
    from user side. The original process exited just fine but the
    forked one
    was blocking the name on the bus probably and gvfs mount tracker
    was fooled.
    Eventually the stuck libsmbclient call times out and exits gracefully.
    This happens with samba-3.6.9

    This patch adds proper unmount call to indicate the backend is
    going away
    so even if there are leftovers, user is indicated a proper unmount.

    https://bugzilla.gnome.org/show_bug.cgi?id=691568

M	daemon/mount.c

commit 267bb33e0e3586f078a0d38ee2ccc5bd1ccab911
Author: Debarshi Ray <debarshir@gnome.org>
Date:	2012-10-23

    Add GVfsGoaVolumeMonitor

    https://bugzilla.gnome.org/show_bug.cgi?id=686526

M	configure.ac
M	monitor/Makefile.am
A	monitor/goa/Makefile.am
A	monitor/goa/goa.monitor
A	monitor/goa/goavolume.c
A	monitor/goa/goavolume.h
A	monitor/goa/goavolumemonitor.c
A	monitor/goa/goavolumemonitor.h
A	monitor/goa/goavolumemonitordaemon.c
A	monitor/goa/org.gtk.Private.GoaVolumeMonitor.service.in

commit 1cffe26596fbc35c0dd63fa3cd26702973e0f08a
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	2013-02-03

    Updated Polish translation

M	po/pl.po

commit e2e5456b73786c3a0a21e4810994a3535bcc6afd
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:	2013-02-02

    Updated Hebrew translation.

M	po/he.po

commit 889e8958ba05c0e3d2deb4d175564889f3c463b2
Author: Wouter Bolsterlee <uws@xs4all.nl>
Date:	2013-02-01

    Updated Dutch translation

M	po/nl.po

commit 5b96cf7d00194fa99dedf504c7e36e2e2ee80a28
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2013-02-01

    tests: Fix race condition in Drive tests

    In load_image(), process all pending main loop events to get an up
    to date
    volume monitor. Not doing that can cause tests to still see the
    temporarily
    added and removed device that was created for loading the image.

M	test/gvfs-test

commit c71f53ace39950fff3a424ba52c97dc557296cfa
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:	2013-01-30

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

M	po/zh_HK.po
M	po/zh_TW.po

commit 00f1210f4b8d8fee48e6bbc57384ad5fbb7bbb9a
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-01-28

    computer: Set BACKEND_USES_GVFS=1 define

    The computer backend needs to use gvfs GVolumeMonitor in order
    to track gvfs mounts and local and remote volume monitor changes.

    A fallout from commit 79a53dc1b86b35dfbeb377e13f760d6817f7597b

M	daemon/Makefile.am

commit 63e758d2ddb540944ee0232201e3c76a12694230
Author: Aurimas Černius <aurisc4@gmail.com>
Date:	2013-01-27

    Updated Lithuanian translation

M	po/lt.po

commit 38d592466613fe90297347f04050d0c2a38d27cd
Author: Gheyret Kenji <gheyret@gmail.com>
Date:	2013-01-27

    Updated Uyghur translation

    Signed-off-by: Gheyret Kenji <gheyret@gmail.com>

M	po/ug.po

commit fe763d3d90a7d6801dc8faf625ab84d4f978adb3
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-01-25

    GVfsJobUnmount: Fix debug messages line endings

    g_debug() needs explicit line endings ("\n")

M	daemon/gvfsjobunmount.c

commit 5b85ace7fd29d7eae6f2cce6390304bf6015c900
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-01-25

    smb: Implement proper unmount method

    While this won't make any significant difference to end user, Samba
    is often unpredictable and it's always better to do proper shutdown.

M	daemon/gvfsbackendsmb.c

commit 3e0e4d0d9b47d27562e450d45762aa5135320c1f
Author: Philip Langdale <philipl@overt.org>
Date:	2013-01-23

    MTP: Fix leaked weak reference on monitors.

    We use a weak reference to automatically clean up the monitor
    hash table when monitors are finalized. However, we still need
    to remember to remove the weak references when the backend is
    itself finalized - otherwise the reference might be fired later
    if a monitor happens to get finalized before the backend exits
    completely.

M	daemon/gvfsbackendmtp.c

commit cbf8ab9b09c6d29850ebee97ad8a38b3bf5dd784
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-01-24

    gvfs-test: More verbosity for SMB and HTTP backends

M	test/gvfs-test

commit 54914bbc688d108c95f3d7a51bfe29d2a917a287
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-01-24

    gvfs-test: Fix private dir in generated smb.conf

    Testing on Samba 3.6.9, "private directory" directive is not
    recognized
    and smbd fails on secrets.tdb paths. This comes with Samba 4.0,
    however
    it's still a synonym for "private dir" so let's use that.

    https://bugzilla.gnome.org/show_bug.cgi?id=691568

M	test/gvfs-test

commit d4c9c43daf7abd3831862ea8f794188ac978f14b
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-01-24

    gvfs-test: Count error numbers properly

    https://bugzilla.gnome.org/show_bug.cgi?id=691568

M	test/gvfs-test

commit 91b33572407ccb7d808e1df775c89d1612355f80
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-01-24

    gvfs-test: Add more sftp-server search paths

    Gentoo puts sftp-server binary in /usr/lib64/misc/, let's add it
    in the list of paths to search.

    https://bugzilla.gnome.org/show_bug.cgi?id=691568

M	test/gvfs-test

commit ac21cc783db009113e730debbad43b13c2a90b9a
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-01-24

    gvfs-test: Use apache2 binary directly

    Historically apachectl has been a combination of passthrough
    to the master apache binary and a system service helper.
    The former is slowly getting deprecated in distributions though.

    Let's try to find the master binary and use it directly.

    https://bugzilla.gnome.org/show_bug.cgi?id=691568

M	test/gvfs-test

commit 500951b5d8671d35739ed28ffcb28be53be1cd24
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-01-24

    gvfs-test: Handle missing ~/.ssh/id_rsa gracefully

    The 'sshd' attribute may not be set if we hit the non-existing
    ~/.ssh/id_rsa' test.

    https://bugzilla.gnome.org/show_bug.cgi?id=691568

M	test/gvfs-test

commit c79426bf1f5745b7e3427958a0e6fb6e0bdefa93
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-01-24

    cdda: Adapt to new paranoia.h location

    With the 0.90+ release libcdio-paranoia has been split out and
    headers have moved.

    Adapt to this change by finding actual header location and ifdef-ing
    includes in our sources.

    https://bugzilla.gnome.org/show_bug.cgi?id=691841

M	configure.ac
M	daemon/gvfsbackendcdda.c

commit 2ad82f2751b4a13dbcf8e7373a386019982bb43b
Author: Philip Langdale <philipl@overt.org>
Date:	2013-01-23

    MTP: Fix race between on_uevent and do_unmount.

    I've never seen this happen personally, but an Ubuntu bug reported
    that on_uevent fired after the gudev client had been finalized, so
    it must be possible to race between an explicit unmount and
    physically unplugging a device. I made a brief attempt to reproduce
    this but couldn't.

    In any case, it's easy enough to protect against by taking a few
    measures:

    1) Explicitly disconnect the signal handler before unref'ing the
       gudev client.
    2) Use g_signal_connect_object to keep the backend alive enough
       for on_uevent to complete.
    3) NULL out the dev_path so that if we end up in on_uevent after
       do_unmount has cleared the dev_path, the compare will fail
       gracefully.

M	daemon/gvfsbackendmtp.c
M	daemon/gvfsbackendmtp.h

commit 1d752664a9ac6c6535c66ed26dcd01ee2d7c49c3
Author: Мирослав Николић <miroslavnikolic@rocketmail.com>
Date:	2013-01-22

    Updated Serbian translation

M	po/sr.po
M	po/sr@latin.po

commit 38afbbe615054df2e9eb7903bd0b0a39136dcee4
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2013-01-21

    Updated Norwegian bokmål translation

M	po/nb.po

commit c13857bc88e066390097e1521c3d6fe79f4ab6f0
Author: Gheyret Kenji <gheyret@gmail.com>
Date:	2013-01-20

    Updated Uyghur translation

    Signed-off-by: Gheyret Kenji <gheyret@gmail.com>

M	po/ug.po

commit 7ca99459448570d45ce466cd05308f96bbc5fc29
Author: Ihar Hrachyshka <ihar.hrachyshka@gmail.com>
Date:	2013-01-19

    Updated Belarusian translation.

M	po/be.po

commit f36d31481193f1c63abd19b6176bca790621fff1
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2013-01-18

    tests: Fix tar/zip ArchiveMounter tests

    These got accidentally broken when moving the Joliet/RockRidge test
    to the
    static images in test/files/ and updating the expected contents.

M	test/gvfs-test

commit fd135fe90ce9b9a568468c4ddb21e6d13135e80d
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-01-17

    Use g_list_free_full() where applicable

M	client/gdaemonfileenumerator.c
M	client/gdaemonvfs.c
M	client/gdaemonvolumemonitor.c
M	client/gvfsfusedaemon.c
M	common/gmounttracker.c
M	common/gvfsmountinfo.c
M	daemon/gvfsbackendarchive.c
M	daemon/gvfsbackendcdda.c
M	daemon/gvfsbackendcomputer.c
M	daemon/gvfsbackenddnssd.c
M	daemon/gvfsbackendftp.c
M	daemon/gvfsbackendgphoto2.c
M	daemon/gvfsbackendobexftp-cap-parser.c
M	daemon/gvfsbackendobexftp-fl-parser.c
M	daemon/gvfsbackendobexftp.c
M	daemon/gvfsbackendsmb.c
M	daemon/gvfsbackendsmbbrowse.c
M	daemon/mount.c
M	metadata/metabuilder.c
M	monitor/afc/afcvolumemonitor.c
M	monitor/gphoto2/ggphoto2volumemonitor.c
M	monitor/proxy/gproxyvolume.c
M	monitor/proxy/gvfsproxyvolumemonitordaemon.c
M	monitor/udisks2/gvfsudisks2volumemonitor.c
M	programs/gvfs-mount.c

commit 85e2ef5741bc0e165e6e74a70917bd7f0390444f
Author: Nilamdyuti Goswami <ngoswami@redhat.com>
Date:	2013-01-16

    Assamese translation updated

M	po/as.po

commit c8077969f03cac06c63953f2fb0b2040e3564a7b
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2013-01-15

    Updated Spanish translation

M	po/es.po

commit fdbe5dd3fc723b303970e6b4e72de3a20c41d223
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-01-15

    build: Replace deprecated autoconf macros

    Contains parts from https://live.gnome.org/GnomeGoals/ModernAutotools

M	Makefile.am
M	configure.ac

commit ad545f07a92fb6556c1ee5462f23dbaec624db81
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-01-15

    Post release version bump

M	configure.ac

commit d6c8e3a4910ee2c5968886328ebe9456b445796b
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-01-15

    Update NEWS for 1.15.2 release

M	NEWS

commit de3023888932176df348252b350a8651cc12520f
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2013-01-15

    gvfs-test: Include */sbin in PATH

    sbin directories may contain commands we use yet may not be included
    in $PATH.

    https://bugzilla.gnome.org/show_bug.cgi?id=691568

M	test/run-in-tree.sh

commit a8b54466cf39c601039f0cac38446c83c768a42f
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:	2013-01-13

    Updated Galician translations

M	po/gl.po

commit d27e7694bcd8fe47944434171b9eac49eabbe077
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	2013-01-13

    Updated Slovenian translation

M	po/sl.po

commit a49ae50c7a99b395e8e0c3db641a29ba8bdf9146
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	2013-01-12

    Updated POTFILES.in

M	po/POTFILES.in

commit 44f9a55da370969578899390ff00ba2bd34fb95f
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2013-01-12

    gvfs-test: Drop genisoimage dependency

    Some distros use the original cdrtools where it is called differently
    (mkisofs), and argument compatibility between the two is not
    guaranteed. Also,
    the Drive tests already use pre-generated images in test/files/, so
    pre-generate the remaining missing image (ISO9660 with Joliet
    extensions)
    instead of building them at test time.

    Part of https://bugzilla.gnome.org/show_bug.cgi?id=691568

A	test/files/joliet.iso.bz2
M	test/gvfs-test

commit a2c5d87c70e501aa3e0ebb148c62bb2bdaeb281b
Author: Alexander Shopov <ash@kambanaria.org>
Date:	2013-01-12

    Updated Bulgarian translation

M	po/bg.po

commit 55ef4a2a84731f6e87f9d5983ef8473269df4f65
Merge: 4cd213d 66015d2
Author: Philip Langdale <philipl@overt.org>
Date:	2013-01-11

    Merge branch 'mtp-backend'

    This merge brings in the libmtp based backend for MTP devices.
    Previously, MTP devices were handled, with limited success by the
    GPhoto2 backend as MTP is nominally backwards compatible with PTP.

    The most serious limitation was that the GPhoto2 backend operated
    in a way that doesn't work reliably with Android 4.x based devices.
    This problem is rectified by the new MTP backend.

commit 66015d2669f4f393ab9fb0fbf734c6f137a56cb4
Author: Philip Langdale <philipl@overt.org>
Date:	2013-01-07

    MTP: Fix C++ comment.

M	daemon/gvfsbackendmtp.c

commit 31bf79d68f8d29f299ae0110cc05058043da0186
Author: Philip Langdale <philipl@overt.org>
Date:	2013-01-07

    MTP: Make recursive push work.

    This introduces a path normalization helper that turns filenames
    into entity IDs where needed to allow the push of a directory
    to the device to work.

M	daemon/gvfsbackendmtp.c

commit f842c1581f4dc7ef85d737c7745516d6187fe930
Author: Philip Langdale <philipl@overt.org>
Date:	2013-01-04

    MTP: Fix segfault if client queries for non-existent file by name.

    If the client, usually Nautilus, ends up trying to find a file
    by name instead of ID, there might not be a match. We should
    return NOT_FOUND explicitly, as there is no libmtp error generated
    in this case.

    This situation arises after:
    * A file is renamed
    * A directory is created
    * A file is created (which actually fails)

    Refreshing the Nautilus view will get Nautilus back in sync.

M	daemon/gvfsbackendmtp.c

commit ec52ff827e67952ee10b54c5217d775ccb6a5f59
Author: Philip Langdale <philipl@cloudera.com>
Date:	2013-01-04

    MTP: Fix regression in thumbnail icon handling.

    The preview icon and the main icon shouldn't get mixed up...

M	daemon/gvfsbackendmtp.c

commit 53863b515e3748354d45d204b5fcca878222342a
Author: Philip Langdale <philipl@overt.org>
Date:	2013-01-03

    MTP: Review Feedback: Fix memory leaks and improve memory management.

M	daemon/gvfsbackendmtp.c
M	monitor/mtp/gmtpvolume.c
M	monitor/mtp/gmtpvolumemonitor.c

commit 05b63ae0c6544559e74d088bf25682f0cfac1206
Author: Philip Langdale <philipl@overt.org>
Date:	2013-01-03

    MTP: Review Feedback: Unconditional chain up finalize and dispose.

M	daemon/gvfsbackendmtp.c
M	monitor/mtp/gmtpvolume.c
M	monitor/mtp/gmtpvolumemonitor.c

commit e7b8ce42c5ed6b7957f6287865f2c350e1dcecd2
Author: Philip Langdale <philipl@overt.org>
Date:	2013-01-03

    MTP: Review Feedback: use GHashTable more efficiently.

M	daemon/gvfsbackendmtp.c

commit 41db12ddb9c4186d5d36e0e6dc1f280d27d1c7c3
Author: Philip Langdale <philipl@overt.org>
Date:	2013-01-03

    MTP: Review Feedback: Fix warnings.

M	monitor/mtp/gmtpvolumemonitor.c

commit 5ae18e30fab90ceabe051c6789791dae13014c3d
Author: Philip Langdale <philipl@overt.org>
Date:	2013-01-03

    MTP: Review Feedback: Remove use of static buffer.

    Use a dynamically allocated buffer instead to avoid any
    multi-threading dangers.

M	monitor/mtp/gmtpvolume.c

commit c63b132a2eee21233dc7a02bfeed09438f1daa4f
Author: Philip Langdale <philipl@overt.org>
Date:	2013-01-03

    MTP: Review Feedback: Small cleanups.

    * Use g_clear_object()
    * Remove unnecessary code.

M	daemon/gvfsbackendmtp.c

commit fdc8f9cc6e2bcc41bb110f111d8c6705354fde67
Author: Philip Langdale <philipl@overt.org>
Date:	2013-01-03

    MTP: Review Feedback: Use g_strv_length()

M	daemon/gvfsbackendmtp.c

commit 6f66c0d3b12a9fddf5f845f809dde35427f3c238
Author: Philip Langdale <philipl@overt.org>
Date:	2013-01-03

    MTP: Review Feedback: Add comment to all functions where mutex must
    be held.

M	daemon/gvfsbackendmtp.c

commit 5d51919183e5633184be6bff22e6a83cea7f5933
Author: Philip Langdale <philipl@overt.org>
Date:	2013-01-03

    MTP: Review Feedback: AC_SUBST LIBMT_LIBS and LIBMTP_CFLAGS.

    Whoops

M	configure.ac

commit b50c0f05ba8c6a3c0eebc732ebf1ae0d2c926625
Author: Philip Langdale <philipl@overt.org>
Date:	2013-01-02

    MTP: Review Feedback: Correctly handle push/pull requests for
    directories.

    Tomas explained the correct way to tell Nautilus to recurse
    directories
    and issue individual copy operations for the contents, and it works!

    Note that in the case of push, the contents don't copy correctly as
    the push path is incorrect (uses filename instead of file id). I
    can compensate for this, but that will be a separate change.

M	daemon/gvfsbackendmtp.c

commit e2c2480d2a86ed06985132f05f00bf2b9758479e
Author: Philip Langdale <philipl@overt.org>
Date:	2013-01-02

    MTP: Review feedback: Remove redundant lines.

M	daemon/gvfsbackendmtp.c

commit ec249975fa7befb2b1e53e8d074999ea3f5c2e45
Author: Philip Langdale <philipl@overt.org>
Date:	2013-01-02

    MTP: Review feedback: Minimise event check thread race during
    shutdown.

    Theoretically, the event check could fire during unmount, resulting
    in access to invalid backend state. We can try and minimise the
    chance of this happening but can't elimiate it completely as the
    LIBMTP_Read_Event call cannot occur with a lock or ref held as it
    blocks and cannot be interrupted as part of the shutdown process.
    If a lock was held, it would lead to a deadlock, and if a ref was
    held, the backend would never finalize.

    As it is, the race is now narrowed so that it's only applicable if
    the unmount occurs at the point between where the MTP device is
    looked up and when Read_Event is called.

    And even before this change the race was incredibly rare as you'd
    have to induce an MTP event in the middle of unmounting.

    Finally, crashing while trying to terminate isn't the end of the
    world.

M	daemon/gvfsbackendmtp.c
M	daemon/gvfsbackendmtp.h

commit 6e8ef64c303131b258715868f5ba92702edb7b3c
Author: Philip Langdale <philipl@overt.org>
Date:	2013-01-01

    MTP: Review feedback: Refactor device path derivation.

    And fix reference leaks.

M	daemon/gvfsbackendmtp.c

commit 4daec4f9d7b9e7d1715758590466c337ddff001f
Author: Philip Langdale <philipl@overt.org>
Date:	2012-12-31

    MTP: Review feedback: Use g_vfs_job_failed_literal.

    Used in all appropriate locations.

M	daemon/gvfsbackendmtp.c

commit ec7a65a6a6fcb22fa306cdf46cd9cde3fe33f1a3
Author: Philip Langdale <philipl@overt.org>
Date:	2012-11-12

    MTP: do_query_info: Handle filename starting with digits.

    Make sure that a file isn't named starting with valid digits before
    deciding whether a name based lookup is necessary.

M	daemon/gvfsbackendmtp.c

commit bbc8ad11b924cf0dd67038044c3bff30c986e591
Author: Philip Langdale <philipl@cloudera.com>
Date:	2012-10-12

    MTP: Heartbeat callback to avoid connection timing out.

M	daemon/gvfsbackendmtp.c
M	daemon/gvfsbackendmtp.h

commit 7857a3c79d130a950160fca628cfad62dc74732d
Author: Philip Langdale <philipl@overt.org>
Date:	2012-10-13

    MTP: Fix parentheses spacing.

M	daemon/gvfsbackendmtp.c

commit f1dea7bef4e45f9fc6f77ec4d135d4b86433df6c
Author: Philip Langdale <philipl@overt.org>
Date:	2012-10-13

    MTP: Fix parentheses spacing.

M	monitor/mtp/gmtpvolume.c

commit c4405cb73e5767ce3eed77f4ba9c8b53dd146546
Author: Philip Langdale <philipl@overt.org>
Date:	2012-10-13

    MTP: More review feedback.

M	daemon/gvfsbackendmtp.c

commit e491a5df9c3956f5d597d6e7d5650d3bd033253e
Author: Philip Langdale <philipl@overt.org>
Date:	2012-10-13

    MTP: Copy Storage type constants from ptp.h

M	daemon/gvfsbackendmtp.c

commit 2815863b6cf2facb825ed61deb60a0e6311ce933
Author: Philip Langdale <philipl@overt.org>
Date:	2012-10-13

    MTP: Improve error messages.

M	daemon/gvfsbackendmtp.c

commit 72fe42f0781c29f5c426896bd37e9d2e7b7b9bce
Author: Philip Langdale <philipl@overt.org>
Date:	2012-10-13

    MTP: Use do_make_directory to handle an attempt to upload a directory.

    It's better than nothing.

M	daemon/gvfsbackendmtp.c

commit 1751084b681cc6294b250880ef33d89d11ac50e3
Author: Philip Langdale <philipl@overt.org>
Date:	2012-10-13

    MTP: Fix review comments.

M	monitor/mtp/gmtpvolumemonitor.c

commit b6d12e3de44849aaa0dd5f25b8e06318a113cf7c
Author: Philip Langdale <philipl@overt.org>
Date:	2012-10-11

    MTP: Initial review feedback.

    Added error translation
    Fixed some formatting
    Removed use of C++ comment

M	daemon/gvfsbackendmtp.c

commit 191688fd5528b5c8a3f2b23af7a2ab1c23f93074
Author: Philip Langdale <philipl@overt.org>
Date:	2012-10-10

    MTP: "Fix" pulling of directories.

    No, this doesn't make recursive pull magically work, but it allows
    a pull on a directory to make that directory, or silently succeed
    if the directory exists already.

    This does have the beneficial effect that file-roller can now
    compress a directory from an mtp mount - if you ignore the fact
    that it doesn't use display names.

M	daemon/gvfsbackendmtp.c

commit f3bf0261425fba0325b29f553d5ef1b088e87f5d
Author: Philip Langdale <philipl@overt.org>
Date:	2012-10-06

    MTP: Use fail_job everywhere its needed.

M	daemon/gvfsbackendmtp.c

commit 9fbb305bd162b2d758feeac043826c8bf3c4357f
Author: Philip Langdale <philipl@overt.org>
Date:	2012-09-22

    MTP: Finish cleaning up debug output.

M	daemon/gvfsbackendmtp.c

commit b3bb26f66fa9d4dcb9f5cded2d49b3d498c1b4dc
Author: Philip Langdale <philipl@overt.org>
Date:	2012-09-15

    MTP: More clean up.

    Starting to switch over to a DEBUG macro, and removed unnecessary
    try_mount method.

M	daemon/gvfsbackendmtp.c

commit 8f22af792ccee72e9b556e1b6242ca9700a7e741
Author: Philip Langdale <philipl@overt.org>
Date:	2012-09-05

    MTP: Remove unix permissions/ownership info.

    Semantically, these shouldn't be set if they're not really
    there. It's better to let gvfs come up with the values.

M	daemon/gvfsbackendmtp.c

commit 8efa557679ef5c2f6fc671fded7c51abd5b4cae9
Author: Philip Langdale <philipl@overt.org>
Date:	2012-09-01

    MTP: Generic failed job error handling.

M	daemon/gvfsbackendmtp.c

commit 50a35ca5e3a2207cd552a9fb932c16b57ca8c56e
Author: Philip Langdale <philipl@overt.org>
Date:	2012-09-01

    MTP: Event handling.

    This change adds an event listener to receive libmtp events. The
    primary use for this is detecting when stores appear after a phone
    is unlocked. That way you can plug it in, then unlock it, and then
    you'll see the stores appear automatically.

M	configure.ac
M	daemon/gvfsbackendmtp.c

commit 7c9e64ac4874fa291be53a3d3d93aa3e476c5e5b
Author: Philip Langdale <philipl@overt.org>
Date:	2012-08-27

    MTP: Don't leak LIBMTP_file_t objects everywhere.

    The documentation isn't clear that you have to clean these up, but
    it's pretty obvious that you do.

M	daemon/gvfsbackendmtp.c

commit e25233b35bbf27a6f42267bcd7831b2f5412e5c7
Author: Philip Langdale <philipl@overt.org>
Date:	2012-09-01

    MTP: Small Thumbnail clean up.

    Removing the debug spew for each file with a thumbnail, and turned
    off LOCAL previews. The preview process is so costly that it should
    only be done if the user requests ALWAYS.

M	daemon/gvfsbackendmtp.c

commit 2c53413cec2c58419f330206867fdcf019ffba0c
Author: Philip Langdale <philipl@overt.org>
Date:	2012-08-26

    MTP: Add missing \n to some debug messages.

M	daemon/gvfsbackendmtp.c

commit 4bbd0f44aac482bca5ce836e51a88f9ed7bb5be2
Author: Philip Langdale <philipl@cloudera.com>
Date:	2012-08-23

    MTP: Fix warnings.

M	daemon/gvfsbackendmtp.c

commit f0e6adb2341608ed2363f88dcde58e474f7c5622
Author: Philip Langdale <philipl@cloudera.com>
Date:	2012-08-23

    MTP: Add configure check for LIBMTP_GetThumbnail.

M	configure.ac
M	daemon/gvfsbackendmtp.c

commit 634086fe0ce6336440f2b4ca60b3c523eb477d4b
Author: Philip Langdale <philipl@overt.org>
Date:	2012-08-19

    MTP: Add support for using Representative Sample of Thumbnail fails.

    I have no idea if this really works, as I don't have a device
    that uses it.

M	daemon/gvfsbackendmtp.c

commit 10504d057757943b4cf487d46bf3e191fe911039
Author: Philip Langdale <philipl@overt.org>
Date:	2012-08-19

    MTP: Clean up formatting and style for MTP Volume Monitor.

    We can consider the volume monitor done at this point.

M	monitor/mtp/gmtpvolume.c
M	monitor/mtp/gmtpvolume.h
M	monitor/mtp/gmtpvolumemonitor.c

commit 15b21bca544bfd384d2650cafef75b2474d9e721
Author: Philip Langdale <philipl@overt.org>
Date:	2012-08-11

    MTP: Add support for downloading thumbnails.

    This uses the GetThumbnail method from MTP, but it requires a
    change to libmtp to expose it.

M	daemon/gvfsbackendmtp.c

commit 09e9f1234983066c91aa4cfd14d7c51efa9a803c
Author: Philip Langdale <philipl@overt.org>
Date:	2012-08-15

    MTP: Put conditional test in gphoto2 monitor for libmtp.

M	monitor/gphoto2/ggphoto2volumemonitor.c

commit 4adb051f8b715845dc8a4e6cbd8d9f20ecc01671
Author: Philip Langdale <philipl@overt.org>
Date:	2012-08-12

    MTP: Add monitoring.

M	daemon/gvfsbackendmtp.c
M	daemon/gvfsbackendmtp.h

commit 4beb0297bb5a7173643d0186c06e290483bb1750
Author: Philip Langdale <philipl@overt.org>
Date:	2012-08-12

    MTP: cleanup

M	daemon/gvfsbackendmtp.c

commit 18696cfef55329dcb1a7c7de0b268ddc6f75cb21
Author: Philip Langdale <philipl@overt.org>
Date:	2012-08-11

    MTP: Add conditional configuration against libmtp.

M	configure.ac
M	daemon/Makefile.am
M	monitor/Makefile.am

commit b06d12767598d8465f4345b049823bd2aa73c606
Author: Philip Langdale <philipl@cloudera.com>
Date:	2012-08-09

    MTP: Print error stack when push or pull fail.

M	daemon/gvfsbackendmtp.c

commit 32726f77f8e67aec4e0b5f6607f2313e3763d1d5
Author: Philip Langdale <philipl@cloudera.com>
Date:	2012-08-09

    MTP: Fix crash when called with no progress callback.

M	daemon/gvfsbackendmtp.c

commit 43e7c902d762a3930200124dd6f4b521151d1b5b
Author: Philip Langdale <philipl@overt.org>
Date:	2012-08-05

    MTP: Tidy up.

M	monitor/mtp/gmtpvolume.c
M	monitor/mtp/gmtpvolume.h
M	monitor/mtp/gmtpvolumemonitor.c
M	monitor/mtp/gmtpvolumemonitor.h
M	monitor/mtp/mtp-volume-monitor-daemon.c

commit fda46e82fe9f16ab7d8b2265c22bbca27ed930cd
Author: Philip Langdale <philipl@overt.org>
Date:	2012-08-05

    MTP: Update .gitignore

M	daemon/.gitignore
A	monitor/mtp/.gitignore

commit c9379c93c0cfa48145324dadc6e579864073a7d5
Author: Philip Langdale <philipl@overt.org>
Date:	2012-08-05

    MTP: Implement udev event handler to exit on unplug.

M	daemon/gvfsbackendmtp.c
M	daemon/gvfsbackendmtp.h

commit 41fa62ae9710fc19c71322872d9dd634a86868fa
Author: Philip Langdale <philipl@overt.org>
Date:	2012-08-04

    MTP: Rework backend to work with volume monitor.

    With the volume monitor in place, the backend is now one per device,
    so we can throw out all the device enumeration and tracking logic.

M	daemon/gvfsbackendmtp.c
M	daemon/gvfsbackendmtp.h

commit e660be080ce67a10c962ad416e215b71f575e820
Author: Philip Langdale <philipl@overt.org>
Date:	2012-08-04

    MTP: Initial MTP volume monitor implementation.

M	configure.ac
M	monitor/Makefile.am
A	monitor/mtp/Makefile.am
A	monitor/mtp/gmtpvolume.c
A	monitor/mtp/gmtpvolume.h
A	monitor/mtp/gmtpvolumemonitor.c
A	monitor/mtp/gmtpvolumemonitor.h
A	monitor/mtp/mtp-volume-monitor-daemon.c
A	monitor/mtp/mtp.monitor
A	monitor/mtp/org.gtk.Private.MTPVolumeMonitor.service.in

commit 382c9014f2dbcb9076568f3599a514608a3e1d0a
Author: Philip Langdale <philipl@overt.org>
Date:	2012-08-04

    MTP: Tidy up error handling in do_push.

M	daemon/gvfsbackendmtp.c

commit 9bd91bc0d480572543d0e3b0f909d2010ff30bae
Author: Philip Langdale <philipl@cloudera.com>
Date:	2012-08-03

    MTP: Restructure more error handling.

M	daemon/gvfsbackendmtp.c

commit 19c4aa5b2d86ada54703e39d93d477651ade8d4c
Author: Philip Langdale <philipl@cloudera.com>
Date:	2012-08-03

    MTP: Add missing mutex and free calls.

M	daemon/gvfsbackendmtp.c

commit 1bc4beb3e02b9da6379b1c9a39422705788c2db9
Author: Philip Langdale <philipl@cloudera.com>
Date:	2012-08-03

    MTP: Add stub gudev event handler.

    Will be used to detect device plug/unplug events.

M	daemon/Makefile.am
M	daemon/gvfsbackendmtp.c
M	daemon/gvfsbackendmtp.h

commit 6645adf71cca81ad59eef7bbcf47cfdab505fb9b
Author: Philip Langdale <philipl@cloudera.com>
Date:	2012-08-02

    MTP: Make gphoto2 monitor skip MTP devices.

M	monitor/gphoto2/ggphoto2volumemonitor.c

commit b6c475cd293f25138d96ad1f8c74e71fe7e20e7a
Author: Philip Langdale <philipl@overt.org>
Date:	2012-08-01

    MTP: More error handling cleanup.

M	daemon/gvfsbackendmtp.c
M	daemon/gvfsbackendmtp.h

commit f419ec49f5d7857e4bf2bb1188b82567be68f9c7
Author: Philip Langdale <philipl@cloudera.com>
Date:	2012-07-31

    MTP: Improve Error handling.

M	daemon/gvfsbackendmtp.c

commit bc3946845f33ec6eda830566780cd8e66827c737
Author: Philip Langdale <philipl@overt.org>
Date:	2012-07-31

    MTP: Basic implementation of all remaining calls.

M	daemon/gvfsbackendmtp.c

commit 1466d52ae03cbc5d0df4376de25ee7b0e71882e5
Author: Philip Langdale <philipl@cloudera.com>
Date:	2012-07-30

    MTP: Refactor query_info, implement do_pull. Clean up cruft.

M	daemon/gvfsbackendmtp.c

commit 46e0f1836a28b808661bfdcafc8dee90f044896c
Author: Philip Langdale <philipl@overt.org>
Date:	2012-07-30

    MTP: Initial implementation of MTP backend.

    Currently just does basic entity enumeration, but supports multiple
    devices and storages.

    Does not support download and upload yet.

M	daemon/Makefile.am
A	daemon/gvfsbackendmtp.c
A	daemon/gvfsbackendmtp.h
A	daemon/mtp.mount.in

commit 4cd213d4db7c77de6788cb8d790babcc0dd6daa0
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2013-01-10

    gvfs-test: Add system partition Drive test with Gio API

    This allows us to check further properties such as UUIDs.

M	test/gvfs-test

commit 552002b6e567399e837f343885ff40866364b50a
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2013-01-10

    gvfs-test Drive tests: Support more than one image

    Having only one iso9660 test image available for all Drive tests
    is too
    inflexible, as that is not writable, and has no UUID. Ship an ISO9660
    and a
    VFAT image in test/files (they compress to < 1 kB) and add a
    load_image()
    method so that every test can pick which kind of data it wants to
    see on the
    test device.

A	test/files/bogus-cd.iso.bz2
A	test/files/vfat.img.bz2
M	test/gvfs-test

commit 4ad43b9ff770860b26e8e15f5835004398ebaad7
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2013-01-09

    gvfs-test: Add Drive test using the Gio API

M	test/gvfs-test

commit 7232f1a6f9ec4637a07ea26751be986f4e019364
Author: Shankar Prasad <svenkate@redhat.com>
Date:	2013-01-09

    Updated Kannada Translations

M	po/kn.po

commit 83cd3ae56f7ce3e605b4ea84205c3e0d34cfb2e1
Author: Shankar Prasad <svenkate@redhat.com>
Date:	2013-01-09

    Updated Kannada Translations

M	po/kn.po

commit 822af700a39daf67d822cc5c3405e4dd2d1721ad
Author: Shankar Prasad <svenkate@redhat.com>
Date:	2013-01-09

    Updated Kannada Translations

M	po/kn.po

commit 404dd15f925ac89f04fd1433bcfc27d546bda0c5
Author: ManojKumar Giri <mgiri@redhat.com>
Date:	2012-12-28

    Updated Odia Translation with FUEL implementation.

M	po/or.po

commit 8e63de65d2af91317adc162bae44290c8093211e
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:	2012-12-28

    Updated Hebrew translation.

M	po/he.po

commit ee2a6755b43c2d136ac937e65958bc8571afcea4
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:	2012-09-07

    Updated Hebrew translation.

M	po/he.po

commit 7a96da5b573cca2d46e7ccd8cd05ca5ef5f78038
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2012-12-23

    Updated Norwegian bokmål translation

M	po/nb.po

commit b3cb568644edde6e681b52b92a7b7d25bf33402b
Author: Mattias Põldaru <mahfiaz@gmail.com>
Date:	2012-12-19

    [l10n] Updated Estonian translation

M	po/et.po

commit 857e8326168f122c0de1d8a20ed747d0d9d2e48e
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-12-18

    Post release version bump

M	configure.ac

commit b267ff4ea02665c1056d408ce8ac1d695304ffb2
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-12-18

    Update NEWS for 1.15.1 release

M	NEWS

commit a8df997a5945ef8cb19558fbd2530f804ddfe42e
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-12-18

    build: Bump required libsoup version

M	configure.ac

commit 635c3b507e9082d8f8016f18cc14445a7493e456
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-12-18

    dav: Use application/octet-stream content type for uploading

    The content_type argument is required to be set for
    soup_message_set_request()
    if passing data in. Using "application/octet-stream" makes it work,
    though I'm not sure whether it's accepted by all dav servers.

    https://bugzilla.gnome.org/show_bug.cgi?id=687757

M	daemon/gvfsbackenddav.c

commit e0f03f9cd91a8f074cb905c8be8c3f5eabb2ff7c
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-12-18

    http: Set use-thread-context property on async SoupSession

    Apparently SoupRequester needs this to be set TRUE.

    https://bugzilla.gnome.org/show_bug.cgi?id=687757

M	daemon/gvfsbackendhttp.c

commit ed7fd5313ca8759e162c640b3de293489e359162
Author: Dan Winship <danw@gnome.org>
Date:	2012-12-18

    dav: kill SoupOutputStream

    SoupOutputStream was never particularly useful, since we ended up not
    doing chunked requests (since server support for them is mostly
    nonexistent). So kill SoupOutputStream off and just use a
    GMemoryOutputStream instead.

    https://bugzilla.gnome.org/show_bug.cgi?id=687757

    Signed-off-by: Tomas Bzatek <tbzatek@redhat.com>

M	daemon/Makefile.am
M	daemon/gvfsbackenddav.c
D	daemon/soup-output-stream.c
D	daemon/soup-output-stream.h

commit d751f968d65fa287a8cbfa6e2a28f8dd421deb66
Author: Dan Winship <danw@gnome.org>
Date:	2012-12-18

    http: Simplify job failure handling

    gvfsbackendhttp defined g_vfs_job_failed_from_http_status(), but
    didn't export this, so gvfsbackenddav was sort of forced to
    reimplement it. Fix that by exporting it as http_job_failed().

    https://bugzilla.gnome.org/show_bug.cgi?id=687757

    Signed-off-by: Tomas Bzatek <tbzatek@redhat.com>

M	daemon/gvfsbackenddav.c
M	daemon/gvfsbackendhttp.c
M	daemon/gvfsbackendhttp.h

commit cac808508f1fcdb3c9c00cdb36ba6053a1f5dbbb
Author: Dan Winship <danw@gnome.org>
Date:	2012-12-18

    http: replace SoupInputStream with SoupRequest

    Replace the hacky SoupInputStream with a new GVfsHttpInputStream that
    is a wrapper around SoupRequest. (We need a wrapper stream rather than
    just using SoupRequest directly because we want the stream here to be
    seekable, which requires cancelling and re-sending the HTTP request
    and getting a new underlying stream.)

    The http and dav backends still use both a sync and an async
    SoupSession, even though this is no longer necessary, since changing
    this would require a lot of rewriting of code that currently works.

    https://bugzilla.gnome.org/show_bug.cgi?id=687757

    Signed-off-by: Tomas Bzatek <tbzatek@redhat.com>

M	daemon/Makefile.am
M	daemon/gvfsbackenddav.c
M	daemon/gvfsbackendhttp.c
A	daemon/gvfshttpinputstream.c
A	daemon/gvfshttpinputstream.h
D	daemon/soup-input-stream.c
D	daemon/soup-input-stream.h
M	daemon/soup-output-stream.c

commit 333d9db1d52e61f690bd68bcd70c4affe446724a
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	2012-12-16

    Updated Polish translation

M	po/pl.po

commit 5dea5823a4adac54e14d6eb2db91a02c3188ecd6
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:	2012-12-15

    Updated Galician translations

M	po/gl.po

commit cc6d3d293cd90cb6ed11cb972cc1d931b493a80b
Author: David Zeuthen <zeuthen@gmail.com>
Date:	2012-12-11

    udisks2: don't set GDrive.can_stop to TRUE if drive has removable
    media

    If the drive is using removable media, we want the shell and file
    manager to eject the media, not turn the drive off.

    Signed-off-by: David Zeuthen <zeuthen@gmail.com>

M	monitor/udisks2/gvfsudisks2drive.c

commit b3f72baca687f81e7618d4b829ade2df2b59d2b8
Author: David Zeuthen <zeuthen@gmail.com>
Date:	2012-12-11

    If a drive is hotplugged and CanPowerOff is TRUE, set can_stop to TRUE

    With this change, USB-connected drives that appear *during* the user
    session will now be powered off when the user clicks the "Eject" icon
    in the GUI. This involves powering off the USB port typically
    resulting in LEDs and other user-visible features turning off. In
    particular, bus-powered HDDs will completely turn off by virtue of
    being, well, bus-powered.

    This is generally what users expect and should make them feel all
    cozy, warm inside and, most importantly, more confident removing the
    device now that the LED is off. Or something.

    Since we only do this for devices detected *during* the user session,
    we should not run into problems with internal USB devices such as
    laptop SD card readers or the various 4-in-1 flash card readers in
    many workstations. This is actually important because removing the
    power to the USB port of an "internal" device is generally a bad idea
    as it requires a system restart to make the laptop BIOS power the port
    up again (or the user to crack open the chassis).

    (No, unfortunately there is no *reliable* way to determine if a USB
    device is "internal" (e.g. reachable and/or servicable by the user) or
    not. There are a couple of mechanisms - one is to look at various USB
    device descriptors - but none of them seem very reliable. So instead
    we simply look at whether the device is hotplugged.)

    See also this udisks commit

     http://cgit.freedesktop.org/udisks/commit/?id=81dcb6eeaeceb6c6faae1a40a5b34a65cd5af653

    introducing the Drive:CanPowerOff property and the Drive.PowerOff()
    method.

    Signed-off-by: David Zeuthen <zeuthen@gmail.com>

M	monitor/udisks2/gvfsudisks2drive.c
M	monitor/udisks2/gvfsudisks2drive.h
M	monitor/udisks2/gvfsudisks2mount.c
M	monitor/udisks2/gvfsudisks2volumemonitor.c

commit cdb8babf12c883b13f32c9adeaa8aab3feec3667
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-12-11

    udisks2: Initialize local variables to NULL

    We need to set initial value to local variables we're about to use
    later in the code.

    Found the volume monitor segfaulting on stable udisks-2.0.0

M	monitor/udisks2/gvfsudisks2volume.c

commit fc34a87b7d534a4becb6c9969adc19c1187bac42
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-12-10

    proxy volume monitor: Remove unnecessary goto

    A matter of developer's taste, but since the function has been
    simplified
    a lot, no need to keep the goto around.

M	monitor/proxy/gproxyvolumemonitor.c

commit 5a6d6ddc66a4bc32aef99f73c9e99a1c3ca91bff
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-12-10

    proxy volume monitor: Don't leak the_volume_monitors hash table

    The the_volume_monitors hash table is a shared global instance, make
    sure to only initialize it once.

    Based on a patch by Tim Lunn <tim@feathertop.org>

    https://bugzilla.gnome.org/show_bug.cgi?id=689946

M	monitor/proxy/gproxyvolumemonitor.c

commit ee170849f84ecb09caf6dc49611db9db812f060c
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-12-10

    proxy volume monitor: Clarify when mutex is hold on construction

    Found by reviewing usage of the global lock, this place is not obvious
    whether is inside the lock or not. Let's add a simple comment to
    make it
    clear.

M	monitor/proxy/gproxyvolumemonitor.c

commit 3c08836f7f9cb61317298e85c1fe6adee01860aa
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-12-07

    afc: Add missing break statement

    Found by Coverity Scan analysis

M	daemon/gvfsbackendafc.c

commit 9088dbe0ed3a52f85ce4a87baa6ac4bfa8248c8f
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-12-07

    fuse: Make truncating more robust

    Don't try to seek if there was an error during padding. Also report
    seek errors.

M	client/gvfsfusedaemon.c

commit bf5493fc31ca6555390a076d7ce18872b7c0c0ec
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-12-07

    Fix use of uninitialized values

M	common/gmountspec.c
M	common/gvfsdaemonprotocol.c
M	daemon/gvfsafpconnection.c

commit 3c1b401670c7fbdf7ad8f3034b3d508ae719d6d3
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-12-07

    Fix some potential NULL dereferences

M	daemon/gvfsbackendgphoto2.c
M	daemon/gvfsbackendlocaltest.c

commit 3350ccfa0fbaacfd2ffc089399517d16a96abe48
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-12-07

    daemon: Add missing va_end() call

M	daemon/daemon-main.c

commit db9d1795582ad888b1653f5b43718bbe263ff369
Author: Jonathan Matthew <jonathan@d14n.org>
Date:	2012-12-06

    http: Provide edit-name whether display-name is also requested or not

    https://bugzilla.gnome.org/show_bug.cgi?id=625741

    Signed-off-by: Tomas Bzatek <tbzatek@redhat.com>

M	daemon/gvfsbackendhttp.c

commit bb4e7ed0236855d2ced7cfd4445877822da8fe7b
Author: David Zeuthen <zeuthen@gmail.com>
Date:	2012-12-05

    udisks2: add support for mount option x-gvfs-symbolic-icon

    ... and also the new Block:HintSymbolicIcon icon just added to udisks
    master.

    Signed-off-by: David Zeuthen <zeuthen@gmail.com>

M	monitor/udisks2/gvfsudisks2volume.c
M	monitor/udisks2/what-is-shown.txt

commit 986f052f48aa87288ff4eb55fb7f8b9e157e33bc
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2012-12-05

    Updated Spanish translation

M	po/es.po

commit dff2d84d15b7a62a162031f2da3015e989c0eadc
Author: David Zeuthen <zeuthen@gmail.com>
Date:	2012-12-05

    udisks2: get icons via UDisksObjectInfo for block devices that are
    not drives

    Signed-off-by: David Zeuthen <zeuthen@gmail.com>

M	monitor/udisks2/gvfsudisks2volume.c

commit 82880411705bd7d4bc64a42756a50f2af582faf7
Author: David Zeuthen <zeuthen@gmail.com>
Date:	2012-12-05

    udisks2: don't leak GIcon when applying hints

    Signed-off-by: David Zeuthen <zeuthen@gmail.com>

M	monitor/udisks2/gvfsudisks2volume.c

commit acca15e159475dc9dad837651e0e3118c3fd5f0f
Author: William Jon McCann <jmccann@redhat.com>
Date:	2012-12-03

    gvfs-info: Print out symbolic-icon too

    https://bugzilla.gnome.org/show_bug.cgi?id=684328

    Signed-off-by: Tomas Bzatek <tbzatek@redhat.com>

M	programs/gvfs-info.c

commit cf7f98995591f6c992467337469df41756c76b04
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-12-03

    smb: Report proper error on do_query_fs_info()

    We always reported success despite storing the smb call result.

    https://bugzilla.gnome.org/show_bug.cgi?id=687778

M	daemon/gvfsbackendsmb.c

commit c2b246c8e9ee67034aa0e0017516bc0f05448783
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-12-03

    client: Set default timeout to infinite for all GDaemonFile methods

    Certain operations may take a lot of time to complete, don't timeout
    on that. Use cancellable if you need to control the flow.

    https://bugzilla.gnome.org/show_bug.cgi?id=687534

M	client/gdaemonfile.c

commit 9044fc62eab9f10035bd914ed78bbcbc23220d49
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2012-11-29

    gvfs-test: Add tests for trash://

    This covers trashing a file from $HOME (both API and CLI), trying
    to trash
    a file from /tmp/, and handling trashing files with the same path.

M	test/gvfs-test

commit b1e7b70aa4db582743637fef4b2a00f19787d46f
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2012-11-28

    gvfs-test: Move temporary D-BUS setup from run-in-tree.sh

    For adding further tests such as for trash://, we want to be able
    to use a
    temporary private $XDG_DATA_HOME, and also ensure that we do not
    touch the
    user's configuration in any way by setting a temporary
    $XDG_CONFIG_HOME as
    well. (The latter needs to be in the actual $HOME until
    https://bugzilla.gnome.org/show_bug.cgi?id=142568 gets fixed)

    To achieve this, set up the temporary session D-BUS in gvfs-test
    itself (so
    that it sees our new XDG environment variables), and stop setting
    up a session
    D-BUS in run-in-tree.sh when running under make. Retain the
    funtionality in
    run-in-tree.sh for calling the script manually.

    This also allows us to capture the output of the D-BUS daemon and
    its attached
    processes. Show its stdout and stderr on test case failures for easier
    debugging, and enable general GLib and gvfs debug messages.

    In addition this simplifies the handling of $LIBSMB_PROG, as we can
    now set it
    in the test suite and can stop setting it in the Makefile.

M	test/Makefile.am
M	test/gvfs-test
M	test/run-in-tree.sh

commit 46b4898edc221eff6e1caffae894fc5a6f8d42ed
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2012-11-27

    gvfs-test: Skip Sftp.test_unknown_host when not in gvfs-testbed

    When running under the normal user account, the StrictHostKeyChecking
    option is
    client-configurable behaviour which cannot be temporarily
    changed. Skip the
    test entirely in this case instead of exfailing it, as it does
    not test
    anything meaningful then.

    Drop the exfail so that the test must succeed when running under
    gvfs-testbed.

M	test/gvfs-test

commit 56a11c77e5bbefcbb490e7e39a3f724f7f207509
Author: David Zeuthen <zeuthen@gmail.com>
Date:	2012-11-28

    udisks2: fix symbolic icons for devices without an UDisksDrive

    We were returning folder-remote-symbolic which is incorrect since that
    should only be used for network filesystems.

    Signed-off-by: David Zeuthen <zeuthen@gmail.com>

M	monitor/udisks2/gvfsudisks2mount.c
M	monitor/udisks2/gvfsudisks2utils.c
M	monitor/udisks2/gvfsudisks2utils.h
M	monitor/udisks2/gvfsudisks2volume.c

commit 765fa2635fc565453c42489c13825efa13434a70
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	2012-11-26

    Updated Slovenian translation

M	po/sl.po

commit 40fb32bef39e5fa590c82dd8d5f18bd974ccac5c
Author: Alexandre Rostovtsev <tetromino@gmail.com>
Date:	2011-06-14

    Fix symlink target in query_info_reply() for sftp backend

    In SSH_FXP_NAME messages, the name field is preceded by a uint32
    count field. query_info_reply() in gvfsbackendsftp.c did not take
    the existence of the count field into account, and so set symlink
    targets incorrectly.

    For a simple demonstration, use gvfs-info to stat a symlink on an
    ssh mount.

    https://bugzilla.gnome.org/show_bug.cgi?id=652535

M	daemon/gvfsbackendsftp.c

commit 28f117d29163c79d60084cd74c1fd4e3a7b47694
Author: Nilamdyuti Goswami <ngoswami@redhat.com>
Date:	2012-11-26

    Assamese translation updated

M	po/as.po

commit e1aa9e862ea151ba4b73bf982e91ed54b65d8cc6
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2012-11-23

    gvfs-test: Skip Dav tests if http is disabled

    Skip the Dav tests instead of failing when running against the build
    tree and
    http support is disabled.

M	test/gvfs-test

commit 8ed2757a7e3bd396a50e866b0e8fcba83e1df510
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2012-11-22

    tests/run-in-tree.sh: Disable service activation for local D-BUS

    This tries to spawn gnome-keyring which can potentially mess up
    user's real
    keyrings. It also causes long timeouts during D-BUS activation which
    make the
    testsuite painfully slow.

M	test/session.conf.in

commit 8cae7af51bc7dacf6a196b95ba81a6a9886e7749
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2012-11-22

    gvfs-test: Add tests using the introspected Gio API

    So far we were only using the command line programs. This adds some
    tests that
    exercise the Gio API through gobject-introspection, covering archive
    mounts,
    and anonymous and authenticated FTP.

M	test/gvfs-test

commit 09c8be942506999490a0df74d4bcfa52de58a644
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2012-11-25

    Add a cmdline way to empty the trash

    Support gvfs-trash --empty to empty the trash.

M	man/gvfs-trash.xml
M	programs/gvfs-trash.c

commit 5fe24e3a42164b20795d653d4bb00316cedba3ab
Author: Nilamdyuti Goswami <ngoswami@redhat.com>
Date:	2012-11-23

    Assamese translation updated

M	po/as.po

commit 3023ce9c2f69d368a48064c7507e70742abdde42
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:	2012-11-22

    Updated Galician translations

M	po/gl.po

commit 535cc9d04a9b793b981773c597560216314cf2f9
Author: Wouter Bolsterlee <uws@xs4all.nl>
Date:	2012-11-22

    Updated Dutch translation

M	po/nl.po

commit d2273d404cb3e895ba67052dde4a3e85b1c084ba
Author: David Zeuthen <zeuthen@gmail.com>
Date:	2012-11-20

    Use UDisksObjectInfo API from udisks 2.0.90, if available, for
    symbolic icons

    Without this fix volumes would fall back to folder-remote-symbolic
    which is obviosly wrong. With this fix, it looks correct, see

     http://people.freedesktop.org/~david/gvfs-udisks2-symbolic-icons.png

    Right now we only use the API if it's available - things still work
    with udisks >= 1.97.

    Signed-off-by: David Zeuthen <zeuthen@gmail.com>

M	monitor/udisks2/gvfsudisks2drive.c
M	monitor/udisks2/gvfsudisks2mount.c
M	monitor/udisks2/gvfsudisks2volume.c

commit e4f2a031e0fbe1424e155a6c4dbed104dcf93155
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2012-11-20

    Updated Spanish translation

M	po/es.po

commit e5c4b5f2c951ff9271ac0e801eb1aaeff547c223
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2012-11-20

    gvfs-test: Fix logic error in waiting for prompt

    Do not try to check the prompt string if it is None (which can
    happen for
    non-blocking streams).

    Also add a (commented out) debug print to help with figuring out
    why some of
    the calls take a very long time.

M	test/gvfs-test

commit ffb341e9322b913161271abafc47d5c02700b572
Author: Mario Blättermann <mario.blaettermann@gmail.com>
Date:	2012-11-18

    [l10n] Updated German translation

M	po/de.po

commit 419524fc7a702072f1355bffb05c75af1beeaa05
Author: Changwoo Ryu <cwryu@debian.org>
Date:	2012-11-07

    Updated Korean translation

M	po/ko.po

commit f14dd5a3fc835e3ba29979c96bc5f62e7dd4e187
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2012-11-06

    gvfs-test: Fix Drive tests for Python 3.3

    Python 3.3 changed the behaviour of subprocess.Popen() with
    universal_newlines=True: now stdin is expected to be a str as well,
    which makes
    sense, but didn't work that way in Python 3.2.

    Change the code to explicitly recode and not use
    universal_newlines=True, so
    that this works for both Python versions.

M	test/gvfs-test

commit 9ebfe661e864d8d0dda41926dc57dcebb9634184
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	2012-11-02

    Updated Slovenian translation

M	po/sl.po

commit 108168e6ecc0103f62b20531b9adf138935bb8a3
Author: cjl <cjlhomeaddress@gmail.com>
Date:	2012-11-02

    Capitalize acronyms

    https://bugzilla.gnome.org/show_bug.cgi?id=683763

    Signed-off-by: Tomas Bzatek <tbzatek@redhat.com>

M	common/gvfsdnssdutils.c
M	daemon/gvfsbackendsftp.c

commit 10ca359c57eb6f5481a61bf1bf52996bd992aa09
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-11-01

    proxy volume monitor: Get session bus on demand

    Do not connect to session bus at module load, let proxies to get
    a bus when needed. No need to keep it active all the time. Proxies
    will return an error when a bus is unavailable.

    Also don't close the shared d-bus connection on module unload, let
    it be managed by proxies.

    https://bugzilla.gnome.org/show_bug.cgi?id=687074

M	monitor/proxy/gproxyvolumemonitor.c
M	monitor/proxy/gproxyvolumemonitor.h
M	monitor/proxy/remote-volume-monitor-module.c

commit f70800d655ca6b222625cd72af820f17404bdb4d
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-11-01

    proxy volume monitor: Don't disable exit_on_close on session bus

    We're on shared session bus, let's exit when connection closes
    (usually tied to running desktop session).

    https://bugzilla.gnome.org/show_bug.cgi?id=687074

M	monitor/proxy/gproxyvolumemonitor.c

commit ed24477ecdcf137276e9b7e89be70a819854a423
Author: Colin Walters <walters@verbum.org>
Date:	2012-10-30

    Remove calls to g_type_init(), bump GLib required version

    See
    http://git.gnome.org/browse/glib/commit/?id=2002479c02fa6e468fc3f67ddc663657a52ebde8

    https://bugzilla.gnome.org/show_bug.cgi?id=687236

M	client/gvfsfusedaemon.c
M	configure.ac
M	daemon/daemon-main.c
M	daemon/main.c
M	metadata/meta-daemon.c
M	metadata/meta-set.c
M	monitor/proxy/gvfsproxyvolumemonitordaemon.c
M	programs/gvfs-cat.c
M	programs/gvfs-copy.c
M	programs/gvfs-info.c
M	programs/gvfs-ls.c
M	programs/gvfs-mime.c
M	programs/gvfs-mkdir.c
M	programs/gvfs-monitor-dir.c
M	programs/gvfs-monitor-file.c
M	programs/gvfs-mount.c
M	programs/gvfs-move.c
M	programs/gvfs-open.c
M	programs/gvfs-rename.c
M	programs/gvfs-rm.c
M	programs/gvfs-save.c
M	programs/gvfs-set-attribute.c
M	programs/gvfs-trash.c
M	programs/gvfs-tree.c
M	test/benchmark-common.c
M	test/benchmark-gvfs-big-files.c
M	test/benchmark-gvfs-small-files.c
M	test/benchmark-posix-big-files.c
M	test/benchmark-posix-small-files.c
M	test/test-query-info-stream.c

commit 1aa6f731fa75535be856ea0ee2c112637becc22a
Author: Mattias Põldaru <mahfiaz@gmail.com>
Date:	2012-10-30

    [l10n] Updated Estonian translation

M	po/et.po

commit 7c1acbfed943c42ac2abd47f684e356a676b64a2
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-10-24

    Post release version bump

M	configure.ac

commit 31023f2216445dee9c9734d29d04349e80d98e8e
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-10-24

    Update NEWS for 1.15.0 release

M	NEWS

commit 89bfa5d443f1122392adeccab035f22af1aa9666
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-10-24

    Post branching version bump

M	configure.ac

commit 87d3bf53b57febcde46b8f951528e27dbe322822
Author: Debarshi Ray <debarshir@gnome.org>
Date:	2012-10-22

    gdaemonmount: Check for a NULL GMountOperation when unmounting

    https://bugzilla.gnome.org/show_bug.cgi?id=686637

M	client/gdaemonmount.c

commit 18c450425fe43c99470e19af0dfc25696cb1d8a1
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2012-10-17

    Ship test files

    Ship auxiliary test/files/* which are needed for the tests. Fixes
    distcheck.

M	test/Makefile.am

commit 7f12336703742e826c995a3b649af0786c43a595
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2012-10-17

    gvfs-test: Mark Sftp.test_unknown_host as expected failure for now

    This does not reliably work everywhere, see
    https://bugzilla.gnome.org/show_bug.cgi?id=686006#c38
    for how to fix it properly.

M	test/gvfs-test

commit 82d369758beba0c62f4e7d9d77b57784b38f6f9d
Author: Alexander Larsson <alexl@redhat.com>
Date:	2012-10-17

    Find libsmbclient with samba 4

    Samba 4 put libsmbclient.h in a subdir and added a smbclient.pc
    file to let us find it. Use it if it exists, falling back on
    the old code.

M	configure.ac

commit 228c7abbba8e4fe3a8d46bc4077b12232118a5ec
Author: Alexander Larsson <alexl@redhat.com>
Date:	2012-10-17

    Use port 22222, not 2222 for test sshd

    This is pure selfish motivation, i use port 2222 for something
    else on my machine.

M	test/gvfs-test

commit fbc059e0f43dfab3db0916992019eb955adfe1c8
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2012-10-16

    gvfs-test: Fix gvfs-mount waiting

    unmount() was missing an actual sleep() in the waiting loop, leading
    to way too
    intensive polling.

    Also, always wait() on the Popen'ed gvfs-mount, to ensure we don't
    get zombies.

    https://bugzilla.gnome.org/show_bug.cgi?id=686006

M	test/gvfs-test

commit fb3f5e0830d69b4e80b4e4b1ad48f41fcaef6001
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2012-10-16

    gvfs-test: Split "myfiles" share into public and private

    This behaves better under smbd running as user under different
    Samba versions
    and avoids artifacts like 0700 files being accessible as guest user,
    as smbd
    running as the user cannot change uid.

    https://bugzilla.gnome.org/show_bug.cgi?id=686006

M	test/gvfs-test

commit 996f0513897816130fd50377b8093b57fd47bb41
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2012-10-16

    gvfs-test: Make Smb tests run without gvfs-testbed

    When not running under gvfs-testbed, start smbd as normal user
    with temporary
    configuration and state files on a high port (1445).

    Set $LIBSMB_PROG to "netcat to port 1445" to convince libsmbclient
    and the smb
    gvfs backend to talk to this port instead (unfortunately libsmbclient
    has no
    API to set the port).

    As in this mode smbd cannot change to other users it does not prevent
    access to
    files which are only accessible to the test user, so adjust the
    test case
    accordingly. This should be cleaned up later on by using two separate
    shares.

    https://bugzilla.gnome.org/show_bug.cgi?id=686006

M	test/Makefile.am
M	test/gvfs-test

commit c144ca6aaac81c8b6f1982d9f241e2960b0e1f23
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2012-10-16

    Support running a subset of tests with make check

    With this you can run e. g.

      make check TEST_NAMES="Smb Dav.test_http_auth"

    to only run a subset of tests. Same for "make installcheck".

    https://bugzilla.gnome.org/show_bug.cgi?id=686006

M	test/Makefile.am

commit 4a71400a3ca74baee69f9e90f124fcfd2bcf10b6
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2012-10-16

    gvfs-test: Robustify Smb.test_anonymous

    gvfs-mount may hang indefinitely if it unexpectedly asks for
    credentials when
    trying to do an anoymous mount. Time out after 5 seconds instead.

M	test/gvfs-test

commit 9f80a98aeb422538500fba4ba73c8841fc361f28
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2012-10-16

    gvfs-test: Drop usershares

    We cannot rely on availability of usershares on all distros, so
    simplify the
    tests to expect that gvfs-testbed sets up the "myfiles" share by
    itself and
    then just use this.

    As the same share now allows both guest and authenticated access, call
    gvfs-mount with an "user@" prefix in the URI to tell it that we want
    authenticated access, and adjust wait_for_gvfs_mount_user_prompt()
    to also
    trigger on a Domain prompt (as gvfs-mount now does not ask for the
    user name
    any more).

M	test/gvfs-test

commit d534958ddce8c33189c42f697ec0483b5c6d9a93
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2012-10-15

    gvfs-test: Support running Sftp without gvfs-testbed

    We absolutely need to avoid touching ~/.ssh if we don't run under
    gvfs-testbed:
     - Require that an SSH key already exists. Current gvfs-testbed
     creates it now.
     - Tell our local sshd to look for authorized_keys in $XDG_RUNTIME_DIR
     instead
       of ~/.ssh/authorized_keys, as we need to modify it for the tests.

    Make two adjustments to the test which previously assumed English
    strings (in
    gvfs-testbed gvfs runs under no locale).

    Stop depending on $SSHD being set by gvfs-testbed and instead
    determine the
    sshd path with "which", requiring that it is in $PATH.

M	test/gvfs-test

commit ee7f7ebab9b1698d92fe27a85e4b85ef4a49250a
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2012-10-15

    gvfs-test: Stop using /var/log/sshd.log

    Just read sshd's output directly from the process' stderr pipe. With
    that we
    can stop relying on that part of gvfs-testbed and get the tests
    closer to being
    able to run without gvfs-testbed.

    https://bugzilla.gnome.org/show_bug.cgi?id=686006

M	test/gvfs-test

commit 582c311ed0ff0306e5be854e9d4f5a0761342d61
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2012-10-15

    gvfs-test: Use local sshd configuration and host keys

    Stop relying on the system sshd configuration and calling sshd-keygen
    on the
    fly, as this is not reliable across distributions. Just ship a local
    test host
    key and generate a complete (but minimal) sshd config on the fly.

A	test/files/ssh_host_rsa_key
A	test/files/ssh_host_rsa_key.pub
M	test/gvfs-test

commit 4546505e171b5b57f0ffb3e5bf0420d3be7163ff
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2012-10-15

    gvfs-test: Ship static SSL certificate, drop openssl dependency

    Stop generating an SSL certificate on the fly, it's too brittle across
    different distributions and unnecessary overhead. Instead, ship a
    static test
    SSL certificate.

    https://bugzilla.gnome.org/show_bug.cgi?id=686006

A	test/files/testcert.pem
M	test/gvfs-test

commit 10e3705ed5f74840a5d7e13afa1df18f196becce
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2012-10-12

    gvfs-test: Integrate into "make installcheck"

    This runs the tests against the system instead of the build tree,
    for system
    integration/package tests.

    https://bugzilla.gnome.org/show_bug.cgi?id=686006

M	test/Makefile.am

commit 5388836c5bd14474301301e170ee11cea51c6652
Author: Shankar Prasad <svenkate@redhat.com>
Date:	2012-10-14

    Updated Kannada Translations

M	po/kn.po

commit f037c6239fdcfe9eee2c94a5206929e062b17761
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2012-10-12

    gvfs-test: Fix for Apache 2.4

    Adjust apache setup for the DAV tests to also work with Apache httpd
    2.4 on
    Fedora 18.

    Show the error_log file if it exists, and apachectl start fails.

M	test/gvfs-test

commit 5ab00893ea26a20d9b4073557a56bb2de37376c9
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2012-10-12

    test/run-in-tree.sh: Re-fix for distcheck

    distcheck does an out-of-tree build and thus the generated
    session.conf is not
    in the same directory as run-in-tree.sh. So handle this case
    separately.

M	test/run-in-tree.sh

commit 909f82902f6ca89290eba6f454e0b5b56d0d1408
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2012-10-12

    test/run-in-tree.sh: Search session.conf in test directory

    Allow users to call test/run-in-tree.sh from any directory, so that
    you can e.
    g. run "test/run-in-tree.sh gvfs-mount -li". Without this,
    run-in-tree.sh only
    finds its session.conf when running this in the tests/ directory.

M	test/run-in-tree.sh

commit 005fdd7da7593541fe5a6a16a4048b00b125ee84
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2012-10-12

    gvfs-test: Skip Dav tests if Apache httpd is not installed

    This is more friendly for eventually running this through "make check"
    when not
    all test dependencies are available.

    https://bugzilla.gnome.org/show_bug.cgi?id=686006

M	test/gvfs-test

commit a63c5a932c59bf61c74871736df941685ae3e96e
Author: Alexander Larsson <alexl@redhat.com>
Date:	2012-10-12

    tests: Fix distchecks

    We were not correctly handling srcdir != builddir, and
    we were not distcleaning some files.xg

M	daemon/Makefile.am
M	test/Makefile.am

commit ebcc67f826d27c71776b06e3ddd629e0056dd9e0
Author: Alexander Larsson <alexl@redhat.com>
Date:	2012-10-12

    tests: Disable smb usershare test if not in testbed

    This relies on usershares being set up which might not be true.

M	test/gvfs-test

commit caedd86fcb1a3d0c499fdf8b091b94f1764f8d61
Author: Alexander Larsson <alexl@redhat.com>
Date:	2012-10-12

    test: Fix test suit error due to dbus dying

    We need to pass in the dbus config file by absolute name, or
    it will exit when it re-reads the config file on inotify
    changes.

M	test/run-in-tree.sh

commit d013022a84b16c10628902d3f711eea98982269c
Author: Alexander Larsson <alexl@redhat.com>
Date:	2012-10-12

    More work on the test suite running

    We now also load the gio module and the gvfs
    monitor files from the build tree. Also
    fixes up make clean a bit more.

M	test/Makefile.am
M	test/run-in-tree.sh

commit b906a5ef2d395c59908d7aa954589e249a22993a
Author: Alexander Larsson <alexl@redhat.com>
Date:	2012-10-12

    Allow specifying the dir for .monitor files

    This will also be used for the test suite

M	monitor/proxy/gproxyvolumemonitor.c

commit 684a4961315012d577140cf07c4ad7b55b9d9618
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2012-10-12

    test/gvfs-test: Add missing copyright/license header

M	test/gvfs-test

commit 8e999efb4f617d01b876f9b9d41cea11385cf3f9
Author: Alexander Larsson <alexl@redhat.com>
Date:	2012-10-12

    Initial version of testing framework

    This is an initial import of the gvfs-test test frameworks
    from Martin Pitt, integrated into the gvfs tree.

    For now its only run if you make test in the tests subdir
    as some tests are failing. It also doesn't use the gvfs-testbed
    script to launch a fuller test environment

M	.gitignore
M	daemon/.gitignore
M	daemon/Makefile.am
A	test/.gitignore
M	test/Makefile.am
A	test/gvfs-test
A	test/run-in-tree.sh
A	test/session.conf.in

commit 7dfcc1d1fda1a9bd388ea0823e9b24807782b59e
Author: Alexander Larsson <alexl@redhat.com>
Date:	2012-10-12

    Allow specifying directory and extensions for mount files

    This will be used by the test framework to run tests against
    the in-tree build.

M	daemon/mount.c

commit 79a53dc1b86b35dfbeb377e13f760d6817f7597b
Author: Alexander Larsson <alexl@redhat.com>
Date:	2012-10-11

    Don't use gvfs in the daemons unless necessary

    Most backends don't need gvfs support, although they
    may use local GFiles. For these we enforce the use
    of the local file GVfs implementation to avoid weird
    complexity with backends depending on gvfs itself.

M	daemon/Makefile.am
M	daemon/daemon-main-generic.c

commit baa03b1333cf83cbb9618e0bebd8038df8cc50b2
Author: Alexander Larsson <alexl@redhat.com>
Date:	2012-10-11

    client: Don't disable exit_on_close on session bus

    We should *not* disable exit on close for the shared
    session bus connection, this means that apps won't
    properly exit with the session!

M	client/gdaemonvfs.c

commit c90f496faeb3451819c1d96f24abeb0d66013ef4
Author: Michael Terry <michael.terry@canonical.com>
Date:	2012-10-10

    gphoto2: make sure to not call g_mutex_clear twice, causing a crash

    https://bugzilla.gnome.org/show_bug.cgi?id=685909

M	daemon/gvfsbackendgphoto2.c

commit 4d39b17547648a6aa68d73c8d9ce9cbe23607cf8
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2012-10-04

    udisks2: Add appropriate content type for media players

    If a device has an ID_MEDIA_PLAYER udev property, add the
    x-content/audio-player content type so that gvfs clients like
    nautilus offer
    opening an audio player instead of a file browser.

    https://bugzilla.gnome.org/show_bug.cgi?id=619583

M	monitor/udisks2/gvfsudisks2mount.c

commit 867cd04972606757549c64f8407edbbbe49d9555
Author: Michael Terry <michael.terry@canonical.com>
Date:	2012-10-01

    fuse: don't crash on unmount

    https://bugzilla.gnome.org/show_bug.cgi?id=685248

M	client/gvfsfusedaemon.c

commit a5e21447be3c138969e80a3f779c8697b551db4f
Author: Antoine Jacoutot <ajacoutot@gnome.org>
Date:	2012-09-30

    portability: fix is_on_nfs on OpenBSD

    Under OpenBSD, the statfs structure does not support "f_type". So, use
    "f_fstypename" to check for NFS.

    https://bugzilla.gnome.org/show_bug.cgi?id=685126

M	metadata/metatree.c

commit f271c7fccfaf1e5cb25f06c85734991b2c07b673
Author: Alexander Shopov <ash@kambanaria.org>
Date:	2012-09-29

    Updated Bulgarian translation

M	po/bg.po

commit ca7743a63721c3dd1c166006539e356412466dcc
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:	2012-09-23

    proxy: don't emit connected/added signals at object creation

    It's unnecessary to emit those signals when the object is created, and
    it can cause weird side-effects if applications e.g. play a sound on
    signal emission.

    https://bugzilla.gnome.org/show_bug.cgi?id=684677

M	monitor/proxy/gproxyvolumemonitor.c

commit 7c0308fdd096efa7fd946cd3a7fc32f3d33f5b1c
Author: Petr Kovar <pkovar@redhat.com>
Date:	2012-09-24

    Update Czech translation

M	po/cs.po

commit a83881cabdd26cc3810a9160b976d3713c537e11
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-09-24

    Post release version bump

M	configure.ac

commit 3f071be78bdb7543237480f2aa9cb005a8c4c4d2
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-09-24

    Update NEWS for 1.14.0 release

M	NEWS

commit 4cb8f7c203dfcfe552c13288d51642942afc5b36
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-09-24

    Pre release version bump

M	configure.ac

commit f7f7858869e6d501b6f497ecfdbf081dab307df6
Author: Peteris Krisjanis <pecisk@gmail.com>
Date:	2012-09-23

    Updated Latvian translation

M	po/lv.po

commit f7cec05dc80c5e86e11b8465ac045c280b8b75b7
Author: Theppitak Karoonboonyanan <thep@linux.thai.net>
Date:	2012-09-23

    Updated Thai translation

M	po/th.po

commit 0dba893205420e9224788c1e9c98c6e66fb71f54
Author: Carles Ferrando <carles.ferrando@gmail.com>
Date:	2012-09-23

    [l10n]Updated Catalan (Valencian) translation

M	po/ca@valencia.po

commit 6d1426e23c29852f81f2da9a582e711dd8443674
Author: Gil Forcada <gforcada@gnome.org>
Date:	2012-09-23

    [l10n] Added Catalan translation

M	po/ca.po

commit c488e05e7a873be33b4ac5f8065cb85e0dc822fa
Author: tuhaihe <wangdianjin@linuxdeepin.com>
Date:	2012-09-23

    update Simplified Chinese (zh_CN) translation

M	po/zh_CN.po

commit 4327032e52efbcc1fe22a5db3966a2014120c46b
Author: Yuri Myasoedov <omerta13@yandex.ru>
Date:	2012-09-22

    Updated Russian translation

M	po/ru.po

commit d5a9157479a8e25812bbd9faeb0d8e1994542a4f
Author: Rajesh Ranjan <rranjan@redhat.com>
Date:	2012-09-21

    hindi updated file

M	po/hi.po

commit 0f8535e989048b09b99e1d1f2315db6ca0bd74e8
Author: A S Alam <aalam@users.sf.net>
Date:	2012-09-19

    update Punjabi Translation

M	po/pa.po

commit 7a7974ca0064da5a81e378ca74c70bd3e65bb550
Author: Dr.T.Vasudevan <agnihot3@gmail.com>
Date:	2012-09-19

    updated Tamil translation

M	po/ta.po

commit 7d42f4eb92b7023ad05fdfd0a9f5e5536ac2ade2
Author: Ani Peter <apeter@redhat.com>
Date:	2012-09-18

    Updated Malayalam file

M	po/ml.po

commit 387b50659cd0c57bf386c5c774b76946b58db606
Author: Chris Leonard <cjl@laptop.org>
Date:	2012-09-17

    Updated British English translation

M	po/en_GB.po

commit c5a1a237a321f7ecffd5501d764d57cea5f7baab
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-09-17

    Post release version bump

M	configure.ac

commit 5f61964d7a72d6ca465971da9a8c2ed92a0b73ee
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-09-17

    Update NEWS for 1.13.9 release

M	NEWS

commit 1dc7bcb93e9464e826291ebceaa0973e3a7a7ab9
Author: Rafael Ferreira <rafael.f.f1@gmail.com>
Date:	2012-09-17

    Updated Brazilian Portuguese translation

M	po/pt_BR.po

commit e48234302e15b80b76fce6cf26a8609b762f8d36
Author: Ask H. Larsen <asklarsen@gmail.com>
Date:	2012-09-16

    Updated Danish translation

M	po/da.po

commit 35c0ce69203c8c73024492d7540d1f22e8c49a2c
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2012-09-16

    Updated Spanish translation

M	po/es.po

commit 245057a4076bbed3656777f08ed09c11770efd6f
Author: Seong-ho Cho <darkcircle.0426@gmail.com>
Date:	2012-09-16

    Updated Korean translation

M	po/ko.po

commit dbfe3bb148eb6750491b3ffd91a4acca341774db
Author: Timo Jyrinki <timo@debian.org>
Date:	2012-09-15

    Finnish translation update by Jiri Grönroos

M	po/fi.po

commit 60f0ed90b3fa4d70f7896096dd837dd2277a89ac
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-09-14

    gdu volume monitor: Don't unref possibly NULL object

M	monitor/gdu/ggduvolumemonitor.c

commit 3eb8533baba381e4c454b764692dea8ef5876ad1
Author: Michael Terry <michael.terry@canonical.com>
Date:	2012-09-14

    gdu volume monitor: Handle gdu_pool_new() returning NULL gracefully

    https://bugzilla.gnome.org/show_bug.cgi?id=582579

M	monitor/gdu/ggduvolumemonitor.c

commit 58ba8d331b4f1ae071f3fe016ad934cbfc836308
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-09-14

    hal: Bring gvfsdbusutils.c back and make it private

    ... in order to be able to compile.

    gvfsdbusutils.c was removed by commit 288e9153f1f though hal still
    needs it for compilation. Let's make it private to hal and strip
    unnecessary functions.

    https://bugzilla.gnome.org/show_bug.cgi?id=683367

M	monitor/hal/Makefile.am
A	monitor/hal/gvfsdbusutils.c
A	monitor/hal/gvfsdbusutils.h

commit 9f3de9c2b455ba7ddf9d706b5659a12c0e0e1be3
Author: Sweta Kothari <swkothar@redhat.com>
Date:	2012-09-14

    Updated gujarati file

M	po/gu.po

commit 9014b0414aec212c42432142bf6da2c7832e3888
Author: Christian Kirbach <Christian.Kirbach@googlemail.com>
Date:	2012-09-14

    Updated German translation

M	po/de.po

commit be11520b5f6ad1d4ac95b2ba0cde18fbbbc26db6
Author: William Jon McCann <jmccann@redhat.com>
Date:	2012-09-13

    Try to unsubscribe from the proxy used for subscription

    This makes cancel much cleaner and solves a problem
    where we were trying to use a previously disposed proxy.

    https://bugzilla.gnome.org/show_bug.cgi?id=683985

M	client/gdaemonfilemonitor.c

commit de93fcf03b7ca6f7a83e5a83cd1df05a83b7c2c7
Author: Sandeep Sheshrao Shedmake <sshedmak@redhat.com>
Date:	2012-09-13

    Updated Marathi Translations

M	po/mr.po

commit c3c9acbc1efa26da0ff3af1bdede057621d055ec
Author: Martin Srebotnjak <miles@filmsi.net>
Date:	2012-09-11

    Updated Slovenian translation

M	po/sl.po

commit 160bc5117f43320511ffd5cf282d97070dae60b2
Author: Nilamdyuti Goswami <nilamdyuti@gmail.com>
Date:	2012-09-11

    Assamese translation updated

M	po/as.po

commit 2dbfccc5e43583e152a156eeaf4210ffb1b959d8
Author: William Jon McCann <jmccann@redhat.com>
Date:	2012-09-11

    Fix some memory leaks

    https://bugzilla.gnome.org/show_bug.cgi?id=683770

M	client/gdaemonvfs.c
M	client/gvfsdaemondbus.c

commit 8a41d58863c77eb125a86cd073b7859e67e3d31c
Author: Claude Paroz <claude@2xlibre.net>
Date:	2012-09-10

    Updated French translation

    Thanks Bruno Brouard for the review.

M	po/fr.po

commit 18b6739436975b033a855c20ee3c1f858dc5c065
Author: Antoine Jacoutot <ajacoutot@gnome.org>
Date:	2012-09-10

    portability: use tar-ustar instead of tar-pax

    This allows extracting the source tarballs using BSD tar(1) without
    bogus PaxHeaders directories lying around.

    https://bugzilla.gnome.org/show_bug.cgi?id=683709

M	configure.ac

commit dcdc836a814dca550d56775eeeb4a8902eb06b9e
Author: Duarte Loreto <happyguy_pt@hotmail.com>
Date:	2012-09-09

    Updated Portuguese translation

M	po/pt.po

commit 6b331ded92ae4341521a889b3e6bc86578cba58e
Author: Ihar Hrachyshka <ihar.hrachyshka@gmail.com>
Date:	2012-09-08

    Updated Belarusian translation.

M	po/be.po

commit 98a2601b143687cde2ed79deb85e86cf1a29ded4
Author: Tom Tryfonidis <tomtryf@gmail.com>
Date:	2012-09-08

    Updated Greek translation

M	po/el.po

commit 5b1306aace9c0ed425091bdbe8eae1535ff77c57
Author: Gil Forcada <gforcada@gnome.org>
Date:	2012-09-07

    Use typographic quotes just like the other strings

M	daemon/gvfsafpserver.c

commit d7449327584756c630a9ea06affeea6a4f11114c
Author: Daniel Korostil <ted.korostiled@gmail.com>
Date:	2012-09-07

    uk update

M	po/uk.po

commit b983605998c07253ed3577db10d09ccf8260c9dd
Author: Aurimas Černius <aurisc4@gmail.com>
Date:	2012-09-07

    Updated Lithuanian translation

M	po/lt.po

commit ff909269ab889e81f83d3c08a7c8b612306b4473
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-09-07

    proxydrive: Use proper object casting

    Just a little cleanup to be on a safe side.

    https://bugzilla.gnome.org/show_bug.cgi?id=683191

M	monitor/proxy/gproxydrive.c

commit df8c8e6e6ab427546ac1b6526a52722a65736492
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2012-09-06

    Updated Spanish translation

M	po/es.po

commit 413b7bf81d966f421567a6c97fe52cf02f3696f3
Author: Gabor Kelemen <kelemeng@gnome.hu>
Date:	2012-09-06

    Updated Hungarian translation

M	po/hu.po

commit c21dfdb740211dd87a304a086d54afc057882a48
Author: Gabor Kelemen <kelemeng@gnome.hu>
Date:	2012-09-06

    Updated Hungarian translation

M	po/hu.po

commit b4ab3ff3af6004a8b6d0edafda26c00671cca47d
Author: Andika Triwidada <andika@gmail.com>
Date:	2012-09-06

    Updated Indonesian translation

M	po/id.po

commit 23ca958b5fa0ac78fd8c19469ba5ed3f82053a71
Author: Dirgita <dirgitadevina@yahoo.co.id>
Date:	2012-09-06

    Updated Indonesian translation

M	po/id.po

commit 34be89d32b3343b88325a0b3611d53e723c41260
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:	2012-09-05

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

M	po/zh_HK.po
M	po/zh_TW.po

commit a5f905611f6d44a720836515e0457ffdfe61369c
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2012-09-05

    Updated Norwegian bokmål translation

M	po/nb.po

commit c457cfa4ddd4f34e48f4d20342eb3bb7a27daf3b
Author: Мирослав Николић <miroslavnikolic@rocketmail.com>
Date:	2012-09-05

    Updated Serbian translation

M	po/sr.po
M	po/sr@latin.po

commit e2ad6fd85ac03a7fc3c6ec60ab173573c41ae403
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:	2012-09-04

    Updated Galician translations

M	po/gl.po

commit b7cd386a5c2c9c343a1331ce94e61a7724019f46
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	2012-09-04

    Updated Polish translation

M	po/pl.po

commit 9a2a016744011be46d9d0b816735468f6bd787a6
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-09-04

    Post release version bump

M	configure.ac

commit 46ed9003b4624c896001a342af26e391ae2377a3
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-09-04

    Update NEWS for 1.13.8 release

M	NEWS

commit d724c8d07dd3dcb97b71d086562e7370caee16ee
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-09-04

    Bump glib version requirement

    ... for g_content_type_get_symbolic_icon()

M	configure.ac

commit 085c2885ff7f1acaf7a5238f85732d361ad55fc9
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-09-04

    gmountsource: Always use NULL-terminated arrays

    GDBus calls require NULL-terminated string arrays, let's use them
    internally instead of array + n_elements couple.

    Also fix all users of g_mount_source_ask_question() and
    g_mount_source_show_processes().

    This is a regression after gdbus port actually, the old code used
    to deal with string arrays differently.

    Related commit: 99d06e499f999459f1fc973c870415a004722d54

    https://bugzilla.gnome.org/show_bug.cgi?id=683118

M	common/gmountsource.c
M	common/gmountsource.h
M	daemon/gvfsbackend.c
M	daemon/gvfsbackendafc.c
M	daemon/gvfsbackendsftp.c

commit 37d3eef5489d4c0d4ed227008a0494a9f14743e3
Author: William Jon McCann <jmccann@redhat.com>
Date:	2012-09-04

    Improve the unknown authenticity question prompt

    https://bugzilla.gnome.org/show_bug.cgi?id=683341

    Signed-off-by: Tomas Bzatek <tbzatek@redhat.com>

M	daemon/gvfsbackendsftp.c

commit 291b10ff030ec7448570ae52541e476c1532ca98
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-09-04

    dav: Don't use deprecated libsoup methods

    https://bugzilla.gnome.org/show_bug.cgi?id=682990

M	daemon/gvfsbackenddav.c

commit 6d98d20fdab36ec0e75d19f011e15adbd1d911d8
Author: Jasper St. Pierre <jstpierre@mecheye.net>
Date:	2012-09-04

    http: Don't use deprecated libsoup methods

    soup_message_headers_get() has been deprecated in favor of
    soup_message_headers_get_one().

    https://bugzilla.gnome.org/show_bug.cgi?id=682990

    Signed-off-by: Tomas Bzatek <tbzatek@redhat.com>

M	daemon/gvfsbackendhttp.c

commit 62b46167bf1ddafe20085a6478fb2660a42e9bbf
Author: Jasper St. Pierre <jstpierre@mecheye.net>
Date:	2012-09-04

    afp: Fix error message (-Wformat-security)

    We need to supply an %s somewhere in here to be secure.

    https://bugzilla.gnome.org/show_bug.cgi?id=682990

    Signed-off-by: Tomas Bzatek <tbzatek@redhat.com>

M	daemon/gvfsafpserver.c

commit 43e94e9bfc1b30b4da751ba40e831fc5a1988c1b
Author: Bruce Cowan <bruce@bcowan.me.uk>
Date:	2012-09-04

    Updated British English translation

M	po/en_GB.po

commit 9fd2cc71f48fbe97b9098a611a222d8f7ddeb900
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	2012-09-04

    Updated Polish translation

M	po/pl.po

commit 27d7d1b8d1dc6a0aaade1233ed769efa3d76c93a
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2012-09-03

    Updated Spanish translation

M	po/es.po

commit a33ed4629e8c431a9415daa45616d1f66d3387fd
Author: Dr.T.Vasudevan <agnihot3@gmail.com>
Date:	2012-09-03

    updated Tamil translation

M	po/ta.po

commit 45461d43888f6c8e9c34ec7eb1822528731c759a
Author: Dr.T.Vasudevan <agnihot3@gmail.com>
Date:	2012-09-03

    updated Tamil translation

M	po/ta.po

commit 8a5faf2c5eb5fbb1ea60ee5ac844ac17144206ca
Author: Dr.T.Vasudevan <agnihot3@gmail.com>
Date:	2012-09-03

    updated Tamil translation

M	po/ta.po

commit e3c8871062aece38b9714a965a83a6a040583ecd
Author: Dr.T.Vasudevan <agnihot3@gmail.com>
Date:	2012-09-02

    Added ta translation

M	po/ta.po

commit 056469287fb4434bd2ffab3d436f4b0f60157394
Author: A S Alam <aalam@users.sf.net>
Date:	2012-09-03

    update Punjabi Translation

M	po/pa.po

commit b0b6e7a57081968be19837d866bc114e68ce0797
Author: Aurimas Černius <aurisc4@gmail.com>
Date:	2012-09-02

    Updated Lithuanian translation

M	po/lt.po

commit 4d9ffd53a41f3c65b6614c28263fa8c31c105b14
Author: Nguyễn Thái Ngọc Duy <pclouds@gmail.com>
Date:	2012-09-01

    Updated Vietnamese translation

M	po/vi.po

commit c594d8b228ce521369e2fb3b79770b4747d418dc
Author: Nguyễn Thái Ngọc Duy <pclouds@gmail.com>
Date:	2012-09-01

    po/vi: import from Damned Lies

M	po/vi.po

commit 99f0b2e951d15de08d03b802b3759cb511815f28
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:	2012-09-01

    Updated Galician translations

    Signed-off-by: Fran Diéguez <fran.dieguez@mabishu.com>

M	po/gl.po

commit 1e46d162a096b256230a161a170bf03df9e264f1
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:	2012-08-31

    Updated Galician translations

M	po/gl.po

commit 23f70d13f21a7d93b63e0dbd8742d1b1191023bc
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	2012-08-31

    Updated Polish translation

M	po/pl.po

commit 16d16c8a2abfc6ce2b90e58fae551f895d08b5dc
Author: Tom Tryfonidis <tomtryf@gmail.com>
Date:	2012-08-31

    Updated Greek translation

M	po/el.po

commit a1983951e725e511ae4cb901c19eb7c900cae23d
Author: William Jon McCann <jmccann@redhat.com>
Date:	2012-08-28

    Don't include jargon in mount display names and messages

    The backend protocol isn't necessary in the display name for a
    location. And having it there makes it much harder to actually
    find the user interesting part of the name. Once a mount is connected
    the user interesting part of the name is "what it is" and not
    "how it is accessed".

    This is possible now that we aren't using the display name
    to make a unique mount point.

    https://bugzilla.gnome.org/show_bug.cgi?id=682878

M	daemon/gvfsafpvolume.c
M	daemon/gvfsbackendafp.c
M	daemon/gvfsbackendafpbrowse.c
M	daemon/gvfsbackenddav.c
M	daemon/gvfsbackendftp.c
M	daemon/gvfsbackendsftp.c

commit 3ef1deba4a05597a8b2bba6222ce9d94b02d6312
Author: William Jon McCann <jmccann@redhat.com>
Date:	2012-08-30

    Don't use the display name to make the unique mount point

    https://bugzilla.gnome.org/show_bug.cgi?id=682878

M	client/gvfsfusedaemon.c
M	daemon/gvfsbackend.c
M	daemon/mount.c

commit 232a247b77fdf693cfccb3327712c85661f9fd9a
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-08-30

    monitor: Unused variables cleanup

M	monitor/proxy/gproxyvolumemonitor.c
M	monitor/proxy/gvfsproxyvolumemonitordaemon.c

commit 5e2d824527f6b6b8e456f1b717f9fd5d95b488ac
Author: William Jon McCann <jmccann@redhat.com>
Date:	2012-08-28

    Add symbolics support to the backends

    https://bugzilla.gnome.org/show_bug.cgi?id=681458

M	daemon/gvfsafpserver.c
M	daemon/gvfsbackendafc.c
M	daemon/gvfsbackendafp.c
M	daemon/gvfsbackendafpbrowse.c
M	daemon/gvfsbackendarchive.c
M	daemon/gvfsbackendburn.c
M	daemon/gvfsbackendcdda.c
M	daemon/gvfsbackendcomputer.c
M	daemon/gvfsbackenddav.c
M	daemon/gvfsbackenddnssd.c
M	daemon/gvfsbackendftp.c
M	daemon/gvfsbackendgphoto2.c
M	daemon/gvfsbackendhttp.c
M	daemon/gvfsbackendlocaltest.c
M	daemon/gvfsbackendnetwork.c
M	daemon/gvfsbackendobexftp-fl-parser.c
M	daemon/gvfsbackendobexftp.c
M	daemon/gvfsbackendrecent.c
M	daemon/gvfsbackendsftp.c
M	daemon/gvfsbackendsmb.c
M	daemon/gvfsbackendsmbbrowse.c
M	daemon/gvfsbackendtrash.c
M	daemon/gvfsdaemonutils.c
M	daemon/gvfsftpdircache.c

commit c47f093895ceb648429ef4ab85004b9c3941438d
Author: William Jon McCann <jmccann@redhat.com>
Date:	2012-08-28

    Add support for getting symbolic icons

    https://bugzilla.gnome.org/show_bug.cgi?id=681458

M	client/gdaemonmount.c
M	common/gmounttracker.c
M	common/gmounttracker.h
M	common/org.gtk.vfs.xml
M	daemon/gvfsbackend.c
M	daemon/gvfsbackend.h
M	daemon/mount.c
M	monitor/afc/afcvolume.c
M	monitor/proxy/dbus-interfaces.xml
M	monitor/proxy/gproxydrive.c
M	monitor/proxy/gproxymount.c
M	monitor/proxy/gproxyshadowmount.c
M	monitor/proxy/gproxyvolume.c
M	monitor/proxy/gvfsproxyvolumemonitordaemon.c
M	programs/gvfs-mount.c

commit 96daf6359e857818c3255d49c0c7d9375870aaa5
Author: William Jon McCann <jmccann@redhat.com>
Date:	2012-08-28

    Remove favicon support

    16px favicons aren't themable or resizable. They don't work very well
    as the default icons for files or mounts.

    https://bugzilla.gnome.org/show_bug.cgi?id=682892

M	daemon/gvfsbackendsftp.c

commit dca8b3e41bb1ff0c1dafe9e25c47dc5d1904597a
Author: Yuri Myasoedov <omerta13@yandex.ru>
Date:	2012-08-30

    Updated Russian translation

M	po/ru.po

commit a3461e6062cbab8971bda51bb3ebd6a22440480f
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:	2012-08-29

    Updated Galician translations

M	po/gl.po

commit e7ea09a4ba13a1b14761a3804519282f4e35aa89
Author: Andika Triwidada <andika@gmail.com>
Date:	2012-08-29

    Updated Indonesian translation

M	po/id.po

commit 351f67e6879b7effdacc9d463b50b7f59bf67723
Author: Colin Walters <walters@verbum.org>
Date:	2012-08-28

    gdaemonvfs: Don't warn when running against an older gvfs-daemon

    This happens in jhbuild.

    https://bugzilla.gnome.org/show_bug.cgi?id=682885

M	client/gdaemonvfs.c

commit a1ffbba7e4574aa43c356d80c4e139e8f3a36c4f
Author: William Jon McCann <jmccann@redhat.com>
Date:	2012-08-27

    recent: honor the private hint

    Don't display items that have been marked as private.

    https://bugzilla.gnome.org/show_bug.cgi?id=682835

M	daemon/gvfsbackendrecent.c

commit b6f7d8a73ab50522ab86ecf5ef0e2cfb4c21d88f
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2012-08-28

    Updated Norwegian bokmål translation

M	po/nb.po

commit 167b54a7d42eac452b37a6e84c8fa34e33c6a68e
Author: Nilamdyuti Goswami <nilamdyuti@gmail.com>
Date:	2012-08-28

    Implemented FUEL entries to Assamese translation

M	po/as.po

commit d64a25029809b71d7a733d549e8ae7638544d143
Author: A S Alam <aalam@users.sf.net>
Date:	2012-08-27

    update Punjabi Translation

M	po/pa.po

commit 889e9532b792d15d19d3b0cb48bcc3df5452e3dd
Author: Nilamdyuti Goswami <nilamdyuti@gmail.com>
Date:	2012-08-27

    Assamese translation updated

M	po/as.po

commit 639afddbe72f6056ad30ca949af27067040af294
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:	2012-08-27

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

M	po/zh_HK.po
M	po/zh_TW.po

commit 9a0ebc688c54f9d0d06666edd7e01229e144e59e
Author: Jasper St. Pierre <jstpierre@mecheye.net>
Date:	2012-08-25

    gmountspec: Make sure to free the GVariantIter

    https://bugzilla.gnome.org/show_bug.cgi?id=682646

M	common/gmountspec.c

commit 7aba6b203db0892276c88a68a45438f6f008f8b6
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2012-08-25

    Updated Spanish translation

M	po/es.po

commit 45c853adefac2025339bbfdfc8baac2b432279d0
Author: Aurimas Černius <aurisc4@gmail.com>
Date:	2012-08-24

    Updated Lithuanian translation

M	po/lt.po

commit f2128bac39c802120c675f0fc86a79470c12a5cc
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	2012-08-24

    Updated Polish translation

M	po/pl.po

commit f5ad957aff73c7b3675de67aef80af9da8e100db
Author: Nguyễn Thái Ngọc Duy <pclouds@gmail.com>
Date:	2012-08-24

    Updated Vietnamese translation

M	po/vi.po

commit 9a11c1b6f8a9fa3f84bac35766f6541424a99a34
Author: Nguyễn Thái Ngọc Duy <pclouds@gmail.com>
Date:	2012-08-24

    po/vi: import from Damned Lies

M	po/vi.po

commit 17ac45d8cfaaabf8707287bc3e1e2f2c8e26aed1
Author: Alexander Larsson <alexl@redhat.com>
Date:	2012-08-24

    Strip dbus error strings from GError after all dbus calls.

    https://bugzilla.gnome.org/show_bug.cgi?id=682384

M	daemon/daemon-main.c
M	daemon/gvfsbackendsftp.c
M	daemon/gvfsjobenumerate.c
M	daemon/gvfsjobmount.c
M	daemon/gvfsjobunmount.c
M	daemon/gvfsmonitor.c
M	daemon/mount.c

commit 30a2eacbfb83c128f1e3628c0346dcfab643f0fa
Author: William Jon McCann <jmccann@redhat.com>
Date:	2012-08-21

    Append the service name when needed to help differentiate

    https://bugzilla.gnome.org/show_bug.cgi?id=592885

M	daemon/gvfsbackendnetwork.c

commit e0aaf394d858ebdca25cb1a28d72fc746c151d6b
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	2012-08-23

    Updated Polish translation

M	po/pl.po

commit c57017da34eabc30b978567c706874f5a3a142ce
Author: William Jon McCann <jmccann@redhat.com>
Date:	2012-08-22

    Use human friendly error messages.

    https://bugzilla.gnome.org/show_bug.cgi?id=682507

M	daemon/gvfsafpserver.c

commit 9d4b1312a802fffb22696c54c9b7b96ff82f9161
Author: Alexander Larsson <alexl@redhat.com>
Date:	2012-08-23

    Fix races when mounting the same mount in parallel.

    Whenever we get ALREADY_MOUNTED during a mount we just treat
    it as a success.

    This fixes for instance multiple parallel calls to automounted
    mounts like http.

M	daemon/mount.c

commit c3309dfdf5c3d60c6666a8a8883990ccdab383ae
Author: Alexander Larsson <alexl@redhat.com>
Date:	2012-08-23

    Report back error_code on spawn fail due to bus name already owned

    We return the not-quite-right ALREADY_MOUNTED. Its not strictly right
    because just because the name is owned does not mean the mount
    has been registred yet.

M	common/org.gtk.vfs.xml
M	daemon/daemon-main.c

commit d54643d8e74dc80777f7cb279bd9c3e20b7d05b2
Author: Alexander Larsson <alexl@redhat.com>
Date:	2012-08-23

    Don't g_warn about getting the dbus name

    This breaks fatal warnings unnecessarily

M	daemon/daemon-main.c

commit 06f5d350266efeda9d26892561533e3daf9527aa
Author: Alexander Larsson <alexl@redhat.com>
Date:	2012-08-23

    Return correct error for invalid backends

M	daemon/gvfsdaemon.c

commit ff406583ad6bcc5d0273ab5cd17f129c8f02f158
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2012-08-23

    Updated Spanish translation

M	po/es.po

commit 3fb6e428593ad90904aa07531dd99d9d0cd5e5b2
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:	2012-08-23

    afc: use the correct choice index for "Cancel"

    Or pressing the button won't dismiss the dialog.

    https://bugzilla.gnome.org/show_bug.cgi?id=682496

M	daemon/gvfsbackendafc.c

commit 666764f4356cdeee89e8bfa80e1fd7fb6aacf861
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:	2012-08-22

    afc: use curly double quotes for dialog question

    https://bugzilla.gnome.org/show_bug.cgi?id=682496

M	daemon/gvfsbackendafc.c

commit 99d06e499f999459f1fc973c870415a004722d54
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:	2012-08-22

    afc: null-terminate choices string array

    Fixes extra buttons appearing in the dialog.

    The fact that we pass the array length doesn't guarantee that the
    function we are calling will actually work fine with a non
    null-terminated array; in fact it ultimately gets passed to the
    autogenerated GDBus code, which expects it to be null-terminated,
    causing memory access out of the array bounds, and into the
    content-types string array.

    https://bugzilla.gnome.org/show_bug.cgi?id=682496

M	daemon/gvfsbackendafc.c

commit 3babe9b7cb664185ef0a54ce55a9be07de20c661
Author: Felix Möller <mail@felixmoeller.de>
Date:	2012-08-01

    Improve translations a bit and add hint for etag

    Closes https://bugzilla.gnome.org/show_bug.cgi?id=595087

M	daemon/gvfsbackendcomputer.c
M	programs/gvfs-save.c

commit 6b169c89550793c1edd06ad9e245ab3ddce76669
Author: Felix Möller <mail@felixmoeller.de>
Date:	2012-08-01

    Adding a translator comment for misleading attribute name

    Fixes https://bugzilla.gnome.org/show_bug.cgi?id=595070

M	programs/gvfs-info.c

commit 1223c3ab4a35aa3ce4f5eca49355f470d69c3d7a
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:	2012-08-23

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

M	po/zh_HK.po
M	po/zh_TW.po

commit 91fcd2e148fa66ea25e6eefd0eeda1f08047da8e
Author: William Jon McCann <jmccann@redhat.com>
Date:	2012-08-22

    Unpair an idevice if it was already paired and refuses to connect

    https://bugzilla.gnome.org/show_bug.cgi?id=676424

M	daemon/gvfsbackendafc.c

commit 3fbe3f2df5d27e1a35a9312998a0a9ff5f34e7a4
Author: William Jon McCann <jmccann@redhat.com>
Date:	2012-07-16

    Improve idevice error handling

    https://bugzilla.gnome.org/show_bug.cgi?id=676424

M	daemon/gvfsbackendafc.c

commit 607e194e0a6311612995a327077e9e19a4ff45f7
Author: William Jon McCann <jmccann@redhat.com>
Date:	2012-08-21

    Don't set a file size for the network:// shortcuts

    https://bugzilla.gnome.org/show_bug.cgi?id=682376

M	daemon/gvfsbackendnetwork.c

commit fb12a0d85372aa8e6fb92acffb6256244f0843e1
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2012-08-22

    Updated Norwegian bokmål translation

M	po/nb.po

commit 7d4bd61385cd56db5507ee31b14724244b637da4
Author: Colin Walters <walters@verbum.org>
Date:	2012-08-21

    daemon: Drop no-longer-necessary libdbus thread init bits

    Build regression introduced by
    288e9153f1f6efdb1243ad4d8589519326f3ec94

M	daemon/daemon-main.c

commit 603dc403bdced657dc5bd1bacb9da807cf692dcb
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	2012-08-21

    Updated POTFILES.in

M	po/POTFILES.in

commit 68ba0866c5212afa47f5ffad9c8dfcd3060bea7a
Author: Alexander Larsson <alexl@redhat.com>
Date:	2012-08-21

    Make the dnssd code non-shared

    This code is tiny, and only used by two backends.
    Having this code in a separate .so is likely a negative
    gain in both size and speed.

M	common/Makefile.am

commit 6cbe00dbfa5d4035918d5a2b28228dd5db915652
Author: Alexander Larsson <alexl@redhat.com>
Date:	2012-08-21

    Remove unused code from client libs

    The gvfsmountinfo.c (and its libbluray dependency) is unused by
    the client code, so we remove it from the common shared lib.

    We use a non-shared lib for this, as in practice only one of the
    monitors that use this code will be build/installed/used.

M	common/Makefile.am
M	monitor/gdu/Makefile.am
M	monitor/hal/Makefile.am
M	monitor/udisks2/Makefile.am

commit 9657df70f35d52e7fad5f2ddfc63efe910bb51ca
Author: Alexander Larsson <alexl@redhat.com>
Date:	2012-08-21

    Remove unused gsysutils files

M	client/gvfsdaemondbus.c
M	common/Makefile.am
D	common/gsysutils.c
D	common/gsysutils.h

commit 288e9153f1f6efdb1243ad4d8589519326f3ec94
Author: Alexander Larsson <alexl@redhat.com>
Date:	2012-08-21

    Remove final parts of libdbus

    Don't link to libdbus and remove libdbus utility functions.

M	client/Makefile.am
M	common/Makefile.am
D	common/gvfsdbusutils.c
D	common/gvfsdbusutils.h
M	daemon/Makefile.am
D	daemon/dbus-gmain.c
D	daemon/dbus-gmain.h

commit 6294de0ae00594c27527fbe22fd877254775fc9c
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:	2012-08-20

    mount-op: adapt to guint64->gint64 API change

    https://bugzilla.gnome.org/show_bug.cgi?id=682284

M	common/gmountoperationdbus.c
M	common/gmountsource.c
M	common/gmountsource.h
M	common/org.gtk.vfs.xml
M	monitor/proxy/dbus-interfaces.xml
M	monitor/proxy/gproxymountoperation.c
M	monitor/proxy/gproxymountoperation.h
M	monitor/proxy/gproxyvolumemonitor.c
M	monitor/proxy/gvfsproxyvolumemonitordaemon.c

commit 9961654b7f24c0d6349946c9c79b62a770aafee2
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2012-08-20

    afp: fix g_vfs_afp_connection_get_max_request() not returning
    any value

    https://bugzilla.gnome.org/show_bug.cgi?id=682283

M	daemon/gvfsafpconnection.c

commit ef1578c9fef421a22c030d728fb5ef77bb7b86f6
Author: Dominique Leuenberger <dimstar@opensuse.org>
Date:	2012-08-08

    gphoto: support 2.5, but do not require it.

    Using GPHOTO2 for a 2nd PKG_CHECK_MODULE does not give the expected
    result, as the flag 'FOUND' is already set and the higher version
    requirement will not be honored.

    https://bugzilla.gnome.org/show_bug.cgi?id=681448

M	configure.ac

commit f911ba758eb778c6c5d272fbdf7196c6fd101985
Author: Alexander Larsson <alexl@redhat.com>
Date:	2012-08-20

    Fix build without libsecret

    Move compare_specificity into HAVE_KEYRING ifdef

M	daemon/gvfskeyring.c

commit e5699d8c93ce8a7b9d2390f13d6ad75d3832a23d
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2012-08-20

    Updated Spanish translation

M	po/es.po

commit beae553e9719f47add0da859176ff34d196d237c
Author: Ihar Hrachyshka <ihar.hrachyshka@gmail.com>
Date:	2012-08-20

    Updated Belarusian translation.

M	po/be.po

commit af01fe8b5dda1a38d0a8da2b4e311ef173df57f4
Author: Alexander Larsson <alexl@redhat.com>
Date:	2012-08-20

    Post release version bump

M	configure.ac

commit 64831768c08029bfa9bf4be6600082e2c3b1110a
Author: Alexander Larsson <alexl@redhat.com>
Date:	2012-08-20

    Update NEWS for release

M	NEWS

commit 86830605aeb46e63385e9000d9a78e1aa9c035e3
Author: Alexander Larsson <alexl@redhat.com>
Date:	2012-08-20

    Port to libsecret instead of libgnome-keyring

    Based on an initial port by Stef Walter

    https://bugzilla.gnome.org/show_bug.cgi?id=679854

M	configure.ac
M	daemon/gvfskeyring.c
M	monitor/udisks2/gvfsudisks2volume.c

commit e580cd115f61e98055c3619c24fc2d5b3eb64c68
Author: Мирослав Николић <miroslavnikolic@rocketmail.com>
Date:	2012-08-17

    Updated Serbian translation

M	po/sr.po
M	po/sr@latin.po

commit fe9e82d6fc5a5651411f7f1e9abab10dad57fd53
Author: Dominique Leuenberger <dimstar@opensuse.org>
Date:	2012-08-07

    cdda: Support libcdio 0.84 with changed API

    following CDIO changeset
    http://git.savannah.gnu.org/gitweb/?p=libcdio.git;a=commitdiff;h=abe5b8429573c9ac796c274c7abe7f76ef52dc76

    https://bugzilla.gnome.org/show_bug.cgi?id=678257

M	daemon/gvfsbackendcdda.c

commit 957ad9ed2778591a8edc8d4ac6eebd8f0a0f871b
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2012-08-14

    afp: fixup retrieval of user id and uuid.

    Seems like the afp server in OS X will give invalid replies to the
    FPGetUserInfo command when asking for the group id. Therefore we
    know try to
    retrieve the group id in a separate request so that we atleast are
    able to get
    the user id and uuid.

M	daemon/gvfsafpserver.c

commit 4d88358d69928cc5c9b1eaa0e082e80cfeb44237
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:	2012-08-14

    Updated Galician translations

M	po/gl.po

commit e113b85a90f3a0d12b51ee0f96dbefa9eb6b954e
Author: Sandeep Sheshrao Shedmake <sshedmak@redhat.com>
Date:	2012-08-14

    Updated Marathi Translations

M	po/mr.po

commit 54b485e02b18d33bdf7d1926c188244baa0828c1
Author: A S Alam <aalam@users.sf.net>
Date:	2012-08-13

    Update Punjabi Translation

M	po/pa.po

commit e9c2d8c3baad639bea0f62a8471a94a78969a0fa
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:	2012-08-12

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

M	po/zh_HK.po
M	po/zh_TW.po

commit 46b25cb2d2261dd5986de70114aea552904c60d6
Author: Dirgita <dirgitadevina@yahoo.co.id>
Date:	2012-08-11

    Updated Indonesian translation

M	po/id.po

commit 245623edc95a88fc8e31ca506746ca2c634023d2
Author: Sweta Kothari <swkothar@redhat.com>
Date:	2012-08-10

    Updated gujarati file

M	po/gu.po

commit 4462b1ad0ea782abb1f8a10e56a8f8f9d6441668
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2012-08-10

    Updated Spanish translation

M	po/es.po

commit eaec93538329f2895aec2b903b98f1accacefaee
Author: Nilamdyuti Goswami <nilamdyuti@gmail.com>
Date:	2012-08-10

    Assamese translation updated

M	po/as.po

commit dcb68914ca9464dc41af1e0f0262cd9582b3d4ec
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2012-08-09

    afp: use a separate request id counter for tickle requests

M	daemon/gvfsafpconnection.c

commit 8278677d5b8099b82e496830c71f5e00c166811a
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2012-08-09

    afp: Properly report range lock errors when writing to forks.

M	daemon/gvfsafpvolume.c

commit 1f35da46568ba5000bbb5426dae415cfa12224f7
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2012-08-09

    afp: Fix crasher in GVfsAfpConnection when sending tickle requests.

M	daemon/gvfsafpconnection.c

commit c32a0e300b4d1f66ba05a5c5ec83fc4027ace97a
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2012-08-09

    afp: Fix issues with closing a GVfsAfpConnection.

    We ended up running close_connection() multiple times due to
    g_main_loop_quit() dispatching
    other sources.

M	daemon/gvfsafpconnection.c

commit ab7d47bb3c4ff0ee9fccff813b05171dfa06c0c4
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2012-08-09

    afp: Fix invalid free in GVfsAfpConnection

M	daemon/gvfsafpconnection.c

commit 69592187e89e5757214fd2be5eb558e2dfc5d6da
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2012-08-09

    afp: Always close fork when doing close_write()

    Don't error out if we're unable to get the etag and just continue
    instead.

M	daemon/gvfsbackendafp.c

commit 01fd300d7a015031827ba947c6cf38416ed8dd1a
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2012-08-09

    afp: Don't create write requests bigger than the maximum request size.

M	daemon/gvfsafpconnection.c
M	daemon/gvfsafpconnection.h
M	daemon/gvfsafpserver.c
M	daemon/gvfsafpserver.h
M	daemon/gvfsafpvolume.c

commit f3763b24a33bbfb557ec32e1ef4e5e326b03d397
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2012-08-09

    afp: Error out when receiving invalid replies in GVfsAfpServer.

M	daemon/gvfsafpserver.c
M	daemon/gvfsafpserver.h
M	daemon/gvfsafputils.h
M	daemon/gvfsafpvolume.c

commit 342b2f846cb0171d2d96d7f22c36ea60959b5c53
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2012-08-08

    afp: use g_thread_new() instead of deprecated g_thread_create()

M	daemon/gvfsafpconnection.c

commit 319c19830c49f8b4c10f40f763db95fe402e38cb
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2012-04-22

    afp: move map_id function to GVfsAfpServer

    also rename the AfpMapIDFunction enum to GVfsAfpMapIDFunction and
    move it into
    gvfsafpserver.h.

M	daemon/gvfsafpconnection.h
M	daemon/gvfsafpserver.c
M	daemon/gvfsafpserver.h
M	daemon/gvfsafpvolume.c
M	daemon/gvfsafpvolume.h
M	daemon/gvfsbackendafp.c

commit 98752a60b30575bc22375626f2c226cfdca04adf
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2012-04-22

    afp: move definitions of GVfsAfp[Volume|Server] into gvfsafptypes.h

M	daemon/Makefile.am
M	daemon/gvfsafpserver.c
M	daemon/gvfsafpserver.h
A	daemon/gvfsafptypes.h
M	daemon/gvfsafpvolume.h
M	daemon/gvfsbackendafp.c

commit b355a34ca375c686f83279dfacd068607b35452a
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2012-03-12

    afp: make fields private in GVfsAfpServer

M	daemon/gvfsafpconnection.h
M	daemon/gvfsafpserver.c
M	daemon/gvfsafpserver.h
M	daemon/gvfsafpvolume.c
M	daemon/gvfsafpvolume.h
M	daemon/gvfsbackendafp.c
M	daemon/gvfsbackendafpbrowse.c

commit ef8d81602b01cecf0c9cab8b54c0f9e65486dc57
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2012-03-12

    afp: logout from server on unmount

M	daemon/gvfsafpconnection.h
M	daemon/gvfsafpserver.c
M	daemon/gvfsafpserver.h
M	daemon/gvfsafpvolume.c
M	daemon/gvfsbackendafp.c
M	daemon/gvfsbackendafpbrowse.c

commit c1b3b8a3e3d979a4857587b57026d91f56ff1627
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2012-01-29

    Use a worker thread in GVfsAfpConnection

M	daemon/gvfsafpconnection.c
M	daemon/gvfsafpconnection.h
M	daemon/gvfsafpserver.c
M	daemon/gvfsafpvolume.c

commit daa712e7a8848c923ce698e4296e21ab5fde6c68
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2012-01-29

    afp: append _sync to g_vfs_afp_connection_[open|close]

M	daemon/gvfsafpconnection.c
M	daemon/gvfsafpconnection.h
M	daemon/gvfsafpserver.c

commit 198c6c28b2adfe371a92aa5a9c14561173a98905
Author: Мирослав Николић <miroslavnikolic@rocketmail.com>
Date:	2012-08-09

    Updated Serbian translation

M	po/sr.po
M	po/sr@latin.po

commit 1e01fa703f0f0fc10d2502d868c3bce18664e2da
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:	2012-08-08

    Bump version

M	configure.ac

commit 7d57b99bea4e9e0f01975f6241413cf72757135c
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:	2012-08-08

    1.13.6

M	NEWS

commit 8e57fc5ddfaf7c8001fa830fa99e5b664c9c0871
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:	2012-08-08

    build: fix distcheck

M	Makefile.am

commit 259a09183f7c96b5fb0f6453bb4b0bcf92e3eaa2
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:	2012-08-08

    gphoto: build with libgphoto 2.5 API

    Patch taken from the Fedora package
    Author: Jindrich Novy <jnovy@redhat.com>

    http://pkgs.fedoraproject.org/cgit/gvfs.git/commit/?id=cd0c6218df85bf3de101402c1aa9d79aae7c3019

M	configure.ac
M	daemon/gvfsbackendgphoto2.c

commit e8d687d2d571e4d18596110a1f5d2f41b80d465f
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2012-08-07

    Bump version

M	configure.ac

commit 0d461da6bac6ead345d1a82315055d92aef7c5d0
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2012-08-07

    1.13.5

M	NEWS

commit bc8a4b9c50d21293e871a559f359063cbd0af6c0
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2012-08-07

    Updated Spanish translation

M	po/es.po

commit d286f898cd689e85f0e50cd3503c4245bfc38afb
Author: Bastien Nocera <hadess@hadess.net>
Date:	2012-08-07

    cdda: Remove old TODO item

M	daemon/gvfsbackendcdda.c

commit 5624012821836136ad38abea00469865f6e7d616
Author: Pekka Vuorela <pvuorela@iki.fi>
Date:	2012-07-09

    cdda: Fix abort() with CD-Text outside ASCII

    CD-Text doesn't specify encoding, but in practice some discs have
    strings with extended characters. Using those directly will make D-Bus
    choke with invalid data. Fixed by assuming latin-1.

    This also fixes a memory leak in the cdtext_get() usage.

    https://bugzilla.gnome.org/show_bug.cgi?id=671259

M	daemon/gvfsbackendcdda.c

commit 68d4daadca1b6a3f50d98e356668534f88bae1b3
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:	2012-08-07

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

M	po/zh_HK.po
M	po/zh_TW.po

commit 9813f564508e39a2f26f13943eb8243d96093fce
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	2012-08-07

    Updated Slovenian translation

M	po/sl.po

commit bfb24671e6646cfbd6643233e05ba19aad6887f6
Author: Tom Tryfonidis <tomtryf@gmail.com>
Date:	2012-08-06

    Updated Greek translation

M	po/el.po

commit c055531025fb8bce05211b0b774bbada1b30a1f9
Author: Sweta Kothari <swkothar@redhat.com>
Date:	2012-08-06

    Updated gujarati file

M	po/gu.po

commit 02cf6dae51b1dc9218f4396ddd06f9a0127059f5
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2012-08-03

    man: Improve consistency of man pages

    To make the appearance of the man pages more consistent, add
    a refmiscinfo element for the title of the section. This text
    appears in the middle header of the generated man pages.

M	man/gvfs-cat.xml
M	man/gvfs-copy.xml
M	man/gvfs-info.xml
M	man/gvfs-ls.xml
M	man/gvfs-mime.xml
M	man/gvfs-mkdir.xml
M	man/gvfs-monitor-dir.xml
M	man/gvfs-monitor-file.xml
M	man/gvfs-mount.xml
M	man/gvfs-move.xml
M	man/gvfs-open.xml
M	man/gvfs-rename.xml
M	man/gvfs-rm.xml
M	man/gvfs-save.xml
M	man/gvfs-set-attribute.xml
M	man/gvfs-trash.xml
M	man/gvfs-tree.xml
M	man/gvfsd-fuse.xml
M	man/gvfsd-metadata.xml
M	man/gvfsd.xml

commit e66a2c1006e0a4de88eb154223015c73cfa5947c
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2012-07-31

    Add more man pages

    This patch adds man pages for gvfsd, gvfsd-fuse, gvfsd-metadata,
    as well as a gvfs overview page in section 7.

M	man/Makefile.am
A	man/gvfs.xml
A	man/gvfsd-fuse.xml
A	man/gvfsd-metadata.xml
A	man/gvfsd.xml

commit dfba6a7d976a007a1c65120ab8332079269466e5
Author: Nilamdyuti Goswami <nilamdyuti@gmail.com>
Date:	2012-08-03

    Assamese translation updated

M	po/as.po

commit 70e3a3e5bdf61cb7379c6e41cabbee26a4f12c57
Author: Andre Klapper <a9016009@gmx.de>
Date:	2012-08-01

    Fix translator comments so they are actually picked up by gettext

M	daemon/gvfsbackendafc.c

commit a661e25445190fd694160ee57277403b93287824
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-07-31

    Post release version bump

M	configure.ac

commit c8db6e8a27701d9bc1d45f5579bdadbc33c971f9
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-07-31

    Update NEWS for 1.13.4 release

M	NEWS

commit fe7e66b5efbc0d2589e326c7ca10fd9451e4e894
Merge: 071e9b4 7a71fe8
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-07-31

    Merge branch 'gdbus-core'

commit 7a71fe8461ab3347b10a814b716323a50baed9e9
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-07-31

    gdbus: Use default timeout for keyring calls

M	daemon/gvfsbackendsftp.c

commit 071e9b40c9e0c464eb96e423e00177df1e2b3a6c
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:	2012-07-31

    Updated Galician translations

M	po/gl.po

commit 023f677e887120b5b4ae159108f94dd1d39fd821
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-07-31

    gdbus: Remove debug prints

M	client/gdaemonfile.c
M	client/gdaemonfileenumerator.c
M	client/gdaemonfilemonitor.c
M	client/gdaemonmount.c
M	client/gvfsdaemondbus.c
M	client/gvfsfusedaemon.c
M	client/gvfsiconloadable.c
M	common/gmountoperationdbus.c
M	common/gmountsource.c
M	daemon/daemon-main.c
M	daemon/gvfsbackend.c
M	daemon/gvfsdaemon.c
M	daemon/gvfsjobcopy.c
M	daemon/gvfsjobcreatemonitor.c
M	daemon/gvfsjobdbus.c
M	daemon/gvfsjobdelete.c
M	daemon/gvfsjobenumerate.c
M	daemon/gvfsjobmakedirectory.c
M	daemon/gvfsjobmakesymlink.c
M	daemon/gvfsjobmountmountable.c
M	daemon/gvfsjobmove.c
M	daemon/gvfsjobopenforread.c
M	daemon/gvfsjobopenforwrite.c
M	daemon/gvfsjobopeniconforread.c
M	daemon/gvfsjobpollmountable.c
M	daemon/gvfsjobpull.c
M	daemon/gvfsjobpush.c
M	daemon/gvfsjobqueryattributes.c
M	daemon/gvfsjobqueryfsinfo.c
M	daemon/gvfsjobqueryinfo.c
M	daemon/gvfsjobsetattribute.c
M	daemon/gvfsjobsetdisplayname.c
M	daemon/gvfsjobstartmountable.c
M	daemon/gvfsjobstopmountable.c
M	daemon/gvfsjobtrash.c
M	daemon/gvfsjobunmount.c
M	daemon/gvfsjobunmountmountable.c
M	daemon/gvfsmonitor.c
M	daemon/main.c
M	daemon/mount.c

commit ffd0031b6cce90332d744a7aad370e5cd694cbba
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-07-31

    gdbus: Use g_variant_is_of_type() instead of strcmp()

M	daemon/gvfsbackendsftp.c

commit 881ffc4130e199c95170df311a7b61d5da8a55dc
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-07-27

    gdbus: Gracefully handle monitoring unsubscribe on unmounted backend

    The mount may be already gone or monitoring cleanup is done too late;
    in that case handle this case gracefully since the monitoring doesn't
    exist anymore.

M	client/gdaemonfilemonitor.c

commit c0dd33f20d70c1c1dcb729bfef9a9541d5fc4cdf
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-07-27

    gdbus: Silence the G_IO_ERROR_NOT_MOUNTED error

    This is a valid error used to indicate that we should (auto)mount
    first
    and should not be presented to the user.

M	client/gdaemonvfs.c

commit 59cda52b8d5e067c4fbdab1943fc90859ed0b97f
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-07-27

    gdbus: Don't use NULL values on error with fd passing

    Found out that if the remote call fails, some variables are left
    uninitialized and causes assertion failures while we don't need them.

M	client/gdaemonfile.c
M	client/gvfsiconloadable.c

commit 6184b93b66d37ac101582eafb4dd39646811f54d
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-07-27

    gdbus: Fix leaks of GSimpleAsyncResult

M	client/gdaemonfile.c

commit 564b6556c93cb1bf36ccd02138c73df263c342cf
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-07-27

    gdbus: More errors to strip

M	common/gmountsource.c
M	daemon/gvfsbackend.c

commit 4a88ed63cfce1130698ee5241c95e532c7a7ad74
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-07-26

    gdbus: Strip unknown GError quark strings

    This hopefully covers all public methods.

    Seems like this fixes several memleaks as well.

M	client/gdaemonfile.c
M	client/gdaemonmount.c
M	client/gvfsdaemondbus.c
M	client/gvfsdaemondbus.h
M	client/gvfsiconloadable.c

commit 3986b62fba77af739399e737c4c8eb0354255bee
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-07-24

    gdbus: Rename common d-bus interface xml file

M	common/Makefile.am
R100	common/dbus-interfaces.xml	common/org.gtk.vfs.xml

commit fbec00979be67e23d4340342b9ec656455890340
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-07-24

    gdbus: Code style fixes

M	common/gvfsdaemonprotocol.c

commit 1d4481e504ea6251c2d2573efa2fb64104291aa6
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-07-24

    gdbus: Fix case of GDbusAttributeValue struct

M	common/gvfsdaemonprotocol.c
M	common/gvfsdaemonprotocol.h
M	daemon/gvfsjobsetattribute.c
M	daemon/gvfsjobsetattribute.h

commit fc26e52e4f7ddbd1a24ec9d02d76bd4c70d0b1f7
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-07-24

    gdbus: Use casting macros where possible

M	client/gdaemonfileenumerator.c
M	client/gdaemonfilemonitor.c
M	client/gvfsdaemondbus.c
M	common/gmountoperationdbus.c
M	common/gmounttracker.c
M	daemon/gvfsdaemon.c
M	daemon/mount.c

commit 6b5b2b4c1f28bdd61e8a2dc24b66191436378910
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-07-23

    gdbus: Use g_clear_error() where appropriate

M	client/gdaemonfile.c
M	client/gdaemonvfs.c
M	client/gvfsdaemondbus.c
M	daemon/gvfsdaemon.c
M	daemon/gvfsjobmount.c

commit 23535a0e56da1640f0d1d4ecd8f65f66880134cf
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-07-23

    gdbus: Use g_clear_object() where appropriate

M	client/gdaemonfile.c
M	client/gdaemonfileenumerator.c
M	client/gdaemonfilemonitor.c
M	client/gdaemonmount.c
M	client/gdaemonvfs.c
M	client/gvfsdaemondbus.c
M	client/gvfsfusedaemon.c
M	client/gvfsiconloadable.c
M	common/gmounttracker.c
M	daemon/daemon-main.c
M	daemon/gvfsbackend.c
M	daemon/gvfsjobdbus.c
M	daemon/gvfsjobmount.c
M	daemon/main.c
M	daemon/mount.c

commit 02f30b8058e61bd3dc6ab70fab1f3b13bd748043
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-07-23

    gdbus: Properly suffix functions doing sync proxy creation

    ...so that they are recognizable on a first sight.

M	common/gmountsource.c
M	common/gmounttracker.c

commit d5b392afc30cef82ec325a7e3af86a3ee181607e
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-07-23

    gdbus: Reword GVariant arguments

    and kill the iters.

M	common/gmountsource.c
M	common/gmountsource.h
M	common/gmountspec.c
M	common/gmountspec.h
M	common/gmounttracker.c
M	common/gmounttracker.h
M	common/gvfsdaemonprotocol.c
M	common/gvfsdaemonprotocol.h

commit 3b5991d2e3dd9cd0f9ed5d2fedef31b89207b228
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-07-23

    gdbus: gmountoperationdbus.c: Move referenced objects around

    Reorganize saved references for used objects, getting rid of
    some FIXMEs.

M	common/gmountoperationdbus.c

commit 58df9f28bd3d516231eeb6581e54b84d274be3f6
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-07-20

    gdbus: Construct proxies without connecting signals and properties

    Use G_DBUS_PROXY_FLAGS_DO_NOT_CONNECT_SIGNALS and
    G_DBUS_PROXY_FLAGS_DO_NOT_LOAD_PROPERTIES
    flags where applicable.

M	client/gdaemonfile.c
M	client/gdaemonvfs.c
M	common/gmountsource.c
M	common/gmounttracker.c
M	daemon/daemon-main.c
M	daemon/gvfsbackend.c
M	daemon/mount.c

commit 584c90ed0861440fd052a6090d132dd0859efd0d
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-07-20

    gdbus: Use G_VARIANT_TYPE_HANDLE for fd_id arguments

M	client/gdaemonfile.c
M	client/gvfsiconloadable.c
M	common/dbus-interfaces.xml
M	daemon/gvfsjobopenforread.c
M	daemon/gvfsjobopenforwrite.c

commit 6f16f975afa7da91291bd6a0ab30d16823951dde
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-07-20

    gdbus: Move annotations to the interface XML file

M	common/Makefile.am
M	common/dbus-interfaces.xml

commit 8702019ec946d3ade84efa4f7e42e39f73f7bf6a
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-07-20

    gdbus: Fix srcdir != builddir and make the build more quiet

M	client/Makefile.am
M	common/Makefile.am
M	daemon/Makefile.am
M	metadata/Makefile.am

commit a40ac13ba62e33030f2097aada9fa022acd0744d
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-07-13

    gdbus: Push new GVfsJobProgress class

    Forgotten from the 722ebaf0ab949ca5b844a387dc684b4e3185db75 commit

A	daemon/gvfsjobprogress.c
A	daemon/gvfsjobprogress.h

commit 71fcc2ee835cab71a481159de8b97ff412da6e49
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-07-03

    gdbus: Remove unused extra_fd stuff

M	client/gvfsdaemondbus.c
M	daemon/gvfsdaemon.c

commit 93c79e3111fb8f48203b56da419a4aefa48d2d72
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-07-03

    gdbus: Use private GMainContext for sync enumerator

    It's little messy due to shared code across sync calls with private
    main context and async calls that don't have it's mainloop and
    can't use
    private context.

M	client/gdaemonfile.c
M	client/gdaemonfileenumerator.c
M	client/gdaemonfileenumerator.h

commit 918cebfd9b96b22179b4685d94e72b6c97090eb3
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-06-29

    gdbus: Make copy progress work

    ...by turning sync copy calls async and running mainloop for progress
    interface skeleton be able to process incoming calls.

    Also, new class GVfsJobProgress has been introduced mostly for
    code sharing.

M	client/gdaemonfile.c
M	daemon/Makefile.am
M	daemon/gvfsbackendsftp.c
M	daemon/gvfsjobcopy.c
M	daemon/gvfsjobcopy.h
M	daemon/gvfsjobmove.c
M	daemon/gvfsjobmove.h
M	daemon/gvfsjobpull.c
M	daemon/gvfsjobpull.h
M	daemon/gvfsjobpush.c
M	daemon/gvfsjobpush.h

commit 17a008f395c438c0dad394523cc3d62261ceca4a
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-06-22

    gdbus: Fix mount tracker signals emitting

    This allows clients to react on GVfs mounts appearing and
    disappearing.

M	daemon/mount.c

commit 87a01d9658ad302d73bd22541183fa5e06cfd6f7
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-06-22

    gdbus: Fix mountable mounting with URI

M	daemon/gvfsjobmountmountable.c

commit 92d43f90747d359cd404e6043f754dde0bd69f5a
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-06-18

    gdbus: More signal handler disconnection

    Not really a problem in this case, but let's be on a safe side.

M	daemon/gvfsdaemon.c

commit 24c5f03c4469951c2b631f5daadd8292c7564850
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-06-15

    gdbus: Properly disconnect signal handlers

    ...not doing that leads to accessing freed memory

M	daemon/gvfsmonitor.c

commit 89a881c5bf8fcbaf027e276a302aefc11f8fca34
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-06-15

    gdbus: Make cancellation work

    This mimics the old behaviour and works for sync and async.

    Requires new glib for g_dbus_connection_get_last_serial().

M	client/gdaemonfile.c
M	client/gdaemonmount.c
M	client/gvfsdaemondbus.c
M	client/gvfsdaemondbus.h
M	client/gvfsiconloadable.c
M	daemon/gvfsdaemon.c
M	daemon/gvfsjobdbus.c
M	daemon/gvfsjobdbus.h

commit 36635d44502b5c4e8f7e1341ad9ec912bb822e0d
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-06-08

    gdbus: Fixup d-bus interface naming style

    And conform to usual GNOME naming conventions.

M	common/dbus-interfaces.xml

commit ec8f2fca20d36d51d8282281e9f701f855602f14
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-06-08

    gdbus: Treat empty non-NULL strings for the "ay" type as NULL

    A fallout of port away from convenient G_DBUS_TYPE_CSTRING type and
    _g_dbus_message_append_args() + _g_dbus_message_iter_get_args()
    functions
    that masked NULL strings as non-NULL empty strings ("") for
    transferring
    over d-bus and on the other side reconstructed the original value.

    Portions of other code treat non-NULL strings differently even if they
    were empty. This fixes e.g. opening http URLs via gvfs-open.

M	client/gdaemonfile.c
M	common/gmountspec.c
M	common/gmounttracker.c
M	daemon/gvfsbackend.c
M	daemon/mount.c

commit 54071afd025beb577e67d5ac1f662a5715a76903
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-06-04

    gdbus: Remove last traces of libdbus in metadata sources

M	metadata/Makefile.am
M	metadata/meta-daemon.c
M	metadata/meta-set.c

commit cef8d84ded806046019cd395706e460b43586044
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-04-19

    gdbus: Remove no longer valid comment

M	daemon/main.c

commit 050f18515a6719574a01b5ca667ad527f1333872
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-04-19

    gdbus: Enable daemon finalization

    The crasher may have been possibly fixed in bug 669211.

    It's hard to hit the code path as long as gvfsdaemon calls hard
    exit().

M	daemon/main.c

commit a2c2c52928cd85fabcb7bf41476400ec4bb43611
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-04-18

    gdbus: Silence unmount failures

    ...and fix wrong typecast due to using an object we haven't
    reff'ed. The
    failure we're making silent were coming from a failed d-bus call
    to mount
    tracker.

    Also turned out the org.gtk.vfs.MountTracker.unregisterMount()
    has never
    been implemented, daemon mounttracker is watching for clients
    disconnects
    anyway.

M	daemon/gvfsjobunmount.c
M	daemon/mount.c

commit 261ddae0c195a072c7d1928a9450cc81116fc340
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-04-18

    gdbus: Tweak mount finalization

M	daemon/main.c
M	daemon/mount.c
M	daemon/mount.h

commit c85c4a0459d70a7331a3beb2336c789a55dad595
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-04-18

    gdbus: Handle not yet spawned mountables

    This makes http backend working again.

M	daemon/mount.c

commit 838a1d9fb187fc759cb6a76303b2a754d427df5f
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-07-31

    gdbus: Remove unused daemon protocol defines

M	common/gvfsdaemonprotocol.h

commit 2ee87da9e37f973f1ebdade8c9646b60ba6cb2ae
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-04-17

    gdbus: Remove unused include

    So that nothing depends on gvfsdbusutils.h, which is full of old
    libdbus code.

M	client/gvfsdaemondbus.c

commit b0988eb4d6ec3f9ed202a6fd2214508ecd5b0b29
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-04-17

    gdbus: Port the fuse daemon

M	client/gvfsfusedaemon.c

commit aec6dccfabe3f93afad8698f18824ed323a96095
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-04-17

    gdbus: Port the sftp backend

    Traces of gnome-keyring GetEnvironment() call.

M	daemon/gvfsbackendsftp.c

commit 844e47f33da18ee8246c09adc70194cdb183d277
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-04-16

    gdbus: Port the OpenIconForRead operation

M	client/gvfsiconloadable.c
M	common/Makefile.am
M	common/dbus-interfaces.xml
M	daemon/gvfsbackend.c
M	daemon/gvfsjobopenforread.c
M	daemon/gvfsjobopenforread.h
M	daemon/gvfsjobopeniconforread.c
M	daemon/gvfsjobopeniconforread.h

commit 55f336c94f9a365e8dda4acae876073eb3ef3a2f
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-04-16

    gdbus: Bring libdbus threads initialization back

    I hate reverting things but this seems to be required for proper
    libdbus threads initialization, further used by gnome-keyring.

    This has actually been fixed in gnome-keyring recently (bug 659162)
    but gvfs can still be used with gnome-keyring-2.32.

M	daemon/daemon-main.c

commit 6c37ae628a794686618f01c718b359e94166aed5
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-04-13

    gdbus: Handle client connection dying during monitoring

    Handle a connection dying and unregister its subscription.

M	daemon/gvfsmonitor.c

commit 67b9adfe04ed5963fc9e37b01ac0ff36fba206f4
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-04-13

    gdbus: Monitoring port

M	client/gdaemonfilemonitor.c
M	common/dbus-interfaces.xml
M	daemon/gvfsmonitor.c

commit 594c36b2bfbbff1d70a0faf66de2671c906071f0
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-04-13

    gdbus: Improve registered paths activation on daemon side

    This changes the way registered paths (i.e. interface skeleton
    exports)
    are activated on daemon side. We're keeping a list of connections
    on which every
    registered path is exported so that if connection is closed or the
    path is
    unregistered we always free the right interface skeletons.

    We also keep track of active client (peer-to-peer) connections so
    that if a new
    path is registered, it's automatically exported to all active
    connections. Needed
    since client connections are usually shared.

    It also has a nice side-effect of reacting to dirty disconnects
    (e.g. the client
    dies).

    This whole registration machinery needs unique object paths (for
    the hash table)
    but that's not a problem in the current state.

M	daemon/gvfsbackend.c
M	daemon/gvfsdaemon.c
M	daemon/gvfsdaemon.h

commit 7ebe892e2c390963c322a09305f6aa5951913699
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-04-05

    gdbus: Handle NULL mount_info in create_proxy_for_file2()

M	client/gdaemonfile.c

commit f55ffc1135840380c761f2cbb776e0253ed6305d
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-04-05

    gdbus: Fix mismerged struct

M	daemon/mount.c

commit 622a5c0d167556188c38fcde40a42a0dfad9c625
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-07-31

    gdbus: Core daemon and client port

    Port of most of the gvfs core, few bits still missing. Lot of debug
    prints around,
    will be removed in further commits. Same amount of TODOs and FIXMEs.

    Notes:
     * kill serials?
     * get rid of mainloops where applicable (copy/move progress callback,
     enumerator)
     * fix keyring integration
     * use gdbus builtin fd passing within gvfsdaemon.c, kill the
     extra_fd stuff

M	.gitignore
M	client/gdaemonfile.c
M	client/gdaemonfileenumerator.c
M	client/gdaemonfileenumerator.h
M	client/gdaemonmount.c
M	client/gdaemonvfs.c
M	client/gdaemonvfs.h
M	client/gvfsdaemondbus.c
M	client/gvfsdaemondbus.h
M	common/Makefile.am
A	common/dbus-interfaces.xml
M	common/gmountoperationdbus.c
M	common/gmountoperationdbus.h
M	common/gmountsource.c
M	common/gmountsource.h
M	common/gmountspec.c
M	common/gmountspec.h
M	common/gmounttracker.c
M	common/gmounttracker.h
M	common/gvfsdaemonprotocol.c
M	common/gvfsdaemonprotocol.h
M	daemon/daemon-main.c
M	daemon/gvfsbackend.c
M	daemon/gvfsbackend.h
M	daemon/gvfsdaemon.c
M	daemon/gvfsdaemon.h
M	daemon/gvfsdaemonutils.c
M	daemon/gvfsdaemonutils.h
M	daemon/gvfsjob.c
M	daemon/gvfsjobcopy.c
M	daemon/gvfsjobcopy.h
M	daemon/gvfsjobcreatemonitor.c
M	daemon/gvfsjobcreatemonitor.h
M	daemon/gvfsjobdbus.c
M	daemon/gvfsjobdbus.h
M	daemon/gvfsjobdelete.c
M	daemon/gvfsjobdelete.h
M	daemon/gvfsjobenumerate.c
M	daemon/gvfsjobenumerate.h
M	daemon/gvfsjobmakedirectory.c
M	daemon/gvfsjobmakedirectory.h
M	daemon/gvfsjobmakesymlink.c
M	daemon/gvfsjobmakesymlink.h
M	daemon/gvfsjobmount.c
M	daemon/gvfsjobmount.h
M	daemon/gvfsjobmountmountable.c
M	daemon/gvfsjobmountmountable.h
M	daemon/gvfsjobmove.c
M	daemon/gvfsjobmove.h
M	daemon/gvfsjobopenforread.c
M	daemon/gvfsjobopenforread.h
M	daemon/gvfsjobopenforwrite.c
M	daemon/gvfsjobopenforwrite.h
M	daemon/gvfsjobpollmountable.c
M	daemon/gvfsjobpollmountable.h
M	daemon/gvfsjobpull.c
M	daemon/gvfsjobpull.h
M	daemon/gvfsjobpush.c
M	daemon/gvfsjobpush.h
M	daemon/gvfsjobqueryattributes.c
M	daemon/gvfsjobqueryattributes.h
M	daemon/gvfsjobqueryfsinfo.c
M	daemon/gvfsjobqueryfsinfo.h
M	daemon/gvfsjobqueryinfo.c
M	daemon/gvfsjobqueryinfo.h
M	daemon/gvfsjobsetattribute.c
M	daemon/gvfsjobsetattribute.h
M	daemon/gvfsjobsetdisplayname.c
M	daemon/gvfsjobsetdisplayname.h
M	daemon/gvfsjobstartmountable.c
M	daemon/gvfsjobstartmountable.h
M	daemon/gvfsjobstopmountable.c
M	daemon/gvfsjobstopmountable.h
M	daemon/gvfsjobtrash.c
M	daemon/gvfsjobtrash.h
M	daemon/gvfsjobunmount.c
M	daemon/gvfsjobunmount.h
M	daemon/gvfsjobunmountmountable.c
M	daemon/gvfsjobunmountmountable.h
M	daemon/main.c
M	daemon/mount.c

commit a494b809eaf82994108bfbbe5d950fed1a0a8c7c
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-07-31

    udisks2: Remove UDISKS_CHECK_VERSION ifdefs since we require 1.97 now

M	monitor/udisks2/gvfsudisks2utils.c
M	monitor/udisks2/gvfsudisks2volumemonitor.c

commit 76bbf5cfc3d98c2e6cbcf17d21f7900c9e28935a
Author: Chris Kühl <blixtra@gmail.com>
Date:	2012-07-31

    build: Update udisks2 requirement to version 1.97

    The use of udisks_loop_get_setup_by_uid,
    udisks_client_get_loop_for_block, udisks_loop_get_autoclear,
    udisks_loop_get_setup_by_uid, & udisks_loop_call_set_autoclear in
    gvfsudisks2volume.c cause the build to fail without a udisks2 version
    >= 1.97.

    https://bugzilla.gnome.org/show_bug.cgi?id=680863

    Signed-off-by: Tomas Bzatek <tbzatek@redhat.com>

M	configure.ac

commit a7e673e5c3b190e00b8b443105ef9a0b6aa3fea7
Author: Felix Möller <mail@felixmoeller.de>
Date:	2012-07-31

    Spelling correction "filesystem" -> "file system"

    Unify the spelling. For the discussion see:
    https://bugzilla.gnome.org/show_bug.cgi?id=520902

    Signed-off-by: Tomas Bzatek <tbzatek@redhat.com>

M	daemon/daemon-main.c
M	daemon/gvfsbackendcdda.c
M	daemon/gvfsbackendsmb.c
M	daemon/gvfsbackendsmbbrowse.c
M	daemon/gvfsjobunmount.c
M	monitor/udisks2/gvfsudisks2volume.c
M	programs/gvfs-info.c

commit b1fd82b01d24859707d40f19782c5ee02123d6cb
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-07-30

    Rename gvfs-fuse-daemon to gvfsd-fuse

    ...to stay consistent with the rest of the daemons.

    https://bugzilla.gnome.org/show_bug.cgi?id=680819

M	client/Makefile.am
M	daemon/main.c

commit 1e9c89eafaac6b3a759115df9981526fe9083461
Author: Felix Möller <mail@felixmoeller.de>
Date:	2012-07-30

    Update the Address of the FSF

    Updating the address of the FSF.
    This has been done by:

    while read file; do
      sed -i 's:59 Temple Place:51 Franklin Street:' $file
      sed -i 's:Suite 330:Fifth Floor:' $file
      sed -i 's:02111-1307:02110-1301:' $file
    done

    https://bugzilla.gnome.org/show_bug.cgi?id=656598

    Signed-off-by: Tomas Bzatek <tbzatek@redhat.com>

M	COPYING
M	client/afpuri.c
M	client/gdaemonfile.c
M	client/gdaemonfile.h
M	client/gdaemonfileenumerator.c
M	client/gdaemonfileenumerator.h
M	client/gdaemonfileinputstream.c
M	client/gdaemonfileinputstream.h
M	client/gdaemonfilemonitor.c
M	client/gdaemonfilemonitor.h
M	client/gdaemonfileoutputstream.c
M	client/gdaemonfileoutputstream.h
M	client/gdaemonmount.c
M	client/gdaemonmount.h
M	client/gdaemonvfs.c
M	client/gdaemonvfs.h
M	client/gdaemonvolumemonitor.c
M	client/gdaemonvolumemonitor.h
M	client/gvfsdaemondbus.c
M	client/gvfsdaemondbus.h
M	client/gvfsfusedaemon.c
M	client/gvfsiconloadable.c
M	client/gvfsiconloadable.h
M	client/gvfsurimapper.c
M	client/gvfsurimapper.h
M	client/gvfsuriutils.c
M	client/gvfsuriutils.h
M	client/httpuri.c
M	client/smburi.c
M	common/gmountoperationdbus.c
M	common/gmountoperationdbus.h
M	common/gmountsource.c
M	common/gmountsource.h
M	common/gmountspec.c
M	common/gmountspec.h
M	common/gmounttracker.c
M	common/gmounttracker.h
M	common/gsysutils.c
M	common/gsysutils.h
M	common/gvfsdaemonprotocol.c
M	common/gvfsdbusutils.c
M	common/gvfsdbusutils.h
M	common/gvfsdnssdresolver.c
M	common/gvfsdnssdresolver.h
M	common/gvfsdnssdutils.c
M	common/gvfsdnssdutils.h
M	common/gvfsfileinfo.c
M	common/gvfsfileinfo.h
M	common/gvfsicon.c
M	common/gvfsicon.h
M	common/gvfsmountinfo.c
M	common/gvfsmountinfo.h
M	daemon/daemon-main-generic.c
M	daemon/daemon-main.c
M	daemon/daemon-main.h
M	daemon/dbus-gmain.c
M	daemon/dbus-gmain.h
M	daemon/gvfs-enums.h
M	daemon/gvfsafpconnection.c
M	daemon/gvfsafpconnection.h
M	daemon/gvfsafpserver.c
M	daemon/gvfsafpserver.h
M	daemon/gvfsafputils.c
M	daemon/gvfsafputils.h
M	daemon/gvfsafpvolume.c
M	daemon/gvfsafpvolume.h
M	daemon/gvfsbackend.c
M	daemon/gvfsbackend.h
M	daemon/gvfsbackendafp.c
M	daemon/gvfsbackendafp.h
M	daemon/gvfsbackendafpbrowse.c
M	daemon/gvfsbackendafpbrowse.h
M	daemon/gvfsbackendarchive.c
M	daemon/gvfsbackendarchive.h
M	daemon/gvfsbackendburn.c
M	daemon/gvfsbackendburn.h
M	daemon/gvfsbackendcdda.c
M	daemon/gvfsbackendcdda.h
M	daemon/gvfsbackendcomputer.c
M	daemon/gvfsbackendcomputer.h
M	daemon/gvfsbackenddav.c
M	daemon/gvfsbackenddav.h
M	daemon/gvfsbackenddnssd.c
M	daemon/gvfsbackenddnssd.h
M	daemon/gvfsbackendftp.c
M	daemon/gvfsbackendftp.h
M	daemon/gvfsbackendgphoto2.c
M	daemon/gvfsbackendgphoto2.h
M	daemon/gvfsbackendhttp.c
M	daemon/gvfsbackendhttp.h
M	daemon/gvfsbackendlocaltest.c
M	daemon/gvfsbackendlocaltest.h
M	daemon/gvfsbackendnetwork.c
M	daemon/gvfsbackendnetwork.h
M	daemon/gvfsbackendobexftp-cap-parser.c
M	daemon/gvfsbackendobexftp-cap-parser.h
M	daemon/gvfsbackendobexftp-fl-parser.c
M	daemon/gvfsbackendobexftp-fl-parser.h
M	daemon/gvfsbackendobexftp.c
M	daemon/gvfsbackendobexftp.h
M	daemon/gvfsbackendsftp.c
M	daemon/gvfsbackendsftp.h
M	daemon/gvfsbackendsmb.c
M	daemon/gvfsbackendsmb.h
M	daemon/gvfsbackendsmbbrowse.c
M	daemon/gvfsbackendsmbbrowse.h
M	daemon/gvfsbackendtest.c
M	daemon/gvfsbackendtest.h
M	daemon/gvfschannel.c
M	daemon/gvfschannel.h
M	daemon/gvfsdaemon.c
M	daemon/gvfsdaemon.h
M	daemon/gvfsdaemonutils.c
M	daemon/gvfsdaemonutils.h
M	daemon/gvfsftpconnection.c
M	daemon/gvfsftpconnection.h
M	daemon/gvfsftpdircache.c
M	daemon/gvfsftpdircache.h
M	daemon/gvfsftpfile.c
M	daemon/gvfsftpfile.h
M	daemon/gvfsftptask.c
M	daemon/gvfsftptask.h
M	daemon/gvfsjob.c
M	daemon/gvfsjob.h
M	daemon/gvfsjobcloseread.c
M	daemon/gvfsjobcloseread.h
M	daemon/gvfsjobclosewrite.c
M	daemon/gvfsjobclosewrite.h
M	daemon/gvfsjobcopy.c
M	daemon/gvfsjobcopy.h
M	daemon/gvfsjobcreatemonitor.c
M	daemon/gvfsjobcreatemonitor.h
M	daemon/gvfsjobdbus.c
M	daemon/gvfsjobdbus.h
M	daemon/gvfsjobdelete.c
M	daemon/gvfsjobdelete.h
M	daemon/gvfsjobenumerate.c
M	daemon/gvfsjobenumerate.h
M	daemon/gvfsjobmakedirectory.c
M	daemon/gvfsjobmakedirectory.h
M	daemon/gvfsjobmakesymlink.c
M	daemon/gvfsjobmakesymlink.h
M	daemon/gvfsjobmount.c
M	daemon/gvfsjobmount.h
M	daemon/gvfsjobmountmountable.c
M	daemon/gvfsjobmountmountable.h
M	daemon/gvfsjobmove.c
M	daemon/gvfsjobmove.h
M	daemon/gvfsjobopenforread.c
M	daemon/gvfsjobopenforread.h
M	daemon/gvfsjobopenforwrite.c
M	daemon/gvfsjobopenforwrite.h
M	daemon/gvfsjobopeniconforread.c
M	daemon/gvfsjobopeniconforread.h
M	daemon/gvfsjobpollmountable.c
M	daemon/gvfsjobpollmountable.h
M	daemon/gvfsjobpull.c
M	daemon/gvfsjobpull.h
M	daemon/gvfsjobpush.c
M	daemon/gvfsjobpush.h
M	daemon/gvfsjobqueryattributes.c
M	daemon/gvfsjobqueryattributes.h
M	daemon/gvfsjobqueryfsinfo.c
M	daemon/gvfsjobqueryfsinfo.h
M	daemon/gvfsjobqueryinfo.c
M	daemon/gvfsjobqueryinfo.h
M	daemon/gvfsjobqueryinforead.c
M	daemon/gvfsjobqueryinforead.h
M	daemon/gvfsjobqueryinfowrite.c
M	daemon/gvfsjobqueryinfowrite.h
M	daemon/gvfsjobread.c
M	daemon/gvfsjobread.h
M	daemon/gvfsjobseekread.c
M	daemon/gvfsjobseekread.h
M	daemon/gvfsjobseekwrite.c
M	daemon/gvfsjobseekwrite.h
M	daemon/gvfsjobsetattribute.c
M	daemon/gvfsjobsetattribute.h
M	daemon/gvfsjobsetdisplayname.c
M	daemon/gvfsjobsetdisplayname.h
M	daemon/gvfsjobsource.c
M	daemon/gvfsjobsource.h
M	daemon/gvfsjobstartmountable.c
M	daemon/gvfsjobstartmountable.h
M	daemon/gvfsjobstopmountable.c
M	daemon/gvfsjobstopmountable.h
M	daemon/gvfsjobtrash.c
M	daemon/gvfsjobtrash.h
M	daemon/gvfsjobunmount.c
M	daemon/gvfsjobunmount.h
M	daemon/gvfsjobunmountmountable.c
M	daemon/gvfsjobunmountmountable.h
M	daemon/gvfsjobwrite.c
M	daemon/gvfsjobwrite.h
M	daemon/gvfskeyring.c
M	daemon/gvfskeyring.h
M	daemon/gvfsmonitor.c
M	daemon/gvfsmonitor.h
M	daemon/gvfsreadchannel.c
M	daemon/gvfsreadchannel.h
M	daemon/gvfswritechannel.c
M	daemon/gvfswritechannel.h
M	daemon/libsmb-compat.h
M	daemon/main.c
M	daemon/mount.c
M	daemon/mount.h
M	daemon/pty_open.c
M	daemon/pty_open.h
M	daemon/sftp.h
M	daemon/soup-input-stream.c
M	daemon/soup-input-stream.h
M	daemon/soup-output-stream.c
M	daemon/soup-output-stream.h
M	metadata/dbus-interface.xml
M	metadata/meta-daemon.c
M	metadata/metabuilder.h
M	metadata/metatree.h
M	monitor/gdu/gdu-volume-monitor-daemon.c
M	monitor/gdu/ggdudrive.c
M	monitor/gdu/ggdudrive.h
M	monitor/gdu/ggdumount.c
M	monitor/gdu/ggdumount.h
M	monitor/gdu/ggduvolume.c
M	monitor/gdu/ggduvolume.h
M	monitor/gdu/ggduvolumemonitor.c
M	monitor/gdu/ggduvolumemonitor.h
M	monitor/gphoto2/ggphoto2volume.c
M	monitor/gphoto2/ggphoto2volume.h
M	monitor/gphoto2/ggphoto2volumemonitor.c
M	monitor/gphoto2/ggphoto2volumemonitor.h
M	monitor/gphoto2/gphoto2-volume-monitor-daemon.c
M	monitor/gphoto2/hal-device.c
M	monitor/gphoto2/hal-device.h
M	monitor/gphoto2/hal-pool.c
M	monitor/gphoto2/hal-pool.h
M	monitor/gphoto2/hal-utils.c
M	monitor/gphoto2/hal-utils.h
M	monitor/hal/ghaldrive.c
M	monitor/hal/ghaldrive.h
M	monitor/hal/ghalmount.c
M	monitor/hal/ghalmount.h
M	monitor/hal/ghalvolume.c
M	monitor/hal/ghalvolume.h
M	monitor/hal/ghalvolumemonitor.c
M	monitor/hal/ghalvolumemonitor.h
M	monitor/hal/hal-device.c
M	monitor/hal/hal-device.h
M	monitor/hal/hal-pool.c
M	monitor/hal/hal-pool.h
M	monitor/hal/hal-utils.c
M	monitor/hal/hal-utils.h
M	monitor/hal/hal-volume-monitor-daemon.c
M	monitor/proxy/dbus-interfaces.xml
M	monitor/proxy/gproxydrive.c
M	monitor/proxy/gproxydrive.h
M	monitor/proxy/gproxymount.c
M	monitor/proxy/gproxymount.h
M	monitor/proxy/gproxymountoperation.c
M	monitor/proxy/gproxymountoperation.h
M	monitor/proxy/gproxyshadowmount.c
M	monitor/proxy/gproxyshadowmount.h
M	monitor/proxy/gproxyvolume.c
M	monitor/proxy/gproxyvolume.h
M	monitor/proxy/gproxyvolumemonitor.c
M	monitor/proxy/gproxyvolumemonitor.h
M	monitor/proxy/gvfsproxyvolumemonitordaemon.c
M	monitor/proxy/gvfsproxyvolumemonitordaemon.h
M	monitor/proxy/remote-volume-monitor-module.c
M	monitor/udisks2/gvfsudisks2drive.c
M	monitor/udisks2/gvfsudisks2drive.h
M	monitor/udisks2/gvfsudisks2mount.c
M	monitor/udisks2/gvfsudisks2mount.h
M	monitor/udisks2/gvfsudisks2utils.c
M	monitor/udisks2/gvfsudisks2utils.h
M	monitor/udisks2/gvfsudisks2volume.c
M	monitor/udisks2/gvfsudisks2volume.h
M	monitor/udisks2/gvfsudisks2volumemonitor.c
M	monitor/udisks2/gvfsudisks2volumemonitor.h
M	monitor/udisks2/udisks2volumemonitordaemon.c
M	programs/completion/gvfs
M	programs/gvfs-cat.c
M	programs/gvfs-copy.c
M	programs/gvfs-info.c
M	programs/gvfs-less
M	programs/gvfs-ls.c
M	programs/gvfs-mime.c
M	programs/gvfs-mkdir.c
M	programs/gvfs-monitor-dir.c
M	programs/gvfs-monitor-file.c
M	programs/gvfs-mount.c
M	programs/gvfs-move.c
M	programs/gvfs-open.c
M	programs/gvfs-rename.c
M	programs/gvfs-rm.c
M	programs/gvfs-save.c
M	programs/gvfs-set-attribute.c
M	programs/gvfs-trash.c
M	programs/gvfs-tree.c
M	test/benchmark-common.c
M	test/benchmark-gvfs-big-files.c
M	test/benchmark-gvfs-small-files.c
M	test/benchmark-posix-big-files.c
M	test/benchmark-posix-small-files.c
M	test/test-query-info-stream.c

commit 713bd83a892b9fa021f323e9df0df8e149d6194e
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2012-07-30

    afc: Use consistent debug env var

    All the other backend-specific env vars to trigger debugging
    spew are named GVFS_<foo>_DEBUG. Make afc follow this pattern, too.

    https://bugzilla.gnome.org/show_bug.cgi?id=680733

    Signed-off-by: Tomas Bzatek <tbzatek@redhat.com>

M	daemon/gvfsbackendafc.c

commit 1650ec9a0271e0527309e708f5cfe43756396248
Author: Marcus Carlson <mdc@src.gnome.org>
Date:	2012-07-30

    computer: Mark items as not renamable

    https://bugzilla.gnome.org/show_bug.cgi?id=617056

M	daemon/gvfsbackendcomputer.c

commit ee29ebe3a7af92984ca395e8f1d110f5a52716a1
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-07-30

    proxyvolumemonitor: Use GDBusProxy's name owner change notification

    Some GVolumeMonitor users don't run mainloop thus we're not able
    to do any async I/O. Using GDBusProxy name owner monitoring should
    get us the same functionality as separate g_bus_watch_name() call
    with the benefit of not doing any async I/O in GProxyVolumeMonitor
    constructor. This way we could populate volume monitor objects
    during initialization.

    https://bugzilla.gnome.org/show_bug.cgi?id=679821

M	monitor/proxy/gproxyvolumemonitor.c

commit 094e49bb8e3ededefa19ab720758ef10ffd76905
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:	2012-07-30

    Updated Galician translations

M	po/gl.po

commit f13d8ac3ee0c0407d88d7266905b18e0d05d9b4f
Author: Åsmund Skjæveland <aasmunds@ulrik.uio.no>
Date:	2012-07-29

    Updated Norwegian Nynorsk translation

M	po/nn.po

commit b0bdbda5baf3ecd710f25515e2f37dd531491cf2
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2012-07-28

    Fix a comment typo

M	common/gvfsdaemonprotocol.h

commit 256e33d3c21c0b5b495078c901111eb872d6d36a
Author: David Zeuthen <zeuthen@gmail.com>
Date:	2012-07-26

    udisks2: ensure that encrypted loop devices also get padlock emblem

    Signed-off-by: David Zeuthen <zeuthen@gmail.com>

M	monitor/udisks2/gvfsudisks2volume.c

commit 88ffd85e73fec8611386530962fb35451e28571c
Author: David Zeuthen <zeuthen@gmail.com>
Date:	2012-07-26

    udisks2: set should_automount to TRUE for loop devices set up by
    the user

    Also set the Autoclear property after successfully mounting/unlocking
    devices on a loop device.

    Signed-off-by: David Zeuthen <zeuthen@gmail.com>

M	monitor/udisks2/gvfsudisks2volume.c

commit b16b1476da08dc63b98cc25eebfddb48f50a5e82
Author: David Zeuthen <zeuthen@gmail.com>
Date:	2012-07-26

    udisks2: move up loop device validation checks

    We also want these checks to apply to e.g. LUKS devices.

    Signed-off-by: David Zeuthen <zeuthen@gmail.com>

M	monitor/udisks2/gvfsudisks2volumemonitor.c

commit 5b09d7e4176998c642e7fdfec71c3c35993a01b2
Author: David Zeuthen <zeuthen@gmail.com>
Date:	2012-07-26

    udisks2: don't use object after unref

    Technically there's no problem here since UDisksClient still has a
    reference but it's pretty confusing. Fix it up by using
    g_clear_object().

    Signed-off-by: David Zeuthen <zeuthen@gmail.com>

M	monitor/udisks2/gvfsudisks2volumemonitor.c

commit 810c166e36489982b3b9d4905f2b89a9235cecb1
Author: David Zeuthen <zeuthen@gmail.com>
Date:	2012-07-26

    udisks2: work around Linux bug for lingering partitions of cleared
    loop device

    Signed-off-by: David Zeuthen <zeuthen@gmail.com>

M	monitor/udisks2/gvfsudisks2volumemonitor.c

commit dc0e1d4ddd4c9d853c92d37da5633a680599cc37
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2012-07-25

    Updated Norwegian bokmål translation

M	po/nb.po

commit f3a18490240eacb879906d2a60b88702cb0862ac
Author: Tom Tryfonidis <tomtryf@gmail.com>
Date:	2012-07-24

    Updated Greek translation

M	po/el.po

commit 0d6c13ce089669ec30a98123814303315810eaf1
Author: Åsmund Skjæveland <aasmunds@ulrik.uio.no>
Date:	2012-07-22

    Updated Norwegian Nynorsk translation

M	po/nn.po

commit fa60a3dc687354a5299dcf8aa8e8f1e176104345
Author: Åsmund Skjæveland <aasmunds@ulrik.uio.no>
Date:	2012-07-22

    Updated Norwegian Nynorsk translation

M	po/nn.po

commit 4bc677ecd5e84d78979650ce34b3024c7b6b2e0d
Author: Aurimas Černius <aurisc4@gmail.com>
Date:	2012-07-22

    Updated Lithuanian translation

M	po/lt.po

commit ecf1aba3184fa46f870b87dce25a1e161b75f876
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-07-20

    gdbus: Construct proxies without connecting signals and properties

    Use G_DBUS_PROXY_FLAGS_DO_NOT_CONNECT_SIGNALS and
    G_DBUS_PROXY_FLAGS_DO_NOT_LOAD_PROPERTIES
    flags where applicable.

M	client/gdaemonvfs.c
M	metadata/meta-set.c
M	monitor/proxy/gproxyvolumemonitor.c

commit 0e43394e03efcb6f5cff048b0765771e9ea8e406
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-07-20

    programs: Return proper exit value when something fails

    The rule for the returning value and multiple arguments is to
    go through all of them and return non-zero exit code when one or more
    fails.

M	programs/gvfs-cat.c
M	programs/gvfs-info.c
M	programs/gvfs-ls.c
M	programs/gvfs-mount.c

commit 7f72e8780d955f61ff031355d83fc6ffcbad480e
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:	2012-07-18

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

M	po/zh_HK.po
M	po/zh_TW.po

commit e29f4c0285a075008e2de670129cf58c9640f8fa
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-07-16

    Post release version bump

M	configure.ac

commit 7bbf9a00816f42c43769cd28ffeca177af15a2b2
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-07-16

    Update NEWS for 1.13.3 release

M	NEWS

commit c9a90f45b79082bedfcd6a8bb82c6b013e22d708
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2012-07-16

    Updated Spanish translation

M	po/es.po

commit 39a92eb5ac5741b79832825f8408598aab83c52c
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:	2012-07-09

    daemon: implement show-unmount-progress in GVfsJobUnmount

    https://bugzilla.gnome.org/show_bug.cgi?id=676111

M	daemon/gvfsjobunmount.c
M	daemon/gvfsjobunmount.h

commit 2b9132dcb7019bb9a6a3f05f0c951055dc62e2ed
Author: Nilamdyuti Goswami <nilamdyuti@gmail.com>
Date:	2012-07-16

    Assamese translation updated

M	po/as.po

commit 772aae7ae7f602b45f9d464fe286b3d0e00344cd
Author: Ihar Hrachyshka <ihar.hrachyshka@gmail.com>
Date:	2012-07-15

    Updated Belarusian translation.

M	po/be.po

commit c17b63a45988c49ee707b5cd0c685662735db51c
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:	2012-07-13

    build: require GLib 2.33.4

    For the show-unmount-progress GMountOperation signal.

    https://bugzilla.gnome.org/show_bug.cgi?id=676111

M	configure.ac

commit 69bdea2a55b976322c9583eafcd51468ef953a30
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:	2012-07-09

    common: add support show-unmount-progress signal to
    GMountOperationDBus

    https://bugzilla.gnome.org/show_bug.cgi?id=676111

M	common/gmountoperationdbus.c
M	common/gmountsource.c
M	common/gmountsource.h
M	common/gvfsdaemonprotocol.h

commit 89d6253b08ae993dd23004c8c8f7f9ac4b7d1a2e
Author: Bastien Nocera <hadess@hadess.net>
Date:	2012-07-12

    trash: Make it possible to get to real URI

    So that the files can be poked direction, without the indirection.
    This makes it possible for Totem to play DVDs from the trash for
    example.

    https://bugzilla.gnome.org/show_bug.cgi?id=667794

M	daemon/gvfsbackendtrash.c

commit a5507e2e5cffd56926208364f8c7065f19eb4e26
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	2012-07-13

    Updated POTFILES.in

M	po/POTFILES.in

commit 2fec402d6523e4cf416d754f69d012dc67a58a2e
Author: Martin Pieuchot <mpi@openbsd.org>
Date:	2012-07-13

    daemon: Support allocating PTYs through openpty on BSD

    Allows systems supporting the BSD openpty(3) utily function but not
    the Unix98 PTY function family (grantpt(3), unlockpt(3), ...) to
    allocate a pseudo-tty required for the ssh authentication.

    https://bugzilla.gnome.org/show_bug.cgi?id=679790

    Signed-off-by: Tomas Bzatek <tbzatek@redhat.com>

M	configure.ac
M	daemon/gvfsbackendsftp.c
M	daemon/pty_open.c

commit e3890ddd806a7e2f89ac17d61a4aac0fa4eb7006
Author: William Jon McCann <jmccann@redhat.com>
Date:	2012-07-10

    Add a recent files backend

    https://bugzilla.gnome.org/show_bug.cgi?id=679719

M	configure.ac
M	daemon/Makefile.am
A	daemon/gvfsbackendrecent.c
A	daemon/gvfsbackendrecent.h
A	daemon/recent.mount.in

commit 86137e52d78b2a03b90964c090656f4820f77c78
Author: William Jon McCann <jmccann@redhat.com>
Date:	2012-07-10

    Enable more warnings with git

    https://bugzilla.gnome.org/show_bug.cgi?id=679719

M	configure.ac

commit 90e499e06040b5aa4adbefa20ccf78860ed67492
Author: Nilamdyuti Goswami <nilamdyuti@gmail.com>
Date:	2012-07-13

    Assamese translation updated

M	po/as.po

commit ff627caf013e71a19da24b9fbf188728993bc8a7
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:	2012-07-12

    Updated Galician translations

M	po/gl.po

commit 1592330c16dac5e3acbbcd1971c01055ff5cba2b
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:	2012-07-12

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

M	po/zh_HK.po
M	po/zh_TW.po

commit 174f3044f0e741b9c376efe98d41f5f46592b957
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:	2012-07-09

    udisks2: implement show-unmount-progress

    https://bugzilla.gnome.org/show_bug.cgi?id=676111

M	monitor/udisks2/gvfsudisks2drive.c
M	monitor/udisks2/gvfsudisks2mount.c
M	monitor/udisks2/gvfsudisks2utils.c
M	monitor/udisks2/gvfsudisks2utils.h

commit 8c61a01d9b143842fceb641e9ee03cb30bebb4ef
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:	2012-07-09

    monitor: handle show-unmount-progress signal

    https://bugzilla.gnome.org/show_bug.cgi?id=676111

M	monitor/proxy/dbus-interfaces.xml
M	monitor/proxy/gproxymountoperation.c
M	monitor/proxy/gproxymountoperation.h
M	monitor/proxy/gproxyvolumemonitor.c
M	monitor/proxy/gvfsproxyvolumemonitordaemon.c

commit 8dcd2e3756632bca6ea12744ee02099ba8a7e1d4
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:	2012-07-10

    udisks2: split a helper function

    We'll need to use this later.

    https://bugzilla.gnome.org/show_bug.cgi?id=676111

M	monitor/udisks2/gvfsudisks2mount.c

commit 4fccf40dfabbef277c3ae5c1652d4db24d0285ac
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:	2012-07-10

    udisks2: factor out a common function

    Factor out unmount_data_complete(), we'll use it later.

    https://bugzilla.gnome.org/show_bug.cgi?id=676111

M	monitor/udisks2/gvfsudisks2mount.c

commit 17f987f6b983b5f87f1317f4fd70ce4387ac458d
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:	2012-07-10

    udisks2: simplify some code

    https://bugzilla.gnome.org/show_bug.cgi?id=676111

M	monitor/udisks2/gvfsudisks2drive.c

commit 9aec339e36e4047c74a1ebea8afac372234dd9e2
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:	2012-07-10

    trivial: remove unused defines

    https://bugzilla.gnome.org/show_bug.cgi?id=676111

M	monitor/gdu/ggdumount.c
M	monitor/udisks2/gvfsudisks2mount.c

commit 079c5ae819e9aba6e75a0b533ed5ff8308038c2d
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:	2012-07-10

    udisks2: plug a memory leak

    We were not free-ing the UnmountMountsOp structure when there was an
    error in one mount. Fix that and use g_list_free_full to make
    code more
    concise.

    https://bugzilla.gnome.org/show_bug.cgi?id=676111

M	monitor/udisks2/gvfsudisks2drive.c

commit df4069ea879668981dc1984b59e4493f77928fd2
Author: Nilamdyuti Goswami <nilamdyuti@gmail.com>
Date:	2012-07-11

    Assamese translation reviewed

M	po/as.po

commit 839168f660866dc7e4c28b37246543d10ef43ee5
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2012-07-09

    Make the build a bit more quiet

    Hide gdbus-codegen behind $(AM_V_GEN) to make things
    look nice and clean.

M	monitor/proxy/Makefile.am

commit 4e8603a9b15ac9f6d1c833cb0db51753451e8f60
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2012-07-09

    Avoid an uninitialized variable warning

M	monitor/udisks2/gvfsudisks2volume.c

commit 297bcc3ab93db6db2e869ecd81e318992d79760b
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2012-07-09

    Updated Norwegian bokmål translation

M	po/nb.po

commit 95bfe781a3566024cd347af819f32489775c883b
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2012-07-02

    Updated Spanish translation

M	po/es.po

commit 2fca4badf5899cf32a333ce0425a72ec21313896
Author: Tom Tryfonidis <tomtryf@gmail.com>
Date:	2012-07-02

    Updated Greek translation

M	po/el.po

commit f746c4488961851df9a0f11e04511693e427dd03
Author: Colin Walters <walters@verbum.org>
Date:	2012-06-30

    build: Add --disable-documentation option

    Some embedded users may not want it, and for gnome-ostree right now I
    don't have the Docbook infrastrucutre set up.

M	Makefile.am
M	configure.ac

commit 30b70bdd4113a3bb22e8ee98ecdfde5c5e5c165e
Author: Robert Ancell <robert.ancell@canonical.com>
Date:	2012-05-24

    udisks2: Fix error when compiling with -Werror=format-security

    https://bugzilla.gnome.org/show_bug.cgi?id=676693

M	monitor/udisks2/gvfsudisks2mount.c
M	monitor/udisks2/gvfsudisks2volume.c

commit 42afb1cff97489e67f57ebcb39ecd7ee30c4b61d
Author: William Jon McCann <jmccann@redhat.com>
Date:	2012-04-30

    Update to use XDG Cache Home for thumbnails

    https://bugzilla.gnome.org/show_bug.cgi?id=675170

M	daemon/gvfsbackend.c

commit 5e839711a36b4e145f3ba3033f2d0e3128df5f7a
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2012-06-29

    Add man pages for all the utilities

M	Makefile.am
M	configure.ac
A	man/Makefile.am
A	man/gvfs-cat.xml
A	man/gvfs-copy.xml
A	man/gvfs-info.xml
A	man/gvfs-ls.xml
A	man/gvfs-mime.xml
A	man/gvfs-mkdir.xml
A	man/gvfs-monitor-dir.xml
A	man/gvfs-monitor-file.xml
A	man/gvfs-mount.xml
A	man/gvfs-move.xml
A	man/gvfs-open.xml
A	man/gvfs-rename.xml
A	man/gvfs-rm.xml
A	man/gvfs-save.xml
A	man/gvfs-set-attribute.xml
A	man/gvfs-trash.xml
A	man/gvfs-tree.xml

commit c070566d67c0059bce5e0d3484339c9547254ffe
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2012-06-29

    Improve wording

    One can trash directories too, thus use LOCATION instead of FILE.

M	programs/gvfs-trash.c

commit 265057d79fd05546236d2b93bb4a085833e408f6
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2012-06-29

    Reorder some options

    Move --detail to the end so it comes after the options that
    it affects, in help output.

M	programs/gvfs-mount.c

commit d5ad568d624162282ebfae741bb18011e907eb0b
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2012-06-29

    gvfs-save: use - instead of _ in long options

    The option --print_etag was misnamed. Now it is --print-etag.

M	programs/gvfs-save.c

commit 1a20e31a1660b1e51efc3a1bb2bb9044af209d3d
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2012-06-29

    Apply some love to the gvfs utilities

    This makes the --help output more consistent across the utilities.
    - Capitalize parameters
    - Make summaries full sentences
    - Shorten some overlong strings
    - Strip . off option descriptions
    - Make descriptions of identical options the same
    - Improve error handling for option parsing
    Also, do proper gettext setup in all utilities.

M	programs/gvfs-cat.c
M	programs/gvfs-copy.c
M	programs/gvfs-info.c
M	programs/gvfs-ls.c
M	programs/gvfs-mime.c
M	programs/gvfs-mkdir.c
M	programs/gvfs-monitor-dir.c
M	programs/gvfs-monitor-file.c
M	programs/gvfs-mount.c
M	programs/gvfs-move.c
M	programs/gvfs-open.c
M	programs/gvfs-rename.c
M	programs/gvfs-rm.c
M	programs/gvfs-save.c
M	programs/gvfs-set-attribute.c
M	programs/gvfs-trash.c
M	programs/gvfs-tree.c

commit 99051ad3a99fb4db0444362348b7421f2e01b93d
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-06-26

    Post release version bump

M	configure.ac

commit c15f353a741600a29660514b25a97845924d794e
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-06-26

    Update NEWS for 1.13.2 release

M	NEWS

commit a35863dd370b6c7a72ad161385507b9b2613bfa8
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-06-25

    gvfs-open: Construct full URI for local paths

    Apparently g_app_info_launch_default_for_uri() can't handle invalid
    URIs like the plain local path, returning G_IO_ERROR_NOT_SUPPORTED.
    Let's go through GFile to get a full URI as a fallback.

    https://bugzilla.gnome.org/show_bug.cgi?id=676313

M	programs/gvfs-open.c

commit ff748cd275fba9b6cc14f1efa94534fbf0f23caa
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-06-25

    fuse: Split padding size in blocks for ftruncate()

    Don't allocate whole padding block, write in smaller pieces instead.
    As an bonus, check for block write result and break if error occurred,
    passing it further up.

    Found by David Zeuthen.

M	client/gvfsfusedaemon.c

commit a1abfe3ea48e92ae96a6d867272c9cf31bece9f7
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-06-22

    afp: Add a comment for translators

    https://bugzilla.gnome.org/show_bug.cgi?id=670162

M	daemon/gvfsafpserver.c

commit 675768224bcea783cf65d2052d27c0e218e21f81
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-06-22

    build: Change GSettings schema paths to /org/gnome/system

    Rather controversial change but afaik these schemas are not used by
    foreign apps.

    https://bugzilla.gnome.org/show_bug.cgi?id=674922

M	daemon/org.gnome.system.dns_sd.gschema.xml
M	daemon/org.gnome.system.smb.gschema.xml

commit 6ff5e43a1155ac438d7fecb4d2c94318bfc12392
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-06-22

    build: Install bash completion files in /usr/share/

    bash-completion upstream has changed the preferred location for
    completion
    scripts, let's make it consistent across our stack.

    https://bugzilla.gnome.org/show_bug.cgi?id=678537

M	configure.ac
M	programs/Makefile.am
R100	programs/gvfs-bash-completion.sh	programs/completion/gvfs

commit e8b4b3309e3e9c85c37d5522a01f24a8914538fc
Author: Dan Winship <danw@gnome.org>
Date:	2012-05-18

    gvfs-open: use g_app_info_launch_default_for_uri()

    g_app_info_launch_default_for_uri() didn't exist when gvfs-open was
    first written, but now that it does, there's no reason not to use it.

    https://bugzilla.gnome.org/show_bug.cgi?id=676313

M	programs/gvfs-open.c

commit b6164bc173223ee726f3102e3c7ed2bb9d2aad5b
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-06-20

    fuse: Support ftruncate() where requested size > current size

    When ftruncate is called with a size greater than the current size
    of the file, the expected behavior is that the file size increases to
    the requested size, and the new space is zero-filled.  SQLite depends
    on this behavior when opening a database using 'write-ahead log'
    journaling.

    Based on original patch by Jeff Smith <whydoubt@yahoo.com>

M	client/gvfsfusedaemon.c

commit 872e874b9ee1bf326c6d436151a917f8f39e31ec
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-06-18

    gdbus: Use stable metadata proxy

    When GDBusProxy is constructed for a well-known name, it tracks
    the name
    owner itself and no recreation when it changes is necessary. When
    name owner
    is lost, an autostart attempt is made on a next call.

    This patch removes name watching completely but retains metadata
    proxy creation
    on a first use.

M	client/gdaemonfile.c
M	client/gdaemonvfs.c

commit 7b93a7f8486bad5886c75045aa4ec3806e8398f4
Author: Christian Kellner <gicmo@gnome.org>
Date:	2012-06-18

    dav: abort finding the root on error or auth info change

    The webdav root finding logic has been changed so it will not
    continue to check the parent directory if we did not get a
    webdav collection.
    Also if we successfully obtained the information for a directory
    we switch the auth handler to non-interactive so we don't try
    to ask for new credentials for parent dir. Fix bug #677753.

M	daemon/gvfsbackenddav.c

commit c12296f716102e83647d67017d418129c9cc22c7
Author: Christian Kellner <gicmo@gnome.org>
Date:	2012-06-18

    dav: ignore empty tags in multistatus responses

    The old logic in ms_response_to_file_info () assumed that all
    the tags that were present in the 200 status block of the
    multistatus response actually contain data. Of course some
    server will violate this assumption. We now make sure that tags
    really have content when parsing. Should fix bug 675506.

M	daemon/gvfsbackenddav.c

commit 042f06197ca72b4703116fc3fe29da7c4a7df352
Author: Tom Tryfonidis <tomtryf@gmail.com>
Date:	2012-06-10

    Updated Greek translation

M	po/el.po

commit 6c40a89b8d0ac53462a1039e3453b3833dc52718
Author: Κωσνταντίνος Χόρτης <cograss@yahoo.com>
Date:	2012-06-10

    Updated Greek translation

M	po/el.po

commit 6108c126bd4c2821474ce3091e54434401893fdd
Author: Colin Walters <walters@verbum.org>
Date:	2012-06-06

    build: More srcdir != builddir fixes

M	client/Makefile.am
M	monitor/proxy/Makefile.am

commit ba3f31b5296fa9de00d92e1deee17dc50760fe9f
Author: Colin Walters <walters@verbum.org>
Date:	2012-06-06

    build: Fix srcdir != builddir

M	metadata/Makefile.am

commit b7e22341c2eeef72b885639936531228e4456efc
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-06-04

    Post release version bump

M	configure.ac

commit 20f702c95df552edd8252abb12e288485a4bd20b
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-06-04

    Update NEWS for 1.13.1 release

M	NEWS

commit 8315eaf84e52c6a00a4905f1f6a73182db9e8015
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-05-18

    Port volume monitoring and metadata to GDBus

    This is a complete port of volume monitors and metadata to GDBus.
    The (private) d-bus API has been mostly preserved except of
    MountOp methods.

    No difference in functionality should be observed.

M	.gitignore
M	client/gdaemonfile.c
M	client/gdaemonvfs.c
M	client/gdaemonvfs.h
M	metadata/Makefile.am
A	metadata/dbus-interface.xml
M	metadata/meta-daemon.c
M	metadata/meta-set.c
M	monitor/afc/Makefile.am
M	monitor/gdu/Makefile.am
M	monitor/proxy/Makefile.am
A	monitor/proxy/dbus-interfaces.xml
M	monitor/proxy/gproxydrive.c
M	monitor/proxy/gproxydrive.h
M	monitor/proxy/gproxymount.c
M	monitor/proxy/gproxymount.h
M	monitor/proxy/gproxymountoperation.c
M	monitor/proxy/gproxymountoperation.h
M	monitor/proxy/gproxyshadowmount.c
M	monitor/proxy/gproxyvolume.c
M	monitor/proxy/gproxyvolume.h
M	monitor/proxy/gproxyvolumemonitor.c
M	monitor/proxy/gproxyvolumemonitor.h
M	monitor/proxy/gvfsproxyvolumemonitordaemon.c

commit cc34b3774e6ce80551babf20c7d5dfabd9d2ed24
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2012-05-30

    Updated Norwegian bokmål translation

M	po/nb.po

commit 4152083676a7ea16e574f0c20e3c7dc09fe5bb88
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	2012-05-28

    Updated Slovenian translation

M	po/sl.po

commit 0a939b85ae643939d3e270f277c1dcdeedb89464
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:	2012-05-25

    Updated Hebrew translation.

M	po/he.po

commit 82b0d8e47487a99ce649459cf7098c0c297a03ff
Author: Alexandre Franke <alexandre.franke@gmail.com>
Date:	2012-05-23

    Update French translation

M	po/fr.po

commit b86597410d804353075326cfb5a1404ad03c262e
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:	2012-05-20

    Updated Galician translations

M	po/gl.po

commit b55955849cbff6ab14e8b77ab989041f0a433d45
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2012-05-16

    Updated Spanish translation

M	po/es.po

commit 3ac0a803e4fe58a4ac1b82a5770468c6801e93ab
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-05-15

    udisks2: Show "Eject Anyway" (not "Unmount Anyway") if ejecting

    ... instead of unmounting.

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2drive.c
M	monitor/udisks2/gvfsudisks2mount.c

commit ffc6b5a3175259bca65f96e15c7501a6fa2570bb
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-05-15

    udisks2: set can_eject correctly

    Yes, can_eject can be TRUE even if the media is not removable.

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2drive.c

commit d44ebed4590fc19b41e88d00fe7c598b9eaac832
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-05-15

    gvfs-mount: add new -e option to eject a mount

    Like the rest of gvfs-mount(1), this is mostly useful for debugging.

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	programs/gvfs-mount.c

commit 817d82da698910b45f2809175653d671190b939f
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-05-14

    udisks2: set timeout to INTMAX when unmounting a filesystem

    It may indeed take more than 25 seconds if there's a lot of data to
    write. Related to https://bugzilla.redhat.com/show_bug.cgi?id=819492

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2mount.c

commit 4f89d930d3eb8414dc301262d7db448d257843bc
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-05-08

    udisks2: also check for umount(8) saying "target is busy"

    Same as
    http://cgit.freedesktop.org/udisks/commit/?id=d8fa361eec2706091e9d7f166f63bb5c0f663f4b

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2mount.c

commit 253d78c25af2f527015834ab5edb1780028998c2
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-05-08

    udisks2: don't call g_simple_async_result_take_error() twice

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2mount.c

commit 7ef4140c6eb484b8aabf36a86fe070ef634dab05
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-05-03

    udisks2: don't show loop devices set up by other users

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2volumemonitor.c

commit 9b449288f63b6a6be45c8cee14bfa8f1c0b37024
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-04-30

    udisks2: Remove support for ID_SEAT=all

    We might bring this back in one shape or the other, but remove it for
    now until I get a chance to talk to Kay and Lennart some more.

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2utils.c
M	monitor/udisks2/gvfsudisks2utils.h
M	monitor/udisks2/gvfsudisks2volume.c
M	monitor/udisks2/gvfsudisks2volumemonitor.c
M	monitor/udisks2/what-is-shown.txt

commit 5eec133eb758acebeba29aaeae9dd7fad04fd30b
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-04-30

    Post release version bump

M	configure.ac

commit f12414e5ce154365cebf49394ef25d4193b728b1
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-04-30

    Update NEWS for 1.13.0 release

M	NEWS

commit 7d0127ee181c0b282b8f99f461d26fce1c3a27b0
Author: Arun Raghavan <arun@accosted.net>
Date:	2012-04-30

    build: Bail if gphoto support is requested but not available

    https://bugzilla.gnome.org/show_bug.cgi?id=578027

M	configure.ac

commit 7fe5deeae25f2396027f667d8960d2ec84c64716
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2012-04-30

    afp: Use g_clear_object properly

    g_clear_object expects the address of a pointer. A recent
    change in its definition makes gcc complain about this.

M	daemon/gvfsafpvolume.c

commit 2a8f1961397aff1be895a651e34bf93643fcfaf8
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2012-04-30

    Updated Norwegian bokmål translation

M	po/nb.po

commit efcb93f81969b636a7b5783c54f0b9f107662644
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:	2012-04-27

    Updated Galician translations

M	po/gl.po

commit 52ee6c94ed96c0d9f04864dc75bef120d83b157d
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2012-04-27

    Updated Spanish translation

M	po/es.po

commit 22dfdc9e381aaf0df76798dcf612d11ae14721c8
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-04-27

    build: Include udisks2/what-is-shown.txt in the tarball

M	monitor/udisks2/Makefile.am

commit 00877f760e6e1088a598201bbf804b502a0ec33d
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-04-27

    build: Fix typo

M	configure.ac

commit 5efba5e2da487099fa8fa6f619df969004fe44d1
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-04-27

    Post branching version bump

M	configure.ac

commit bb92a5d7c6f9a590bd9a9da83fcf5aef8ab56317
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:	2012-04-27

    Updated Hebrew translation.

M	po/he.po

commit 79f0ea7c0d5cb39cf1ab40afaea0e485aeb4bc49
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-04-26

    udisks2: Support getting/storing LUKS encryption passphrase from
    keyring

    Also use a nicer message when asking for the passphrase, e.g. use
    strings like

     'SD04G (SD Card Reader)'
     'WD 2500JB External (250 GB Hard Disk)'

    instead of /dev/mmcblk0p1 or /dev/sdb1. If stored in the keyring, we
    also use the following display name

     'Encryption passphrase for $DRIVE'

    where $DRIVE is of the above form. This makes it easy for the user to
    manage (for example, delete) pass-phrases using seahorse(1).

    This was discussed in bug 674161.

     https://bugzilla.gnome.org/show_bug.cgi?id=674161

    This commit adds/changes translatable strings but Tomas said he would
    soon branch gvfs for gnome-3-at a point before this patch.

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/Makefile.am
M	monitor/udisks2/gvfsudisks2volume.c

commit 76cdae2a576fa4c2a4b27aa5240fdb651040ad2b
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-04-23

    udisks2: update the what-is-shown.txt file to mention multi-seat
    systems

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/what-is-shown.txt

commit 495bf23f972cb14aa55d15b7c9fe53bd610a0590
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-04-23

    udisks2: don't automount if drive is shared across all seats

    If we automount media in a drive assigned to all seats, then all
    sessions on all seats will be notified of the new media... which is
    definitely going to be annoying. Instead, just disable automounting on
    such drives so the user manually have to mount it.

    Of course, this depends on the shell doing the right thing. Which is:
    only notifying the user when successfully auto-mounting in response to
    a hotplug event. This is not currently the case, see

     https://bugzilla.gnome.org/show_bug.cgi?id=660595#c19

    for details about this bug.

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2utils.c
M	monitor/udisks2/gvfsudisks2utils.h
M	monitor/udisks2/gvfsudisks2volume.c
M	monitor/udisks2/gvfsudisks2volumemonitor.c

commit c241b86cc74ce8ca13d9ee2b8d0b7cf15850cf71
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-04-22

    udisks2: don't show drives from other seats and special-case seat
    "all"

    If Drive:seat is "all" it means the drive is available on all seats.

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2utils.c
M	monitor/udisks2/gvfsudisks2utils.h
M	monitor/udisks2/gvfsudisks2volume.c
M	monitor/udisks2/gvfsudisks2volumemonitor.c

commit a1f285ff0b5583b56b349303f42579f84add6c78
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2012-04-21

    afp: use the UTF-8 server name for password dialogs when it's
    available

    https://bugzilla.gnome.org/show_bug.cgi?id=674528

M	daemon/gvfsafpserver.c

commit dee21fb98bfa5d0c9024d084458f69b1dd08154a
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2012-04-21

    afp: convert pascal strings into utf-8

    pascal strings are in the macintosh-roman character set and therefore
    need to
    be converted into utf-8.

    https://bugzilla.gnome.org/show_bug.cgi?id=674528

M	daemon/gvfsafpconnection.c

commit 5c9ffd7bf5d08c3fe57e235d8001e0b9c23a2730
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-04-21

    Don't set should_automount to TRUE for devices on other seats

    This change uses the libsystemd-login library to obtain the seat we're
    on and compares it against the Seat property on the D-Bus interface
    org.freedesktop.UDisks2.Drive. This property is available in udisks
    1.95.0, see

     http://cgit.freedesktop.org/udisks/commit/?id=91106cdc7622d9674f6083dcb524407f026a36c7

    Also, since we're still on the stable branch and not everyone may be
    using systemd, make this work without hard-requiring either
    libsystemd-login or udisks 1.95.0.

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	configure.ac
M	monitor/udisks2/Makefile.am
M	monitor/udisks2/gvfsudisks2volume.c

commit b51b55b8a7e66cabecec972c96513edce6237193
Author: Jiro Matsuzawa <jmatsuzawa@gnome.org>
Date:	2012-04-21

    [l10n] Update Japanese translation

    Fix format errors
    https://bugzilla.gnome.org/show_bug.cgi?id=674514

M	po/ja.po

commit e30a67f3215d829e95ee7e358c67af7d67635fe8
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-04-18

    udisks2: Set should_automount correctly when starting up

    This bug caused volumes to not automount at session startup. While it
    can be argued that we should or shouldn't at least this is

	1. a change from earlier versions of GNOME; and

	2. rather disruptive for some non-GUI users

    Basically the problem is this: We need to take into account that on
    coldplug, the heuristic of just looking at whether the volume has
    appeared within the last five seconds won't work.

    This bug report that triggered this bug fix was this one

     https://bugzilla.redhat.com/show_bug.cgi?id=813069

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2volume.c
M	monitor/udisks2/gvfsudisks2volume.h
M	monitor/udisks2/gvfsudisks2volumemonitor.c

commit 071ef32304258de70404f1e897724361f2dfbca6
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-04-16

    Post release version bump

M	configure.ac

commit ebe43f878b6ba3bda001b75068b57a30caefd04c
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-04-16

    Update NEWS for 1.12.1 release

M	NEWS

commit 90cd7fc84efa5bd8cdcb725cf3f4a1590cb72cd9
Author: Antoine Jacoutot <ajacoutot@gnome.org>
Date:	2012-04-16

    afp: Prevent redefinition of GVfsAfpServer.

    GVfsAfpServer is already included in gvfsafpvolume.h which
    gvfsafpserver.h
    includes; so no need to declare GVfsAfpServer here.

    http://bugzilla-attachments.gnome.org/attachment.cgi?id=210456

    Signed-off-by: Tomas Bzatek <tbzatek@redhat.com>

M	daemon/gvfsafpserver.h

commit 0ce5ef308df86f5fef412f14b59fa46bee494e81
Author: Hajime Taira <htaira@redhat.com>
Date:	2012-04-16

    [l10n] Update Japanese translation

M	po/ja.po

commit a4cfc92d4cb0bfd0590d4f0dc177faa2a03b344c
Author: Arash Mousavi <amousavi@src.gnome.org>
Date:	2012-04-12

    Updated Persian translation

M	po/fa.po

commit 2a7341cf0e6d29a49b7ba11a0a327688ea3ee7fe
Author: Arash Mousavi <amousavi@src.gnome.org>
Date:	2012-04-12

    Updated Persian translation

M	po/fa.po

commit 31b80beeb44a69d227f9420d69cdf1780f6191bf
Author: Martin Pitt <martinpitt@gnome.org>
Date:	2012-04-11

    gphoto2: Initialize mutex early enough

    Initializing the lock mutex in do_mount() is too late, as there are
    a lot of
    code paths that call release_device() and thus g_mutex_clear()
    that run before
    a successful do_mount(). For example, when you run gvfsd-gphoto2
    with wrong
    arguments, or gp_camera_init() fails in do_mount().

    Now initialize it in g_vfs_backend_gphoto2_init().

    https://bugzilla.gnome.org/show_bug.cgi?id=673893

M	daemon/gvfsbackendgphoto2.c

commit a6026f07b32dd9543b05af7b039d73029b166aa4
Author: Carles Ferrando <carles.ferrando@gmail.com>
Date:	2012-04-10

    [l10n]Updated Catalan (Valencian) translation

M	po/ca@valencia.po

commit 87cd894c32745c3e8b8163e966e2a1406ab40e5b
Author: Jordi Serratosa <jordis@softcatala.cat>
Date:	2012-04-10

    [l10n] Fixes on Catalan translation

M	po/ca.po

commit 846752e8bdab6c25570796848db4118c634411a1
Author: Arash Mousavi <amousavi@src.gnome.org>
Date:	2012-04-10

    Updated Persian translation

M	po/fa.po

commit 1d4de8fd3010d21734c16c8912b125b222051e0e
Author: Arash Mousavi <amousavi@src.gnome.org>
Date:	2012-04-10

    Updated Persian translation

M	po/fa.po

commit 31eaee9cd7609b961d683bc6220fb15cb95b1372
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-04-09

    udisks2: Update link to fstab/crypttab editing in Disks

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/what-is-shown.txt

commit d870015bff4eb8f34f465f4c45d91ca326f52a43
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-04-09

    udisks2: Fix some memory leaks

    https://bugzilla.redhat.com/show_bug.cgi?id=790062

    This was done using the following rather simple script

     #!/bin/bash
     while true; do
	 losetup -f
	 /home/davidz/Downloads/Fedora-16-x86_64-Live-Desktop.iso
	 losetup -D
     done

    and then running it as root.

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2volumemonitor.c

commit 54b1069f0f21d3d748ef5d2daa3e78ac0ab6e0aa
Author: Chandan Kumar <chandankumar.093047@gmail.com>
Date:	2012-04-05

    Updated hindi translation

M	po/hi.po

commit d6f14e2fcf126af8f41159148946b6b5ae2c3819
Author: Arash Mousavi <amousavi@src.gnome.org>
Date:	2012-04-05

    Added Persian translations

M	po/LINGUAS
A	po/fa.po

commit c9f840192312c23f7eea666f964e7eab4c2e680e
Author: Alexandre Rostovtsev <tetromino@gentoo.org>
Date:	2012-04-02

    afc: Fix building against libimobiledevice-1.1.2

    In 1.1.2, the struct idevice_event_t uuid field was renamed to udid.
    Since libimobiledevice lacks a library version macro, we are forced
    to check for the pkgconfig version in configure.

    https://bugzilla.gnome.org/show_bug.cgi?id=672693

    Signed-off-by: Tomas Bzatek <tbzatek@redhat.com>

M	configure.ac
M	daemon/gvfsbackendafc.c
M	monitor/afc/afcvolumemonitor.c

commit 2bc8621f86c6ce2d9f8bde666a0055ed88e99dda
Author: Mario Blättermann <mario.blaettermann@gmail.com>
Date:	2012-03-31

    [l10n] Updated German translation

M	po/de.po

commit 7512c0e90c3455eaaf73368109636fd9d7422bdb
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2012-03-27

    Updated Spanish translation

M	po/es.po

commit bfe0c6730adddc7da856268aed1284ba21e9e6d9
Author: Aurimas Černius <aurisc4@gmail.com>
Date:	2012-03-26

    Updated Lithuanian translation

M	po/lt.po

commit 23c9e81e7aaf9883479fc5e31e0f4d3826964780
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-03-26

    Post release version bump

M	configure.ac

commit a4c5695c726358a3a64106e22f3f9f46f1f6ced7
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-03-26

    Update NEWS for 1.12.0 release

M	NEWS
M	configure.ac

commit 97389274b093787a772c24f925f223710ed38594
Author: Marek Černocký <marek@manet.cz>
Date:	2012-03-26

    Updated Czech translation

M	po/cs.po

commit 9619b0ec942efae45a6f0b7ba5998777953dd5f6
Author: Petr Kovar <pkovar@redhat.com>
Date:	2012-03-26

    Updated Czech translation

M	po/cs.po

commit cd3e6d11e3f83ed254b5946e46a3ad5fe7bc40e8
Author: Funda Wang <fundawang@gmail.com>
Date:	2012-03-21

    Updated zh_CN translation.

M	po/ChangeLog
M	po/zh_CN.po

commit 618ff2f778212ff2459108de2f4ca4731e082788
Author: Sasi Bhushan <sasi@swecha.net>
Date:	2012-03-20

    Updated Telugu Translations

M	po/te.po

commit b43ac18df12e8f9e7a899001cf33851f4c214220
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-03-19

    Post release version bump

M	configure.ac

commit 4de85271d345762042c9a0d11f1f9f9dda3b9565
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-03-19

    Update NEWS for 1.11.5 release

M	NEWS

commit 514944b023e95634a44bb511c80221722835a387
Author: Bruno Brouard <annoa.b@gmail.com>
Date:	2012-03-17

    Updated French translation

M	po/fr.po

commit eb79ba77b3b6b2ce7328f259a35d82c6a16172b4
Author: Sweta Kothari <swkothar@redhat.com>
Date:	2012-03-16

    Updated Gujarati Translations

M	po/gu.po

commit 390fa80bbddc36317b73405e7eb7a54bad24a676
Author: Carles Ferrando <carles.ferrando@gmail.com>
Date:	2012-03-15

    [l10n]Updated Catalan (Valencian) translation

M	po/ca@valencia.po

commit d0a99e9330b4eb065a9df28ecc8247c1e1a31e4e
Author: Gil Forcada <gforcada@gnome.org>
Date:	2012-03-15

    [l10n]Updated Catalan translation

M	po/ca.po

commit 09dfd003a4825eb8667ba521fae64f12bd551bce
Author: Alexander Larsson <alexl@redhat.com>
Date:	2012-03-15

    Keep using ~/.gvfs as fallback

    If runtime dir is not specifically set we don't fall back to
    ~/.cache/gvfs, as that unnecessarily invalidates all existing
    documentation and scripts using ~/.gvfs.

    However, if it is set, we still use it.

M	client/gdaemonvfs.c
M	daemon/main.c
M	daemon/mount.c

commit bbb61d820ea319b6468e6b78c0b2f007c0338881
Author: Duarte Loreto <happyguy_pt@hotmail.com>
Date:	2012-03-15

    Updated Portuguese translation

M	po/pt.po

commit 2e511fb47e7aa76c0eb7fc2083f8f615399f9c26
Author: Anita Reitere <nitalynx@gmail.com>
Date:	2012-03-15

    Updated Latvian translation.

M	po/lv.po

commit b8e663e716ac85e6aef781083b8b17845f4781e7
Author: Bruce Cowan <bruce@bcowan.me.uk>
Date:	2012-03-13

    Updated British English translation

M	po/en_GB.po

commit 6b0f553b4f05d6433f41af4a42b1e75f405ed2f1
Author: Timo Jyrinki <timo@debian.org>
Date:	2012-03-12

    Finnish translation update from
    http://l10n.laxstrom.name/wiki/Gnome_3.4 translation sprint

M	po/fi.po

commit 3c20c3e0da697e223cfd3e8dfbb454942332b01b
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	2012-03-10

    Updated Polish translation

M	po/pl.po

commit cdcbd83ae7b03bb441c2b6d2481f64bb302668bb
Author: Seong-ho Cho <darkcircle.0426@gmail.com>
Date:	2012-03-10

    Updated Korean translation

M	po/ko.po

commit f1ba26c5d471ec93c9c5d7c83c1459da909bf2c1
Author: Daniel Korostil <ted.korostiled@gmail.com>
Date:	2012-03-08

    Uploaded Ukranian

M	po/uk.po

commit 5ba3d7f5bd6be91e10d7e2bd9f40a8a19fb713cd
Author: Djavan Fagundes <djavanf@gnome.org>
Date:	2012-03-02

    Updated Brazilian Portuguese translation

M	po/pt_BR.po

commit e276d82179b88f271c98cc4897ce14e4d2777bd8
Author: Djavan Fagundes <djavanf@gnome.org>
Date:	2012-03-02

    Reverting wrong commit "Updated Brazilian Portuguese translation by
    Fábio Nogueira <fnogueira@gnome.org> and Myself"

    This reverts commit 5b3a81f1a94c5cdaa9b44dd07f6f0d736662449c.

A	po/pt_BR.po

commit 5b3a81f1a94c5cdaa9b44dd07f6f0d736662449c
Author: Djavan Fagundes <djavanf@gnome.org>
Date:	2012-03-02

    Updated Brazilian Portuguese translation by Fábio Nogueira
    <fnogueira@gnome.org> and Myself

D	po/pt_BR.po

commit 2a79e684d73e58fe197fcd1ab7ffb52372167945
Author: Inaki Larranaga Murgoitio <dooteo@zundan.com>
Date:	2012-03-06

    Updated Basque language

M	po/eu.po

commit 6d4870484dbd3e6ce2ea0c2cef84649f9d8a1df8
Author: Nilamdyuti Goswami <nilamdyuti@gmail.com>
Date:	2012-03-05

    Assamese translation completed

M	po/as.po

commit 27d7825a218cbc2d1dd12063770539eca0035bcc
Author: Nguyễn Thái Ngọc Duy <pclouds@gmail.com>
Date:	2012-03-04

    Updated Vietnamese translation

M	po/vi.po

commit 0972f4fdd275e727d60c58357d0354c94d118ed5
Author: Nguyễn Thái Ngọc Duy <pclouds@gmail.com>
Date:	2012-03-04

    po/vi: import from Damned Lies

M	po/vi.po

commit 31f24aa3bdfa7f53e74d4e24fcb79a3b7ed0d0ce
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-03-01

    udisks2: Set G_VOLUME_IDENTIFIER_KIND_CLASS identifier for volumes

    This identifier was discussed in

     https://bugzilla.gnome.org/show_bug.cgi?id=668295

    and added to GLib with this commit

     http://git.gnome.org/browse/glib/commit/?id=10fbfcf09010e423cfc79c54e8da50b62a0f4b8a

    For now, we do the ifndef dance instead of hard-requiring GLib master.

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2volume.c

commit cd0f2d9865a508e7c1bcee52ef0d1b5394ffb406
Author: Gabor Kelemen <kelemeng@gnome.hu>
Date:	2012-03-01

    Updated Hungarian translation

M	po/hu.po

commit ae9ed88a5f0492df449e0729283a09da420651c7
Author: Mattias Põldaru <mahfiaz@gmail.com>
Date:	2012-02-28

    [l10n] Updated Estonian translation

M	po/et.po

commit ce9c862519f2bc338cf14927a2093019ea399d8c
Author: Dr.T.Vasudevan <agnihot3@gmail.com>
Date:	2012-02-27

    updated Tamil translation

M	po/ta.po

commit f65e82b4bc066a4c5a10572493eff2c8d029fbd2
Author: Ihar Hrachyshka <ihar.hrachyshka@gmail.com>
Date:	2012-02-26

    Updated Belarusian translation.

M	po/be.po

commit a6ae644b0e56a3ae7e154a25fcf597d499ee7eea
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-02-24

    Post release version bump

M	configure.ac

commit fecbfb334e05ed25423febc993ff4ff22b8b7f90
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-02-24

    Update NEWS for 1.11.4 release

M	NEWS

commit d61d5d0094305a9a6bfdec2f5831fd1617635faf
Author: A S Alam <aalam@users.sf.net>
Date:	2012-02-24

    update Punjabi Translation

M	po/pa.po

commit 05fa75f4040a94660b8491ff33c225658930cd0a
Author: Yuri Myasoedov <omerta13@yandex.ru>
Date:	2012-02-24

    Updated Russian translation

M	po/ru.po

commit 711c180a6d8400e2e2752eae41296882a60d1dd3
Author: YunQiang Su <yqsu@src.gnome.org>
Date:	2012-02-23

    fix an zh_CN translation problem

M	po/zh_CN.po

commit 6307d017a12642e71ba2f04e82fc3781425a3eb6
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-02-22

    Use /run/media/$USER instead of $XDG_RUNTIME_DIR/media

    This is because of security concerns - it is way too dangerous to let
    a system-daemon such as udisks manage directories in a user-controlled
    location such as $XDG_RUNTIME_DIR. So now udisks2 is using
    /run/media/$USER instead, see

     http://cgit.freedesktop.org/udisks/commit/?id=aa02e5fc53efdeaf66047d2ad437ed543178965b

    These bugs are related

     https://bugzilla.gnome.org/show_bug.cgi?id=669797
     https://bugzilla.gnome.org/show_bug.cgi?id=646391

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2volumemonitor.c
M	monitor/udisks2/what-is-shown.txt

commit eea3b84bdf8d68c7d5127468b77607fad66c4af3
Author: Alexander Shopov <ash@kambanaria.org>
Date:	2012-02-21

    Updated Bulgarian translation

M	po/bg.po

commit 0ca728345a1dd9875b5959019ffefa4b389ee385
Author: Ask H. Larsen <asklarsen@gmail.com>
Date:	2012-02-20

    Updated Danish translation

M	po/da.po

commit 177eed9119fe00301e9a36bedfa9f00b7b8427ff
Author: Мирослав Николић <miroslavnikolic@rocketmail.com>
Date:	2012-02-20

    Updated Serbian translation

M	po/sr.po
M	po/sr@latin.po

commit fd2fdc0417d03f26ecfc6a76a7d5d22b808545ad
Author: Gheyret Kenji <gheyret@gmail.com>
Date:	2012-02-19

    Updated Uyghur translation

M	po/ug.po

commit 5ae367cc6ae3746f70a13f9db7881fd6db0861bd
Author: Daniel Nylander <po@danielnylander.se>
Date:	2012-02-19

    Updated Swedish translation

M	po/sv.po

commit 60968576962f10212caf9e59a41ef0a9f77e6165
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-02-18

    udisks2: Only show $XDG_RUNTIME_DIR mounts if they are in media dir

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2volumemonitor.c
M	monitor/udisks2/what-is-shown.txt

commit 184ecff8482c06ea59c7b0a176b890acc3fa8083
Author: Luca Ferretti <lferrett@gnome.org>
Date:	2012-02-17

    l10n: Updated Italian translation

M	po/it.po

commit fdecf1901712bb40705dbc2d5136d7550b6c7a56
Author: Ihar Hrachyshka <ihar.hrachyshka@gmail.com>
Date:	2012-02-15

    Updated Belarusian translation.

M	po/be.po

commit 909441fb15c0daf14604cc57a88b74caaa2621a5
Author: Yuri Myasoedov <omerta13@yandex.ru>
Date:	2012-02-11

    Updated Russian translation

M	po/ru.po

commit 99ae116200691c1dc67ea3fb74060e0d90bf482d
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-02-08

    dav: Fix free space reporting

    Based on patch by Gareth Bult
    https://bugzilla.gnome.org/show_bug.cgi?id=669258

M	daemon/gvfsbackenddav.c

commit cbee78fdf13541f01de3078244c56c84af8477c0
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-02-07

    Post release version bump

M	configure.ac

commit 8350026da9e291c7dbb2257a990f8358c05e222d
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-02-07

    Update NEWS for 1.11.3 release

M	NEWS

commit e523572e14a9042696e1c5ccd4f30cb3240fa0df
Author: Giovanni Campagna <gcampagna@src.gnome.org>
Date:	2012-02-07

    GVfsJobUnmount: check that vfunc is implemented before calling it

    GVfsBackend::try_unmount is optional (like all the other try_*
    vfuncs),
    and in fact many backends don't implement it.
    In case it's NULL, returing FALSE does the right thing and schedules
    a thread for calling ->unmount.

    https://bugzilla.gnome.org/show_bug.cgi?id=669211

M	daemon/gvfsjobunmount.c

commit 989d0889afe34a0ce072edf9840b6d18314a00b3
Author: William Jon McCann <jmccann@redhat.com>
Date:	2012-02-07

    burn: Use user runtime dir instead of /tmp

    https://bugzilla.gnome.org/show_bug.cgi?id=646391

    Signed-off-by: Tomas Bzatek <tbzatek@redhat.com>

M	daemon/gvfsbackendburn.c

commit f81e381b58bf4dc8ea42ceb50311d4ef92677f72
Author: William Jon McCann <jmccann@redhat.com>
Date:	2012-02-07

    Use user runtime dir for gvfs mounts

    https://bugzilla.gnome.org/show_bug.cgi?id=646391

    Signed-off-by: Tomas Bzatek <tbzatek@redhat.com>

M	client/gdaemonvfs.c
M	daemon/main.c
M	daemon/mount.c

commit 87b5115aa18bc13858ef0d5041855658a22822be
Author: Wouter Bolsterlee <wbolster@gnome.org>
Date:	2012-02-04

    Updated Dutch translation

M	po/nl.po

commit fa53cd373efb22e427a329650ebb5c076ef3171b
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:	2012-01-29

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

M	po/zh_HK.po
M	po/zh_TW.po

commit 50ac84a753286ad37ce84b9ece034b4dbb69132e
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:	2012-01-28

    Updated Hebrew translation.

M	po/he.po

commit e7d0f9ece1379b68f6d3ec22795782beefc5e600
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	2012-01-25

    Updated Slovenian translation

M	po/sl.po

commit e5002669770af3d79aeeebd846f8638874d727d8
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	2012-01-25

    Updated Slovenian translation

M	po/sl.po

commit 37d4bf323a05a0b46fa3cb2b4cc96aa4ceca598e
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-01-24

    For mount options, switch from comment=gvfs to x-gvfs

    Recent util-linux (2.21+) supports any x-* option.

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2volume.c
M	monitor/udisks2/gvfsudisks2volumemonitor.c
M	monitor/udisks2/what-is-shown.txt

commit ce3bda236c2c85517260fc138669acf91af1092f
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2012-01-23

    Updated Norwegian bokmål translation

M	po/nb.po

commit f47d4b10fa148972f9ff6d1d44645fd8ab4974d5
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:	2012-01-23

    Updated Galician translations

M	po/gl.po

commit f5238a19f5115d63fd482a5341449c5c67ed2df1
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2012-01-22

    Updated Spanish translation

M	po/es.po

commit 74bb0801b3d81e861be87ab5e146563875c24ab5
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	2012-01-22

    Updated POTFILES.in

M	po/POTFILES.in

commit dec478831e0444e922ab8cd0e3336449fa1a743a
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2012-01-22

    afpvolume: s/afp_conn/conn/

M	daemon/gvfsafpvolume.c

commit f30a3c75f0102c69502edff77c6dba3775d90569
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2012-01-22

    afp: fix potential leak in g_vfs_afp_volume_enumerate

M	daemon/gvfsafpvolume.c

commit fa288893d51478daa7190bbb554779404a205157
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-11-23

    afp: split out volume specific functions into a GVfsAfpVolume object.

M	daemon/Makefile.am
M	daemon/gvfsafpconnection.c
M	daemon/gvfsafpconnection.h
M	daemon/gvfsafpserver.c
M	daemon/gvfsafpserver.h
M	daemon/gvfsafputils.c
M	daemon/gvfsafputils.h
A	daemon/gvfsafpvolume.c
A	daemon/gvfsafpvolume.h
M	daemon/gvfsbackendafp.c
M	daemon/gvfsbackendafpbrowse.c

commit a1af02aee5d076e042502569d59d350d03839baf
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-11-22

    afp: Add support for making backups when server has support for
    FPExchangeFiles

    Instead of deleting the temporary file after doing the FPExchangeFiles
    call we
    rename the temporary file to "~filename" since it holds the old
    contents of the
    file.

M	daemon/gvfsbackendafp.c

commit 35cf2feab74059065b23073b8bb3bcd8a3786bbf
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-11-22

    afp: fix leak of AfpHandle::tmp_filename

M	daemon/gvfsbackendafp.c

commit 86cca680ec185d0a74fa948485d221bc9efe9181
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-11-06

    afp: change g_vfs_afp_connection_get_server_info to
    g_vfs_afp_query_server_info

    It's unnecessary to create a GVfsAfpConnection to retreive the
    server info

M	daemon/gvfsafpconnection.c
M	daemon/gvfsafpconnection.h
M	daemon/gvfsafpserver.c

commit 88866fdc3c34e8b9ce2d4435098885e67212ac40
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-09-26

    afp: move retrieval of volumes into GVfsAfpServer

    GVfsAfpServer now has a g_vfs_afp_server_get_volumes to retrieve
    the available
    volumes asynchronously.

M	daemon/gvfsafpserver.c
M	daemon/gvfsafpserver.h
M	daemon/gvfsbackendafpbrowse.c

commit 5207f0102fb3bad1505f70fed37435537905c46a
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-09-18

    afp: more string fixes after André's review

M	daemon/gvfsafpserver.c
M	daemon/gvfsbackendafp.c

commit 612ef0a3facb8473b5812f2f4e79942ed32b8473
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-09-01

    afp: move get_vol_parms to GVfsAfpServer

M	daemon/gvfsafpserver.c
M	daemon/gvfsafpserver.h
M	daemon/gvfsbackendafp.c

commit f0a4fe7e7cde9da102caa3a36eb417165499f768
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-09-01

    afp: move retrieval of server parameters into GVfsAfpServer

    add function g_vfs_afp_server_time_to_local_time to do the
    server time -> local time conversion

M	daemon/gvfsafpserver.c
M	daemon/gvfsafpserver.h
M	daemon/gvfsbackendafp.c

commit 4e7e87dec90fdfa936d21e7ef208213f53a78c35
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-31

    afp: do some string fixes and add some translator comments

M	daemon/gvfsafpconnection.c
M	daemon/gvfsbackendafp.c
M	daemon/gvfsbackendafpbrowse.c

commit 948b8bbd2b926a1b8da58afd93d568c713f85319
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-30

    afp: make GVfsAfpName an opaque type

M	daemon/gvfsafpconnection.c
M	daemon/gvfsafpconnection.h

commit 199973156a5b1975fa8ecccedf4fb93a32cac7b4
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-30

    afp: output the textual representation of undhandled error codes

    add a new function afp_result_to_gerror which does a generic
    AfpResultCode
    to GError mapping

M	daemon/Makefile.am
M	daemon/gvfsafpconnection.h
M	daemon/gvfsafpserver.c
A	daemon/gvfsafputils.c
A	daemon/gvfsafputils.h
M	daemon/gvfsbackendafp.c
M	daemon/gvfsbackendafpbrowse.c

commit ca382dd370cdeaac0d73f74db54eb5a90626798c
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	2012-01-21

    Updated Slovenian translation

M	po/sl.po

commit 4accc5c3896abae61df646e836ffbb02160e113b
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2012-01-21

    Updated Spanish translation

M	po/es.po

commit 8d64f9034e67aaad522533697eaf1361ae8e4031
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2012-01-21

    Don't forget to dist the udisks2 monitor

M	monitor/Makefile.am

commit 4460066746dd20415203354917da1e3568efddc8
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-01-20

    Add a link to the latest copy of udisks(8) man page

    e.g. http://udisks.freedesktop.org/docs/latest/udisks.8.html

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/what-is-shown.txt

commit 7b3fc203f779bf36bd901615b0806d6de78cbdf7
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	2012-01-20

    Updated POTFILES.in

M	po/POTFILES.in

commit 300f9c5040cc80654325a84b8e082241c135ade7
Merge: 23701b0 3f7f3da
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-01-20

    Merge branch 'master' into wip/udisks2

commit 23701b02d1fa87619fbba804f9a6529919ca05a1
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-01-20

    Update copyrights

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2drive.c
M	monitor/udisks2/gvfsudisks2drive.h
M	monitor/udisks2/gvfsudisks2mount.c
M	monitor/udisks2/gvfsudisks2mount.h
M	monitor/udisks2/gvfsudisks2utils.c
M	monitor/udisks2/gvfsudisks2utils.h
M	monitor/udisks2/gvfsudisks2volume.c
M	monitor/udisks2/gvfsudisks2volume.h
M	monitor/udisks2/gvfsudisks2volumemonitor.c
M	monitor/udisks2/gvfsudisks2volumemonitor.h
M	monitor/udisks2/udisks2volumemonitordaemon.c

commit 5f1a8f9d7144e07916c9fe3dab685715ad568eb8
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-01-20

    No need to handle force_rescan since we don't cache anything

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2mount.c

commit aacccf64f7042143a7ec1a4baad03d5dbddca174
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-01-20

    Reword a couple of comments

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2volume.c
M	monitor/udisks2/gvfsudisks2volumemonitor.c

commit 5876debe8c4e9f3b035e50155cb0630168252f25
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-01-20

    s/TODO/Idea/

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2volumemonitor.c

commit 003b45d3e5d7fc12f82481f7ee0268444db3a0c6
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-01-20

    Add a note explaining why we don't offer to save LUKS passphrases

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2volume.c

commit 8310b421d7e61f0ee14f7766ff5aac3813f37731
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-01-20

    Expand TODO item pontificating whether a GDrive should be added or not

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2volumemonitor.c

commit 71176998d938759cb0b4933ef1fe37158d572d54
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-01-20

    Also add UDISKS_IGNORE example

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/what-is-shown.txt

commit 44802979a1aa004407ba81d7166569c6fc20f436
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-01-20

    Mention that certain udev properties also influence what is shown

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/what-is-shown.txt

commit 02d42f3cd85a0475470163ab3c6bedae905c4b4a
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-01-20

    Respect Block:HintIgnore property

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2volumemonitor.c

commit e3abfad8bfcecedf266ab878e20455929215929b
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-01-20

    Use Block:HintAuto instead of Drive:Removable to determine automount

    This makes it possible to override with the UDISKS_AUTO property.

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2volume.c

commit 10e26fc2697cb01490803bd9f93df6db8149ce03
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-01-19

    Don't prompt for passphrase if it's already in the /etc/crypttab file

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2volume.c

commit 65058d3597ecc6329b3b9234f42b3d7e899feac6
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-01-18

    Fix typo in fstab example

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/what-is-shown.txt

commit 9f2ff580a9995e764076d3702538c465d7d687e4
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-01-18

    Fix typo

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/what-is-shown.txt

commit 861bfc5b900c620e85752f047bc76739c1f8af9c
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-01-18

    Clarify a couple of things in the what-is-shown.txt doc

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/what-is-shown.txt

commit 9cd1261803302c6122e2847ed12ca8439078d870
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-01-18

    Add text file describing how to influence what mounts are shown

    Signed-off-by: David Zeuthen <davidz@redhat.com>

A	monitor/udisks2/what-is-shown.txt

commit ea1360d6ce8eee37f0290011eb9f47cf10fcccc9
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-01-18

    Use comment=gvfs-show and -hide instead of -show=1|True|0|False

    This is also easier to express in the UI

     http://people.freedesktop.org/~david/palimpsest-fstab-gvfs-show-option.png

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2utils.c
M	monitor/udisks2/gvfsudisks2volumemonitor.c

commit 3f7f3da7a2dbac68ef2692c445c3a5afa17aaa8d
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-01-18

    Post release version bump

M	configure.ac

commit 6e8b7f5977d0faa50a51fe5dd3aecdf36f01b73c
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-01-18

    Update NEWS for 1.11.2 release

M	NEWS

commit ac597c44a52a5fc4c3e20ee75e7d82f691722feb
Author: Antoine Jacoutot <ajacoutot@openbsd.org>
Date:	2012-01-18

    build: Check for util.h to prevent implicit declaration

    https://bugzilla.gnome.org/show_bug.cgi?id=652623

    Signed-off-by: Tomas Bzatek <tbzatek@redhat.com>

M	configure.ac

commit a99b98567b888ea07123c9ecfcaec87826533232
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2012-01-18

    fuse: Remove the unused sys/vfs.h include

    https://bugzilla.gnome.org/show_bug.cgi?id=583927

M	client/gvfsfusedaemon.c

commit b2957d45cc41b2d9cec021ac4296c90e5fe61e17
Author: Daniel Nylander <po@danielnylander.se>
Date:	2012-01-18

    Updated Swedish translation

M	po/sv.po

commit c38ef360222489b564336c7a969255465445e968
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-01-17

    Rework and simplify code for determining if a volume/mount is to
    be shown

    In the process, start supporting the fstab option
    comment=gvfs-show=<val> with <val>=0|1|False|True

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2volumemonitor.c

commit 1c75aff19b7fb06e1d49de3fb108c648da4428be
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-01-17

    Fix off-by-one when parsing mount options with a value of length 1

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2utils.c

commit 1ec0d29ff43d7d35ed40f2887dcc1743084ba681
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-01-17

    Add a TODO item with a reference to bug 668132

    See https://bugzilla.gnome.org/show_bug.cgi?id=668132

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2volumemonitor.c

commit 97199fd9e85d0eab56bc72543a84ab99a2e30819
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2012-01-16

    Updated Norwegian bokmål translation

M	po/nb.po

commit 6e75275d82aea3e568e914179ee505961a731c97
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	2012-01-15

    Updated Slovenian translation

M	po/sl.po

commit 9c8242aeb18e2609d4b47f72aa6b5561b88fef6c
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	2012-01-15

    Updated Slovenian translation

M	po/sl.po

commit 7c83ffb9885713b4364407eec477bd50ce9fc88c
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:	2012-01-15

    Updated Galician translations

M	po/gl.po

commit da5cb512b4d230bdd6b173ebf31e050bb43aaab5
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:	2012-01-13

    Updated Hebrew translation.

M	po/he.po

commit 032e3d5dd8b81912d1494e7d68086fce60fd6af5
Author: Timo Jyrinki <timo.jyrinki@iki.fi>
Date:	2012-01-12

    Updated Finnish translation by Jiri Grönroos

M	po/fi.po

commit aea3065fab2ef8513b1e1cb3dbf6d0035df05bdb
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-01-10

    Use Drive:Ejectable to determine if a drive is ejectable

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2drive.c

commit d8cd1711a100fdd6553a8b243c3392a6e427f38c
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-01-10

    Use Drive:SortKey for sorting drive objects

    This ensures the drive sorting order defined by udisks is used.

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2drive.c

commit fb479cf0559c91bc0abd550e96f7aa9b156ba5e3
Author: Jean-Christian de Rivaz <jc@eclis.ch>
Date:	2011-12-22

    Make ftp.mount no longer conditionally built

    It doesn't require libsoup anymore after all.
    This was missing in the ff120f07aa8807b96ba79b2415715205a92db2ae
    commit.

    Signed-off-by: Jean-Christian de Rivaz <jc@eclis.ch>

M	daemon/Makefile.am

commit 9e2363b85534c2b3043f9ba1e78824b29ecc9957
Author: Jean-Christian de Rivaz <jc@eclis.ch>
Date:	2011-12-22

    The -f (foreground) option prevent libfuse to call daemon(). First,
    this is not required as g_spawn_async() already detach the
    process. Secondly, calling daemon() and then pthread_create() produce
    an undefined result accoring to Opengroup. On system with the uClibc
    library this will badly hang the process.

    Signed-off-by: Jean-Christian de Rivaz <jc@eclis.ch>

M	daemon/main.c

commit 5b46daeae964754f4938bebc8d91aebede3250c6
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2012-01-09

    Updated Spanish translation

M	po/es.po

commit 6d19c641e56ec6d07d1c6a87e92c9a437fcfab28
Author: Bastien Nocera <hadess@hadess.net>
Date:	2012-01-09

    programs: Print something when no recommended apps

M	programs/gvfs-mime.c

commit 2bb882b09538f0eb5e974de8c1d1db79c16230ae
Author: Alexander Shopov <ash@kambanaria.org>
Date:	2012-01-08

    Updated Bulgarian translation

M	po/bg.po

commit 6ef786c37cda80dfb7855a2c3bd98de358832a57
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2012-01-06

    Updated Norwegian bokmål translation

M	po/nb.po

commit a076fd290ddd2ce0e844b33fbd433acaaf86c6d3
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2012-01-06

    Updated Spanish translation

M	po/es.po

commit b4800b987b4a8423a52306c9aef35b3777464cc5
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-01-06

    Set should_automount and can_mount properties to make automounting
    work

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2volume.c

commit 0ba3edd76e0065f6a4229a3d4577698bbf252abf
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-01-06

    Use simpler version of g_unix_mount_should_display()

    The version in GIO tries to be helpful and returns FALSE for mount
    points the user
    cannot access. We don't want that behavior since it makes the whole
    thing act
    unpredictable especially if using multiple systems with various
    user ids.

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2volumemonitor.c

commit 6f485b42a7172e3604ea0eec937bbe0553a76db5
Author: Bastien Nocera <hadess@hadess.net>
Date:	2012-01-06

    programs: List recommended applications too

    As used by the app chooser button

M	programs/gvfs-mime.c

commit a78dee15d6c96e9cb608c4169da4ec2e82190691
Author: David Zeuthen <davidz@redhat.com>
Date:	2012-01-05

    Properly handle LABEL= and UUID= fstab entries

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2volumemonitor.c

commit c99b8f22d7aa0273acb4a8a4094a01920839234c
Author: Hideki Yamane <henrich@debian.org>
Date:	2012-01-04

    Updated Japanese translation

M	po/ja.po

commit d4beb8fbd3451a2e89c0ce17c44fec53d40563a6
Author: Jovan Naumovski <jovan3.14@gmail.com>
Date:	2012-01-02

    Updated Macedonian translation.

M	po/mk.po

commit efbee48cb754ba67d2723b8d216187c0b6f05e34
Author: Muhammet Kara <muhammet.k@gmail.com>
Date:	2011-12-24

    [l10n]Updated Turkish translation

M	po/tr.po

commit b6f13596478ddf234ae814cd007ab806a80cb5c1
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-12-22

    Use a timeout of ten seconds when spawning commands

    This is helpful in the presence of e.g. unreachable NFS servers etc.

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2mount.c
M	monitor/udisks2/gvfsudisks2utils.c
M	monitor/udisks2/gvfsudisks2utils.h
M	monitor/udisks2/gvfsudisks2volume.c

commit b9ccc6617f230a96938642ecb0aa65da3530e5d8
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-12-22

    Spawn helpers asynchronously, not synchronously

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2mount.c
M	monitor/udisks2/gvfsudisks2utils.c
M	monitor/udisks2/gvfsudisks2utils.h
M	monitor/udisks2/gvfsudisks2volume.c

commit c9826804e9cce6f5d82efbb626274fdadc9a2ce9
Author: Xandru Armesto <xandru@softastur.org>
Date:	2011-12-22

    Updated asturian translation

M	po/ast.po

commit d13e4275c1780f7fa5a57a9ea93eae5186aa192d
Merge: 08e3b0b 86f5eda
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-12-22

    Merge branch 'master' into wip/udisks2

commit 86f5edac9015ac0376a9be3b7816623613f6f130
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-12-19

    Post release version bump

M	configure.ac

commit aaa65135d15fa771e33eb5295d6233af5932dd40
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-12-19

    Update NEWS for 1.11.1 release

M	NEWS

commit 19fff869d83df145d7ee360c83001d6b86c736db
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2011-12-14

    Updated Norwegian bokmål translation

M	po/nb.po

commit 08e3b0b98c6c52b802b78405dfe9553e6af8396f
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-12-12

    Use comment=gvfs-name=VALUE and comment=gvfs-icon=VALUE

    We really just want to use x-gvfs-name and x-gvfs-icon that a future
    util-linux release is guaranteed to support. But it doesn't look like
    this is supported right now.

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2volume.c

commit 78468ff2e3e7ebef085e532a66acfcab8501603f
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:	2011-12-10

    Updated Hebrew translation.

M	po/he.po

commit fd26affc5a300a9f5b9fa3155ba15507451824af
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	2011-12-08

    Updated Slovenian translation

M	po/sl.po

commit 9b0742bdf4d76604f2c019dbe8ec93324c643f5f
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2011-12-02

    Updated Spanish translation

M	po/es.po

commit 4611c47fb8b74be20b8cb2a33141f0ef54b0b566
Author: Bastien Nocera <hadess@hadess.net>
Date:	2011-12-01

    afc: Add support for iOS5 thumbnails

M	daemon/gvfsbackendafc.c

commit 4c0236e0580d1f6f5184791783bf25251b105b0f
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:	2011-12-01

    afc: tweak the text used to report a device locked error

    https://bugzilla.gnome.org/show_bug.cgi?id=665328

M	daemon/gvfsbackendafc.c

commit f952d7c1cac59d47679049f544e44eb0d25d0ccd
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:	2011-12-01

    afc: invert the choices order for the device passcode dialog

    Buttons are layed out in reverse order, and the positive action is on
    the right hand side.

    https://bugzilla.gnome.org/show_bug.cgi?id=665328

M	daemon/gvfsbackendafc.c

commit edda2efe789bbc40666119b3e6aea9fdf5a13efa
Merge: 90e8e59 b19d6cf
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-11-29

    Merge branch 'master' into wip/udisks2

commit b19d6cf9e7424fcdc2f47caa70d678a07bee1304
Author: Changwoo Ryu <cwryu@debian.org>
Date:	2011-11-26

    Updated Korean translation

M	po/ko.po

commit 1ad17d073cc75d28a26d8e5f46403dcfc9ed3627
Author: Gabor Kelemen <kelemeng@gnome.hu>
Date:	2011-11-24

    Updated Hungarian translation

M	po/hu.po

commit 6929e9f9661b4d1e68f8912d8e60107366255a47
Author: Bastien Nocera <hadess@hadess.net>
Date:	2011-11-16

    http: Automatically decompress gzip'ed streams

    The content-encoding of served files was completely ignored and
    application,
    even though they were getting a content-type of "text/xml" for
    example,
    were served gzip'ed data.

    Enable the content decoder. Fixes parsing of multiple RSS feeds
    in totem-pl-parser.

    https://bugzilla.gnome.org/show_bug.cgi?id=664200

M	daemon/gvfsbackendhttp.c

commit 47a61b04fe209fc76b92de874c446d0a3f44c276
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-11-14

    Explicitly intialize mutexes on stack

    Turned out zeroing memory is not enough in some cases so let's be
    on the safe side and properly initialize all non-static mutexes.
    Also, don't initialize/clear the static ones.

M	client/gvfsfusedaemon.c
M	common/gmountsource.c
M	common/gmounttracker.c
M	daemon/gvfsbackendafc.c
M	daemon/gvfsbackendftp.c
M	daemon/gvfsbackendgphoto2.c
M	daemon/gvfsbackendnetwork.c
M	daemon/gvfsbackendobexftp.c
M	daemon/gvfsbackendsmbbrowse.c
M	daemon/gvfsdaemon.c
M	daemon/gvfsftpdircache.c
M	daemon/trashlib/trashexpunge.c

commit 200fe6ee11a2bdc244d7ee9335940079756fb66b
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-11-14

    daemon: Do not unref NULL mount spec

    This is going away with GDBus port, but still...

M	daemon/mount.c

commit 90e8e5989558fdb481946da46de86d8d29f27237
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-10-30

    Catch up with udisks change from major/minor to dev_t

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2drive.c
M	monitor/udisks2/gvfsudisks2volume.c

commit da3ca12ab830f58c527cb8e8e4193647300cef12
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:	2011-10-27

    Updated Hebrew translation.

M	po/he.po

commit ea4e18b0f452ca8058a28a2202ef858df57b837d
Merge: 5dda97b a76da48
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-10-26

    Merge branch 'master' into wip/udisks2

commit a76da485ceb30cc67ad63513d1e3272879c67722
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-10-26

    Post release version bump

M	configure.ac

commit f0a29de7b7d2d51119d50686d314ac6a7e406313
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-10-26

    Update NEWS for 1.11.0 release

M	NEWS

commit 008031adbe2fd118a4e9a3c7219a9777cab1bb75
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-10-26

    Adapt to glib thread API changes

    Last piece in order to fix
    https://bugzilla.gnome.org/show_bug.cgi?id=661148

M	client/gvfsfusedaemon.c
M	daemon/trashlib/trashexpunge.c

commit 185c4ac9c83aac035d2b49ecd95130aa5167e7c2
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-10-25

    Adapt to glib mutex API changes

    A continuation to https://bugzilla.gnome.org/show_bug.cgi?id=661148

M	client/gvfsfusedaemon.c
M	common/gmountsource.c
M	daemon/gvfsbackendafc.c
M	daemon/gvfsbackendftp.c
M	daemon/gvfsbackendftp.h
M	daemon/gvfsbackendgphoto2.c
M	daemon/gvfsbackendnetwork.c
M	daemon/gvfsbackendobexftp.c
M	daemon/gvfsbackendsmbbrowse.c
M	daemon/gvfsdaemon.c
M	daemon/gvfsftpdircache.c
M	daemon/gvfsftptask.c
M	daemon/trashlib/trashexpunge.c
M	daemon/trashlib/trashitem.c

commit 4fc2443a9003c14e08da6002d8dd4a50efc1202f
Author: krishnababu k <kkrothap@redhat.ocm>
Date:	2011-10-25

    Updated Telugu translations

M	po/te.po

commit 091af5f0498fe0c3eb1bc933d2728f6d65b5c1ce
Author: krishnababu k <kkrothap@redhat.ocm>
Date:	2011-10-18

    Updated Telugu translations

M	po/te.po

commit 5dda97bde88f6fc667f8522837591255f0e0301b
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-10-24

    udisks2: catch up with latest udisks changes

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2volume.c

commit ce2415fef8ed031317b23044894a940e01f39d3b
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-10-22

    udisks2: fix check for whether the umount(8) command should be used

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2mount.c

commit 0e3f4aafae7b7353c83775cca6ae25d17770968d
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:	2011-10-22

    Updated Hebrew translation.

M	po/he.po

commit bd014bd8a442cae12aace7deb6e6a4d21ac3dd0e
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2011-10-21

    Adapt to GLib 2.31 deprecations and thread API changes

    GStaticMutex and GStaticRWLock have been replaced by GMutex
    and GRWLock, and g_thread_init() is no longer needed.

    https://bugzilla.gnome.org/show_bug.cgi?id=661148

M	client/gdaemonvfs.c
M	client/gvfsdaemondbus.c
M	client/gvfsfusedaemon.c
M	common/gmounttracker.c
M	configure.ac
M	daemon/daemon-main.c
M	daemon/gvfsdaemonutils.c
M	daemon/main.c
M	metadata/metatree.c
M	monitor/proxy/gvfsproxyvolumemonitordaemon.c

commit 90372ae6344398beaca9ef8c37ba2704014a5c39
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2011-10-21

    Use g_atomic_int_add instead of deprecated
    g_atomic_int_exchange_and_add.

    https://bugzilla.gnome.org/show_bug.cgi?id=659815

M	client/gdaemonfileenumerator.c
M	client/gdaemonfilemonitor.c
M	daemon/gvfsftpconnection.c
M	daemon/gvfsmonitor.c
M	metadata/metatree.c

commit 94489e37b70992961c7afddbb2b875a907a4f35f
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:	2011-10-19

    build: require GLib 2.31.0

    Last commit uses new API in GIO, which is only available in GLib
    master
    (2.31.0).

M	configure.ac

commit b8ab85bc14d6df1febaaad90359141a4905aeb27
Merge: 981b950 2b5e26a
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-10-18

    Merge branch 'master' into wip/udisks2

commit 2b5e26a0ca1f9a38fe981f431ee6fc29180d8fff
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-10-13

    Support get_sort_key() in out-of-process volume monitors and
    gvfs-mount(1)

    This is detailed in this bug

     https://bugzilla.gnome.org/show_bug.cgi?id=661711

    Also extend the private D-Bus protocol used between the client- and
    service-side for out-of-process volume monitors. In particular,
    introduce a new a{sv} member that we can use in the future to for
    expansion without breaking ABI.

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/proxy/gproxydrive.c
M	monitor/proxy/gproxymount.c
M	monitor/proxy/gproxyshadowmount.c
M	monitor/proxy/gproxyvolume.c
M	monitor/proxy/gproxyvolumemonitor.c
M	monitor/proxy/gvfsproxyvolumemonitordaemon.c
M	programs/gvfs-mount.c

commit c3a401f8314588e0d16d7eecf2ad8a9c815645eb
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-10-17

    Post branching version bump

M	configure.ac

commit edab3fe25027cbf24c24b81dc1e05077cec4c7dc
Author: Nguyễn Thái Ngọc Duy <pclouds@gmail.com>
Date:	2011-10-17

    Updated Vietnamese translation

M	po/vi.po

commit c73f0019c6cb225fd8bb215c138494fd7673ba2a
Author: Nguyễn Thái Ngọc Duy <pclouds@gmail.com>
Date:	2011-10-17

    po/vi: import from Damned Lies

M	po/vi.po

commit 981b95035a94e1f4d8aa0cf0c387d4be04ef01f4
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-10-14

    udisks2: update volume monitor when the volume changes

    Otherwise we may not associated the GMount with the GVolume.

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2volume.c

commit 62b8df0bc915149f8c64a04423453ee4f0109d2f
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-10-14

    udisks2: Check for NULL volume when unmounting

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2mount.c

commit 3347b1f9a4aedb8235542b7b4ccc5306dc8b6650
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-10-14

    udisks2: implement get_sort_key() methods

    This depends on the GIO patch in
    https://bugzilla.gnome.org/show_bug.cgi?id=661711

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2drive.c
M	monitor/udisks2/gvfsudisks2mount.c
M	monitor/udisks2/gvfsudisks2volume.c

commit 0d8d5b678dcdb67b95c5863dcab8463842529e66
Merge: e56eb56 42d800f
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-10-14

    Merge branch 'master' into wip/udisks2

commit 42d800f377dfa4e7338c516d286aef0b76bb1f72
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2011-10-13

    Drop an unneeded include

    GLib recently became less forgiving about single includes
    like this.

M	client/gvfsfusedaemon.c

commit 36f5ca6c59024363169f82642596e791b3733cd6
Author: Colin Walters <walters@verbum.org>
Date:	2011-10-12

    Purge hardcoded -DG_DISABLE_DEPRECATED

    Especially now that deprecations are proper gcc warnings, no need
    to hardcode this.

M	client/Makefile.am
M	common/Makefile.am
M	daemon/Makefile.am
M	metadata/Makefile.am
M	monitor/afc/Makefile.am
M	monitor/gdu/Makefile.am
M	monitor/gphoto2/Makefile.am
M	monitor/hal/Makefile.am
M	monitor/proxy/Makefile.am
M	programs/Makefile.am
M	test/Makefile.am

commit 80fb85055d06805d5b67c24be5047f7cad44798c
Author: Colin Walters <walters@verbum.org>
Date:	2011-10-12

    autogen.sh: Conform to build-api.txt

    http://people.gnome.org/~walters/docs/build-api.txt

M	autogen.sh

commit e56eb56d445afc87f49971234736144d54e25bb6
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-10-10

    Support floppy drives

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2drive.c
M	monitor/udisks2/gvfsudisks2volume.c
M	monitor/udisks2/gvfsudisks2volumemonitor.c

commit 51101993ea9c5cb7dabab4ae6cab8621abc8a038
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-10-07

    udisks2: handle when g_dbus_interface_get_object() returns NULL

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2mount.c
M	monitor/udisks2/gvfsudisks2volume.c
M	monitor/udisks2/gvfsudisks2volumemonitor.c

commit ee87351c572adf82fc142e489a49f2b2458d1c90
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-10-06

    udisks2: nuke even more debug spew

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2volumemonitor.c

commit 9c58e408bbb0cb08891f48ce5496897a806aa6f5
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-10-06

    udisks2: nuke debug spew

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2volumemonitor.c

commit 62ebe3061f5693ad24a22d7e2230ea9bb9945305
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-10-06

    udisks2: handle when a mount is added before its containing volume

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2mount.c
M	monitor/udisks2/gvfsudisks2mount.h
M	monitor/udisks2/gvfsudisks2volumemonitor.c

commit 89784d4493a9d482ec3fd6559a5fa4c30958180d
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-10-06

    udisks2: also use comment=gvfs.{name,icon_name} in the udisks case

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2utils.c
M	monitor/udisks2/gvfsudisks2utils.h
M	monitor/udisks2/gvfsudisks2volume.c

commit cd109212308285d32c6db52599dfb9d1fcc480c2
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-10-06

    udisks2: don't show fstab volume if the ref device exists but has
    no media

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2volumemonitor.c

commit 5c2fc336ee9aaeb339b05b568ca5e8a3e415a390
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-10-05

    udisks2: handle display, unlock/mount and unmount/lock of LUKS devices

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2mount.c
M	monitor/udisks2/gvfsudisks2volume.c
M	monitor/udisks2/gvfsudisks2volumemonitor.c

commit 0d47c8cf3b15a5787f569ec3326836038d20d880
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-10-04

    udisks2: URI unescape mount options read from /etc/fstab

    For example, if the /etc/fstab file contains this line

     defaults,users,comment=gvfs.name=Photos%2C%20Media%20and%20Stuff,comment=gvfs.icon_name=folder-videos

    then this call

     lookup_mount_option_value(mount_point, "comment=gvfs.name=")

    will return the string

     'Photos, Media and Stuff'

    as expected.

    See https://bugzilla.gnome.org/show_bug.cgi?id=660536#c11 for details.

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2volume.c

commit 00ddbbb507406fa295c1e9c8540d2c69c5f7aa00
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-09-30

    udisks2: use udisks hints for name and icon

    For example, these two udev rules matches a) disk; and b) first
    partition on my HP usb stick:

     SUBSYSTEMS=="block", ID_SERIAL=="HP_v125w_3S0208300278-0:0",
     ENV{DEVTYPE}=="disk", ENV{UDISKS_NAME}="Overriden Name",
     ENV{UDISKS_ICON_NAME}="gnome-help"
     SUBSYSTEMS=="block", ID_SERIAL=="HP_v125w_3S0208300278-0:0",
     ENV{DEVTYPE}=="partition", ENV{UDISKS_NAME}="Overriden Volume",
     ENV{UDISKS_ICON_NAME}="calc"

    and gives this result

     Drive(1): Overriden Name
       Type: GProxyDrive (GProxyVolumeMonitorUDisks2)
       ids:
	unix-device: '/dev/sdb'
       themed icons:  [gnome-help]  [gnome]
       is_media_removable=1
       has_media=1
       is_media_check_automatic=1
       can_poll_for_media=0
       can_eject=1
       can_start=0
       can_stop=0
       start_stop_type=unknown
       Volume(0): Overriden Volume
	 Type: GProxyVolume (GProxyVolumeMonitorUDisks2)
	 ids:
	  unix-device: '/dev/sdb1'
	  uuid: '3919-1907'
	  label: 'DOS'
	 themed icons:	[calc]
	 can_mount=0
	 can_eject=1
	 should_automount=0

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2volume.c

commit 3a7df6f425cf96e1a09845513f1f5c4edfb57343
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-09-30

    udisks2: Catch up with udisks changes

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2drive.c
M	monitor/udisks2/gvfsudisks2volume.c

commit 9c2a9b4da43edf22d24fb7b9f349cba9a83bdc5c
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-09-29

    udisks2: support fstab comments to set name and icon

    For example, for this /etc/fstab entry

     nfs-server:/path/to/dir  /media/somewhere	nfs4
     defaults,users,comment=gvfs.name=Foo\040Bar,comment=gvfs.icon_name=gnome-help
     0 0

    the name "Foo Bar" and the icon gnome-help is used.

    This depends on the glib2 patch from this bug

     https://bugzilla.gnome.org/show_bug.cgi?id=660536

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2volume.c

commit 9766cbf2194a5c3ed63b782db1da1b54758ff8c7
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-09-29

    udisks2: prefer udisks volume to fstab mount point if both exist

    Also, for device fstab mount points, only show it in the file chooser
    if we actually have a device for it.

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2volumemonitor.c

commit 8a06bc172b66857c41ec08eb91815a9b8e380bf8
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-09-29

    udisks2: generate volume objects from /etc/fstab entries

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2mount.c
M	monitor/udisks2/gvfsudisks2mount.h
M	monitor/udisks2/gvfsudisks2utils.c
M	monitor/udisks2/gvfsudisks2utils.h
M	monitor/udisks2/gvfsudisks2volume.c
M	monitor/udisks2/gvfsudisks2volume.h
M	monitor/udisks2/gvfsudisks2volumemonitor.c

commit 4f37ff4df75c9a8e80f06b9da2498d0e409923b0
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-09-29

    udisks2: support unmounting non-udisks mounts using the /bin/umount
    command

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2mount.c
M	monitor/udisks2/gvfsudisks2volumemonitor.c

commit 330216775fbf22baa7089834f78d9a3d20e4f677
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-09-29

    udisks2: don't leak the processes array

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2mount.c

commit 330f457f6b6b4cc34b17094efc73326b1d50aa5e
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-09-29

    udisks2: report x-content/blank-* type for blank discs

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2mount.c

commit 02ca61f8dbbebbdb4ec6a17527daf6035af2a110
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-09-29

    udisks2: handle blank and audio discs

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2mount.c
M	monitor/udisks2/gvfsudisks2volume.c
M	monitor/udisks2/gvfsudisks2volumemonitor.c

commit 1f5c16b8ac679b322f2bed33c8e6cc5ed6096ff3
Author: Michael Terry <michael.terry@canonical.com>
Date:	2011-09-29

    daemon: Grab a pointer to the GvfsBackend before unref'ing a job
    source, preventing a crash.

    https://bugzilla.gnome.org/show_bug.cgi?id=654999

M	daemon/gvfsjobunmount.c

commit 9dd0f5afc61d9f10b183ab7b6d3dd5b1e6aaf81e
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-09-28

    udisks2: nuke debug spew

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2drive.c
M	monitor/udisks2/gvfsudisks2volume.c
M	monitor/udisks2/gvfsudisks2volumemonitor.c

commit f3f6a9a10ce427001805849e6e74959154cf27dc
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-09-28

    Map UDisksError to GIOError and use FAILED_HANDLED for dismissed
    polkit dialogs

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/Makefile.am
M	monitor/udisks2/gvfsudisks2drive.c
M	monitor/udisks2/gvfsudisks2mount.c
A	monitor/udisks2/gvfsudisks2utils.c
A	monitor/udisks2/gvfsudisks2utils.h
M	monitor/udisks2/gvfsudisks2volume.c

commit d10afcce3ca1f90e860eae8c8ab64a32daef8d0f
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-09-28

    udisks2: (partially) implement guess_content_type() methods

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2mount.c
M	monitor/udisks2/gvfsudisks2volumemonitor.c
M	monitor/udisks2/gvfsudisks2volumemonitor.h

commit a120992e117fea554055aceb52bc8377583dc754
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-09-28

    udisks2: implement eject methods

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2drive.c
M	monitor/udisks2/gvfsudisks2mount.c
M	monitor/udisks2/gvfsudisks2volume.c

commit c5df9130880549f29bd183860b6fe32640898ccc
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-09-28

    udisks2: implement mount and unmount methods

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2drive.c
M	monitor/udisks2/gvfsudisks2mount.c
M	monitor/udisks2/gvfsudisks2mount.h
M	monitor/udisks2/gvfsudisks2volume.c
M	monitor/udisks2/gvfsudisks2volumemonitor.c
M	monitor/udisks2/gvfsudisks2volumemonitor.h

commit 02e39c7071f6066c41d591b482fcc03cf7002c7b
Merge: 1185586 7f97637
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-09-28

    Merge branch 'master' into wip/udisks2

commit 7f976371da249ef587925145c0eedf9f86f4696d
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-09-27

    Keep remote volume monitor proxies alive forever

    Once constructed, it's a) more efficient; and b) simplifies the code;
    if we keep the proxy for a remote volume monitor process around.

    More importantly, this change sidesteps some thorny bugs in the
    current implementation where the remote volume monitor proxy has been
    disposed but not yet finalized - for some volume monitors, this can
    happen not only pathological situations but also when running
    e.g. gvfs-mount(1) to mount a volume.

    https://bugzilla.gnome.org/show_bug.cgi?id=660295

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/proxy/gproxyvolumemonitor.c

commit 4bcca91a712a51f44eecd7de40faaae14318fcbe
Author: YunQiang Su <yqsu@src.gnome.org>
Date:	2011-09-28

    update zh_CN translation

M	po/zh_CN.po

commit 11855863742f7c3ac9a83a8d22fc824d29e2fd17
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-09-27

    Implement rudimentary parts of the udisks2 volume monitor

    Still a lot of stuff missing.

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/Makefile.am
A	monitor/udisks2/gvfsudisks2drive.c
A	monitor/udisks2/gvfsudisks2drive.h
A	monitor/udisks2/gvfsudisks2mount.c
A	monitor/udisks2/gvfsudisks2mount.h
A	monitor/udisks2/gvfsudisks2volume.c
A	monitor/udisks2/gvfsudisks2volume.h
M	monitor/udisks2/gvfsudisks2volumemonitor.c
M	monitor/udisks2/gvfsudisks2volumemonitor.h

commit 415040a4fb81a75e659d1f224d0cf9ebe8f5f274
Author: Changwoo Ryu <cwryu@debian.org>
Date:	2011-09-27

    Updated Korean translation

M	po/ko.po

commit c1eb0b14afe55a7934da552a7d6a9060650837c8
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-09-26

    Clean up constructor

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2volumemonitor.c

commit 842c0d3e4a0ca1b6045cf36177ff93463ea53249
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-09-26

    Initialize udisks client

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/udisks2/gvfsudisks2volumemonitor.c

commit 1b9ffa0e23dfcbd58ad2711dfd94d2234607f3a9
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-09-26

    udisks2: Add empty volume monitor skeleton

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	configure.ac
M	monitor/Makefile.am
A	monitor/udisks2/Makefile.am
A	monitor/udisks2/gvfsudisks2volumemonitor.c
A	monitor/udisks2/gvfsudisks2volumemonitor.h
A	monitor/udisks2/org.gtk.Private.UDisks2VolumeMonitor.service.in
A	monitor/udisks2/udisks2.monitor
A	monitor/udisks2/udisks2volumemonitordaemon.c

commit d746ba5b4251c0818e8a52cde1699b94a01a2755
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-09-26

    Add autofoo goo for whether we should build udisks2-related bits

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	configure.ac

commit b67ee1c12a18c02802a87d1120654658a65bf0e3
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-09-26

    Post release version bump

M	configure.ac

commit d0e6d130792fa91d93c44e8c1610733cfa9a8e76
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-09-26

    Update NEWS for 1.10.0 release

M	NEWS
M	configure.ac

commit fc796c1e2d55bc238ee0a4f5f5f7ec7a8765b403
Author: Carles Ferrando <carles.ferrando@gmail.com>
Date:	2011-09-26

    [l10n]Updated Catalan (Valencian) translation

M	po/ca@valencia.po

commit 06b90ad61070926f322676204f24d93ba5799b27
Author: Petr Kovar <pkovar@redhat.com>
Date:	2011-09-26

    Update Czech translation

M	po/cs.po

commit 672e3da1a5b7332692cdc80ce38486999bf94368
Author: Christian Kirbach <Christian.Kirbach@googlemail.com>
Date:	2011-09-25

    [l10n] Updated German translation

M	po/de.po

commit 2a0026896225517883aa607121aad42c94593905
Author: Inaki Larranaga Murgoitio <dooteo@zundan.com>
Date:	2011-09-25

    Updated Basque language

M	po/eu.po

commit 82bdb754ffb6b73acd3e165bc602d24d2e6b39f8
Author: Nilamdyuti Goswami <ngoswami@redhat.com>
Date:	2011-09-24

    Updated Assamese Translations:bugzilla#659595

M	po/as.po

commit 2b346a5673208bd040eab852dae4661d97dc8f94
Author: Sweta Kothari <swkothar@redhat.com>
Date:	2011-09-23

    Updated Gujarati Translations

M	po/gu.po

commit 047ec4c60e6b0499df15c5648df7b37b459f815e
Author: Mario Blättermann <mariobl@gnome.org>
Date:	2011-09-22

    [l10n] Updated German translation

M	po/de.po

commit 94b38fbb34cdd0a2792b04becf8e840ebb911c9b
Author: Wouter Bolsterlee <wbolster@gnome.org>
Date:	2011-09-22

    Updated Dutch translation by Wouter Bolsterlee

M	po/nl.po

commit efef158eb1bf0d5733d31fe7f0a07d8b57e1b378
Author: Wouter Bolsterlee <wbolster@gnome.org>
Date:	2011-09-22

    Updated Dutch translation by Wouter Bolsterlee

M	po/nl.po

commit 86b6124c5307ccc3e070429d8e2d4dc73137eb0a
Author: Мирослав Николић <miroslavnikolic@rocketmail.com>
Date:	2011-09-20

    Updated Serbian translation

M	po/sr.po
M	po/sr@latin.po

commit e3f893753b454e962a0ef808d0122e135cf3e4b3
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	2011-09-20

    Updated Slovenian translation

M	po/sl.po

commit 6cbbfaa83fda133c74df5e12be628c05d91e5dc6
Author: Ask H. Larsen <asklarsen@gmail.com>
Date:	2011-09-19

    Updated Danish translation

M	po/da.po

commit c276f0ba65833ead1c8b1539fed8a4127b6be29d
Author: Gabriel Speckhahn <gabspeck@gmail.com>
Date:	2011-09-19

    Fixed a string in Brazilian Portuguese translation

M	po/pt_BR.po

commit 39e1c0a29e216157417198ab4c1faa76e850c9b9
Author: Theppitak Karoonboonyanan <thep@linux.thai.net>
Date:	2011-09-20

    Updated Thai translation.

M	po/th.po

commit d39d6ef1cc600799dc6e5d17ffb4f01e9d7448ec
Author: Zeeshan Ali (Khattak) <zeeshanak@gnome.org>
Date:	2011-09-15

    gdu volume monitor: Mark bootable mounts as such

    Add appropriate content-type for bootable mounts. Although
    'bootability'
    information is coming from libosinfo[1], we are not adding a
    dependency
    on it with this patch since libosinfo sets a boolean property on
    the udev
    device for us. We can then just query that property using gudev.

    [1] https://fedorahosted.org/libosinfo/

    https://bugzilla.gnome.org/show_bug.cgi?id=659109

M	monitor/gdu/Makefile.am
M	monitor/gdu/ggdumount.c

commit fb14146e6b0f9525ed6540c69f5c5122de1af00f
Author: Gabor Kelemen <kelemeng@gnome.hu>
Date:	2011-09-19

    Updated Hungarian translation

M	po/hu.po

commit a0e3349e58bef0073f275061cd9b7fbbdbe68fe5
Author: Gil Forcada <gforcada@gnome.org>
Date:	2011-09-17

    [l10n]Updated Catalan translation

M	po/ca.po

commit f7c01f1b6712637f0ef19ce198c85755a047ed44
Author: Jiro Matsuzawa <jmatsuzawa@src.gnome.org>
Date:	2011-09-17

    Updated Japanese translation

M	po/ja.po

commit a9b8c356f4c5e7c1e7d0e948a6b3c79d7caec0c5
Author: Claude Paroz <claude@2xlibre.net>
Date:	2011-09-15

    Updated French translation

    Contributed by Alexandre Franke and Claude Paroz

M	po/fr.po

commit 3c7847c828ef3a077e18cdd29aa6e913de149ea8
Author: Luca Ferretti <lferrett@gnome.org>
Date:	2011-09-14

    l10n: Updated Italian translation

M	po/it.po

commit ee20770056f9a3ed21b66deaba8b86233b7460f5
Author: dmustieles <daniel.mustieles@gmail.com>
Date:	2011-09-14

    Updated Spanish translation

M	po/es.po

commit a35b8f042f7ae19a906a45d19df36c052001790c
Author: Yinghua Wang <wantinghard@gmail.com>
Date:	2011-09-13

    update Simplified Chinese (zh_CN) translation

M	po/zh_CN.po

commit d78d56222308ca41328dcff369afb9ec1e7b2b84
Author: Alexander Shopov <ash@kambanaria.org>
Date:	2011-09-03

    Updated Bulgarian translation

M	po/bg.po

commit ba55c812b8af664e92916c4fc5a7f619fd69aad4
Author: Daniel Nylander <po@danielnylander.se>
Date:	2011-09-12

    Updated Swedish translation

M	po/sv.po

commit b8c28d44c299aa6059413f7f73c3102924f93f55
Author: Ihar Hrachyshka <ihar.hrachyshka@gmail.com>
Date:	2011-09-12

    Updated Belarusian translation.

M	po/be.po

commit 81556ff3a0c5cfe8dfe9e476de15fa29dd9a4704
Author: Rudolfs Mazurs <rudolfs.mazurs@gmail.com>
Date:	2011-09-11

    Updated Latvian translation.

M	po/lv.po

commit c45900861a9377730674c2eb965a526c0cc0a3e1
Author: Yuri Myasoedov <omerta13@yandex.ru>
Date:	2011-09-11

    Updated Russian translation

M	po/ru.po

commit dce771a06e682ab8e3bc7ccfd5e96adba4f4d111
Author: Duarte Loreto <happyguy_pt@hotmail.com>
Date:	2011-09-10

    Updated Portuguese translation

M	po/pt.po

commit c251bad8451eef4c21c7caf4a287d6333cece4d2
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	2011-09-08

    Updated Polish translation

M	po/pl.po

commit d126be6f54cffb0d3270fd72d4a00e8ab618272e
Author: Andreas Heik <andreas.heik@hrz.tu-chemnitz.de>
Date:	2011-09-08

    smb: Ignore read-only attribute for directories

    According to Microsoft Knowledge Base article the read-only attribute
    on a folder is being usually ignored by the system and applications.
    Let's ignore it in gvfs to avoid compatibility issues.
    http://support.microsoft.com/kb/326549/

    https://bugzilla.gnome.org/show_bug.cgi?id=598206

M	daemon/gvfsbackendsmb.c

commit 45530b98d09ffcfd689fccac9bfad1d74aeef7b8
Author: Andika Triwidada <andika@gmail.com>
Date:	2011-09-08

    Updated Indonesian translation

M	po/id.po

commit 6775d5ec56072e93992a82f70f4b236a9fa5dadd
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	2011-09-07

    Updated Slovenian translation

M	po/sl.po

commit 5d9c04986d1f18672d129be498b667f826683fdc
Author: Bruce Cowan <bruce@bcowan.me.uk>
Date:	2011-09-07

    Updated British English translation

M	po/en_GB.po

commit 0d6c532f5ddac493709d788aa99185151517900a
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-09-05

    Post release version bump

M	configure.ac

commit 4839ccdcf8826002b5176b7a042c4ca4ecebae46
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-09-05

    Update NEWS for 1.9.5 release

M	NEWS

commit 2e717f439bdd3107f14726fffdb1c00ac8942d8c
Author: Fran Dieguez <fran@openhost.es>
Date:	2011-09-04

    Updated galician translations

M	po/gl.po

commit 56fe0db1c59ebb09c4a242df89e6f8d0816955cf
Author: Ihar Hrachyshka <ihar.hrachyshka@gmail.com>
Date:	2011-09-04

    Updated Belarusian translation.

M	po/be.po

commit 2aa27ecd7c2982dec6bcd2d018716efeea5118f5
Author: A S Alam <aalam@users.sf.net>
Date:	2011-09-04

    update PunjabiTranslation

M	po/pa.po

commit 85843c12db86968916e35173ae7776f43891ef4f
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:	2011-09-03

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

M	po/zh_HK.po
M	po/zh_TW.po

commit 570fe2018f7b20f8ff0367b10d87a664716d15f5
Author: Aurimas Černius <aurisc4@gmail.com>
Date:	2011-09-03

    Updated Lithuanian translation

M	po/lt.po

commit 5d66e5648ac2fcc466e8dd62be72f7593ac8083c
Author: Ihar Hrachyshka <ihar.hrachyshka@gmail.com>
Date:	2011-09-02

    Updated Belarusian translation.

M	po/be.po

commit dba174d9c36e22f2a0431a7549af28dd7e776fc7
Author: Christian Kellner <gicmo@gnome.org>
Date:	2011-09-02

    dav: Fix small memory leak (display_name)

M	daemon/gvfsbackenddav.c

commit f95f3ccf6b272913f44407627d179fee0cb0d30e
Author: Dr.T.Vasudevan <agnihot3@gmail.com>
Date:	2011-09-01

    Updated Tamil translation

M	po/ta.po

commit 374960bc930d9ff20796d49fb9ceaf9bbd8b9485
Author: Dr.T.Vasudevan <agnihot3@gmail.com>
Date:	2011-09-01

    Updated Tamil translation

M	po/ta.po

commit ff56d924960be5ec7c179d6fa2a23093d36b46ad
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2011-09-01

    Added Norwegian bokmål translation

M	po/nb.po

commit 6a1b95f8c378b0fff2f2c29a6f8d44e5874ef843
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:	2011-08-30

    Updated Spanish translation

M	po/es.po

commit be3310cc058c6181838311e15f3537a9d901fec6
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:	2011-08-30

    Updated Spanish translation

M	po/es.po

commit 62d2a521df6a7adf8a1dc9598e81947a56c9f3b9
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-08-30

    smb: Always check for existing file on rename

    Libsmbclient reports no error when target file or directory
    exists and overwrites target file.

    https://bugzilla.gnome.org/show_bug.cgi?id=616645

M	daemon/gvfsbackendsmb.c

commit cbc96e8fffa0d63fae90d96a566e4000d100b492
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-08-30

    gdu: Don't ignore fstab mounts belonging to crypto volumes

    Since we always show crypto volumes, we should never ignore
    corresponding mounts even if they are supposed to be ignored.

    If we consider the opposite case, i.e. ignoring volumes that have
    corresponding mounts that should be hidden, we may end up with strange
    behaviour like volume disappearing after mount/unlock. It's not
    easily possible to determine that the particular unlocked volume
    is supposed to be mounted in 'hidden' path.

M	monitor/gdu/ggduvolumemonitor.c

commit 2fb4c8a53c95f479b7476aafcf782971264b3de0
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-08-29

    Post release version bump

M	configure.ac

commit 46dffd6cb07793c5c42e5f8394b467dff96baf09
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-08-29

    Update NEWS for 1.9.4 release

M	NEWS

commit 209bb3308bd31159796cd8a5750a165ba185a4e0
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-29

    afp: remove unused and crashy handling of Attention messages

    this should fix bgo#657383

M	daemon/gvfsafpserver.c

commit a94b84592163bc727ba15467d0fdf3ca7782f334
Author: Chris Wulff <crwulff@rochester.rr.com>
Date:	2011-08-29

    ftp: Fix return value of try_get_settable_attributes() on failure

    This fixes a crash on failed try_get_settable_attributes() call.

    https://bugzilla.gnome.org/show_bug.cgi?id=651729

M	daemon/gvfsbackendftp.c

commit 9dcde52c3e6b8164180cfe8a60896b6d5e1e8c97
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-08-29

    Ignore SIGPIPE signals to avoid process termination on cancelled
    transfer

    That way we would be able to properly get EPIPE when trying to
    write to
    a socket or pipe whose far end has been closed. This happens e.g. on
    file copy cancellation. Glib does similar thing on GSocket
    initialization.

    https://bugzilla.gnome.org/show_bug.cgi?id=649041

M	daemon/daemon-main.c
M	daemon/main.c

commit d48afc9cce04fb4aa0b2a45d81d5ce7c75ca954f
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:	2011-08-29

    Updated Spanish translation

M	po/es.po

commit d940fb7d4b8da66068dbef158a604f94e32ed2ee
Author: Ihar Hrachyshka <ihar.hrachyshka@gmail.com>
Date:	2011-08-28

    Updated Belarusian translation.

M	po/be.po

commit 2e39f66c186a573297c35c2272f40b48880b01fe
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2011-08-28

    Updated Norwegian bokmål translation

M	po/nb.po

commit 299a1bc3e0bdabb422100047ed842567b695f0ee
Author: Fran Dieguez <fran@openhost.es>
Date:	2011-08-28

    Updated galician translations

M	po/gl.po

commit e790cba45cfbd09a6246c7f47a20d928a48a734c
Author: Fran Dieguez <fran@openhost.es>
Date:	2011-08-28

    Updated galician translations

M	po/gl.po

commit 2f8fc7051afbbada40fad3c564064db634b79116
Author: Mario Blättermann <mariobl@gnome.org>
Date:	2011-08-28

    [l10n] Updated German translation

M	po/de.po

commit 31d184d2dd3fe4a6e8cc5fc5cfef2b9af957496d
Author: Mario Blättermann <mariobl@gnome.org>
Date:	2011-08-28

    [l10n] Updated German translation

M	po/de.po

commit e6b20ff4b2ddcc8279486310233170c276d7fb33
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:	2011-08-28

    Updated Spanish translation

M	po/es.po

commit a6db4eb2e09f592647ca22db8411b1da6678fd1d
Author: Aurimas Černius <aurisc4@gmail.com>
Date:	2011-08-27

    Updated Lithuanian translation

M	po/lt.po

commit d76dd8631fbb6e4c1c24e00adc9755c04c6a5792
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2011-08-26

    Updated Spanish translation

M	po/es.po

commit 88a8ec9bddf60275bb0b983695e61fe2698be276
Author: Bastien Nocera <hadess@hadess.net>
Date:	2011-08-26

    programs: Add simple gvfs-mime test application

    List the apps registered for a particular mime-type, and
    set a particular application as the default handler for a
    mime-type.

M	po/POTFILES.in
M	programs/Makefile.am
A	programs/gvfs-mime.c

commit 0079ad29ed8de830af3f6e3533f246934931c941
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2011-08-26

    Updated Norwegian bokmål translation

M	po/nb.po

commit 2ff16354d9103861f4d1d540c1ac0124b6ed7c92
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-26

    Revert "afp: start read loop directly on connect"

    This reverts commit 5c1242031634859004ce330581342c273a251d20.

M	daemon/gvfsafpconnection.c
M	daemon/gvfsafpconnection.h
M	daemon/gvfsafpserver.c

commit 7ab124383c9f7373d42b020f419a9c9561ea22ff
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-26

    Revert "afp: reuse g_vfs_afp_connection_send_command in the sync
    version"

    This reverts commit ecc1730d3bfdc11fa07f15893267a7ea054328f1.

M	daemon/gvfsafpconnection.c
M	daemon/gvfsafpconnection.h
M	daemon/gvfsafpserver.c
M	daemon/gvfsbackendafp.c

commit 24f281da541b14d5640c570cf909caed901a0e8c
Author: Daniel Nylander <po@danielnylander.se>
Date:	2011-08-26

    Updated Swedish translation

M	po/sv.po

commit c1e32502076af98d76f3c2fc6ca1fb5be7da80f2
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-25

    afp: change open_fork to be able to return file information for the
    opened fork

M	daemon/gvfsbackendafp.c

commit 02fc27ad301b56576d7afa219d1e08fbf66901d7
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	2011-08-25

    Updated POTFILES.in

M	po/POTFILES.in

commit c5ecea345cda45f670d89e0f2627afa199fadb30
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-25

    afp: make the afp backends optional

M	configure.ac
M	daemon/Makefile.am

commit 5c1242031634859004ce330581342c273a251d20
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-25

    afp: start read loop directly on connect

    also change g_vfs_afp_connection_get_server_info to take a
    GSocketConnectable
    instead of a GVfsAfpConnection

M	daemon/gvfsafpconnection.c
M	daemon/gvfsafpconnection.h
M	daemon/gvfsafpserver.c

commit ecc1730d3bfdc11fa07f15893267a7ea054328f1
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-25

    afp: reuse g_vfs_afp_connection_send_command in the sync version

M	daemon/gvfsafpconnection.c
M	daemon/gvfsafpconnection.h
M	daemon/gvfsafpserver.c
M	daemon/gvfsbackendafp.c

commit 87bc9f649e82d29ac27d4a3a55c994f375a0703c
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-24

    afp: add set_unix_privs function

    also use it in our attribute setting code

M	daemon/gvfsbackendafp.c

commit 3f53bd86ec7e7f7d0ed5e7eb62781fb011111dff
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-22

    afp: create file if it doesn't exist when doing replace

M	daemon/gvfsbackendafp.c

commit 208fed810f20271b7fba5c8edb6773644602f07c
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-22

    afp: implement copy

M	daemon/gvfsbackendafp.c

commit e70e80d574505dbfeb89e31269cc00d8866bf122
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-22

    afp: add copy_file function wrapping FPCopyFile

M	daemon/gvfsafpconnection.h
M	daemon/gvfsbackendafp.c

commit 2411f18823d4c88a00c47ae549c4719ae27b84c9
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-21

    afp: add move_and_rename utility function

M	daemon/gvfsbackendafp.c

commit 5e815c1cbb552d1433ae67f591be078403aa9f84
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-10

    afp: use FPGetFileDirParms when querying root volume info

M	daemon/gvfsbackendafp.c

commit d2d45d9bd08ca148510b4df638ea9fe9d9bcefa3
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-10

    afp: query for and set G_FILE_OWNER_[USER|USER_REAL|GROUP]

M	daemon/gvfsafpconnection.h
M	daemon/gvfsbackendafp.c

commit 0028fecf93021f0f736241db9c8764fa27d38b1b
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-15

    afp: fail replace early if the given file is a directory

M	daemon/gvfsbackendafp.c

commit 5037b20bc4f6b051812a7576fbbe245421cf55a3
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-15

    afp: print errors for some more results from FPExchangeFiles

M	daemon/gvfsafpconnection.h
M	daemon/gvfsbackendafp.c

commit 30d7423fdf12c5fff7c3b93393eaefdd0f070e23
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-15

    afp: check files etag when doing a replace

M	daemon/gvfsbackendafp.c

commit ddc05e2702d3421fe03089757dc4f2b11d4cef43
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-14

    afp: retrieve etag on close_write

M	daemon/gvfsbackendafp.c

commit 7248a087f9ee7500e3aaa2930e2b59b2b2832eb6
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-14

    afp: use delete function to delete temporary file

M	daemon/gvfsbackendafp.c

commit a51e854593bb7c291202aab5e2a9a831dcc2881a
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-14

    afp: change close_fork to take a gint16 fork_refnum parameter

M	daemon/gvfsbackendafp.c

commit 25fe18ebda237061bcda68cc30fb91494d4255e7
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-14

    afp: small cleanup in create_file

    use g_simple_async_result_set_op_res_gpointer to store data needed
    for the
    operation

M	daemon/gvfsbackendafp.c

commit 0f7c6f8795cb43467d7401bc52e24fb90da8d79e
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-14

    afp: replace some tabs with spaces

M	daemon/gvfsafpserver.c

commit e83e66caff7b8084b575c5fa38219b40c6c377b3
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-14

    afp: fix some memoryleaks

    change g_vfs_afp_connection_send_command to take a "char *reply_buf"
    paramater
    to use for storing the reply data instead of reusing the buf data
    pointer in
    GVfsAfpCommand

M	daemon/gvfsafpconnection.c
M	daemon/gvfsafpconnection.h
M	daemon/gvfsafpserver.c
M	daemon/gvfsbackendafp.c
M	daemon/gvfsbackendafpbrowse.c

commit 936a4dc3d63f4def4ef6e5eae716da26e8b8f98d
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-14

    afp: fix some leaks of GSimpleAsyncResults

M	daemon/gvfsafpconnection.c
M	daemon/gvfsbackendafp.c
M	daemon/gvfsbackendafpbrowse.c

commit 9d46e6ce8d00176ac08d1ed7fad43a4a415a7f56
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-13

    afp: change update_cache to use a GIO like api

M	daemon/gvfsbackendafpbrowse.c

commit 3a41dcabf49287438953bb4e3622cd493adfc395
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-09

    afp: read directly into the given read buffer

    this way we can skip an memcpy and gain some extra performance

M	daemon/gvfsafpconnection.c
M	daemon/gvfsafpconnection.h
M	daemon/gvfsbackendafp.c

commit 6fb8847eded26016eedd94f55608d56ab7796365
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-09

    afp: add a read_all_async function

M	daemon/gvfsafpconnection.c

commit 1be385aad348629dfbedb9e15e0eecbc4308ab2c
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-09

    afp: print better error message when trying to delete an open file

M	daemon/gvfsbackendafp.c

commit 76b50e1448a67c53282eec55619960c246efbad7
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-09

    afp: avoid useless copy when writing

M	daemon/gvfsafpconnection.c
M	daemon/gvfsafpconnection.h
M	daemon/gvfsbackendafp.c

commit 86c934c0c06ce9b23baa580354a674bc39ae1443
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-07

    afp: mount volumes as the user who is logged in in the afpbrowse
    backend

    this way you don't have to write your user credentials twice if
    you're first
    browsing a server and then mounting one of it's volumes.

M	daemon/gvfsafpserver.c
M	daemon/gvfsbackendafpbrowse.c

commit ef3653828ee408451e34975b4e169e2aa841e367
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-07

    afp: small indent fix

M	daemon/gvfsbackendafp.c

commit df3e3a0a90ceec0d9fbb9d561d165058ae5b0dbb
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-07

    afp: fix compile warnings

M	daemon/gvfsafpconnection.c

commit 1a04d440574a505c357e0fde07ee4a94dce896f4
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-07

    afp: implement enumerate for AfpVersion < 3.1

M	daemon/gvfsbackendafp.c

commit 6e9e3486be852d93152ec622fbf9b9c03086ee71
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-05

    afp: small indenting fixes

M	daemon/gvfsbackendafp.c
M	daemon/gvfsbackendafpbrowse.c

commit 4b9d6b51418d6885ff9db01d9fa9b1e707fd8d1c
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-03

    afp: set etag from mod time and fix bug when retreiving
    afp::children-count

M	daemon/gvfsbackendafp.c

commit 57111a53efb977bbeac170baadf55599bb786f16
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-02

    afp: return G_IO_ERROR_IS_DIRECTORY when trying to open a directory
    for read

M	daemon/gvfsbackendafp.c

commit 03aefc964366bc63c5de1ef94d8f6c863fe7a39c
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-02

    afp: implement move

M	daemon/gvfsafpconnection.h
M	daemon/gvfsbackendafp.c

commit 85c5aff27463992c5d4601213769b8069e1b4dd7
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-02

    afp: add and use defines for afp specific file attributes

M	daemon/gvfsbackendafp.c

commit c1aa8a97f866eca06927cd2bb45a40724b006089
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-02

    afp: fix renaming of files/directories outside of the root directory

    we now first query for the file's/directory's parent dir id which
    we then use
    in the FPRename command

M	daemon/gvfsbackendafp.c

commit 95e99da97b440a156a17f5488301f3b8325341f2
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-02

    afp: fix bug where we accidentaly popped two requests from the
    send queue

M	daemon/gvfsafpconnection.c

commit 7682cfeb26a5746eab1bbd16ef64fb06a47bba4b
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-01

    afp: use g_strcmp0 instead of g_str_equal in g_slist_find_custom

M	daemon/gvfsafpserver.c

commit 9b0061894a05f11544fda353e5349d98f83d1888
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-25

    afp: remove debug print

M	daemon/gvfsbackendafp.c

commit a71a17864a208a8f7f80d2744ea41397da9e658c
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-25

    afp: implement setting of G_FILE_ATTRIBUTE_UNIX_[MODE|UID|GID]

M	daemon/gvfsafpconnection.h
M	daemon/gvfsbackendafp.c

commit bed61a34821477bc580e1584b1065f3a9a6519db
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-25

    include gvfsdaemonprotocol.h in gvfsjobsetattribute.h since it uses
    GDbusAttributeValue

    https://bugzilla.gnome.org/show_bug.cgi?id=655264

M	daemon/gvfsjobsetattribute.h

commit 2e27aed8f443648ac2f47ddf948ee1d25317b14b
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-25

    afp: set G_FILE_ATTRIBUTE_ACCESS_CAN_[READ|WRITE|EXECUTE] from
    unix privs

M	daemon/gvfsbackendafp.c

commit 58be6dd38184c463e2b985864e016e94ad4cd07b
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-25

    afp: use goffset in g_vfs_afp_reply_seek

M	daemon/gvfsafpconnection.c
M	daemon/gvfsafpconnection.h

commit ca05fa89d7b07783335c8c0445be4ac0887d051b
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-25

    afp: skip undocumented pad bytes after UTF8Name_offset

M	daemon/gvfsbackendafp.c

commit b4426e51e906917b7a0e949c01cf8bc55f2ec61d
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-24

    afp: get UID and GID using FPGetUserInfo

M	daemon/gvfsafpconnection.h
M	daemon/gvfsbackendafp.c

commit b3f31774e1973085c5aa7ec0536bcab2c8b5f682
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-24

    afp: don't use FPExchangeFiles if the server doesn't support it

M	daemon/gvfsbackendafp.c

commit 007fbba5750d803f841c99e29040959888a4bd2e
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-24

    afp: implement replace for files where we can't create a temporary
    file

    instead we just write to the existing file and then truncate the
    file size

M	daemon/gvfsafpconnection.h
M	daemon/gvfsbackendafp.c

commit de063bfe8457c122409b9bdbbfaeaada1c0d21d6
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-23

    afp: s/Access denied/Permission denied/

M	daemon/gvfsbackendafp.c

commit 4158b740c9425c1b15be951ea460e93a629cbf23
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-23

    afp: better error handling when server doesn't support anonymous login

M	daemon/gvfsafpconnection.h
M	daemon/gvfsafpserver.c

commit a16937a25aece6576acb41c9eba42b5a4b90e64a
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-23

    afp: don't reference non existing variable

M	daemon/gvfsbackendafp.c

commit 513d5bd24d8c6eb48cb064378f6a1a1aea3534cb
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-23

    afp: remove retrieval of UserID since we're not going to use it

M	daemon/gvfsbackendafp.c

commit b5eb2904d5adb4c8ce7f554a2e9897049933814d
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-23

    afp: set proper error message for some more FPEnumerateExt2 errors

M	daemon/gvfsafpconnection.h
M	daemon/gvfsbackendafp.c

commit 0aea0397c000524880610fb77e7fd4db2ce442b0
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-23

    afp: fix bug when sending DsiTickle commands

    we accidentally stopped sending requests

M	daemon/gvfsafpconnection.c

commit 5f43cc1871b14d6c46f32cbfb2d31dc163a1e4d2
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-23

    afp: print some debug upon DSI_CLOSE_SESSION and DSI_TICKLE

M	daemon/gvfsafpconnection.c

commit b67c88af7023f5cb30fc8096091c6a3bce3c4084
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-23

    afp: small cosmetic change

M	daemon/gvfsafpconnection.c

commit 4d8d70013d57784756f62d80e5e6f8ac1d70aceb
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-23

	afp: fix problem with creating new directories outside the volume
	root directory

	we can't send a path to FPCreateDir so we first query the parent
	directory's
	node-id

M	daemon/gvfsbackendafp.c

commit 4118503a93418fb8609e4e598fadd008650a9890
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-23

    afp: fix problem with creating new files outside the volume root
    directory

    we can't send a path to FPCreateFile so we first query the parent
    directory's
    node-id

M	daemon/gvfsbackendafp.c

commit 5c5f921ef96531b41388a355ef1f4466cb07e0f5
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-23

    afp: add get_filedir_parms utility function

M	daemon/gvfsbackendafp.c

commit 0f3e0098aa8f1f1893a5e9db41c0d1532651c0a0
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-21

    afp: set afp::node-id attribute if requested

M	daemon/gvfsbackendafp.c

commit 0a54425de7ee2c4c8b0f32d0d259689d5cd320f1
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-21

    afp: set unix privilegies if available

M	daemon/gvfsafpconnection.h
M	daemon/gvfsbackendafp.c

commit 4cd5d1e70139aed969ce433fb86f4887d7fa68c6
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-19

    afp: retreive and store the user id for the logged in user

M	daemon/gvfsafpconnection.h
M	daemon/gvfsafpserver.c
M	daemon/gvfsafpserver.h
M	daemon/gvfsbackendafp.c
M	daemon/gvfsbackendafpbrowse.c

commit 8f45840d0ef3299538b626280bbfbc6aa09026d3
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-18

    afp: don't send commands which have been cancelled

M	daemon/gvfsafpconnection.c

commit a39ab511180917bcab2ef21e125adaafaa654e91
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-17

    afp: convert g_vfs_afp_connection_queue_command to the standard GIO
    async pattern

    also rename it to g_vfs_afp_connection_send_command

M	daemon/gvfsafpconnection.c
M	daemon/gvfsafpconnection.h
M	daemon/gvfsafpserver.c
M	daemon/gvfsbackendafp.c
M	daemon/gvfsbackendafpbrowse.c

commit 85403f7672a940dc8a9deceee0435c96466c85e4
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-16

    afp: implement query_fs_info

    also split out volume parameter fetching into an utility funciton

M	daemon/gvfsafpconnection.h
M	daemon/gvfsbackendafp.c

commit 4c8c936ec7c965424cd304a3bb8a24ac0574ea60
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-14

    afp: use GAsyncResult in open_fork

M	daemon/gvfsbackendafp.c

commit 631c3ddc9c7fa474d948a1a5fb6d5908ae2edb94
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-14

    afp: use randomized names for temporary files

M	daemon/gvfsbackendafp.c

commit 3313f69c792d922c6cabab829936cfc0a8e0b0c3
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-14

    afp: make close_fork use GAsyncResult and try to always remove
    temporary files

M	daemon/gvfsbackendafp.c

commit 3341e05cb9d01347aacdc4e9400bf8e47f72a584
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-14

    afp: use GSimpleAsyncResult in the create_file utility function

M	daemon/gvfsbackendafp.c

commit 80f6ee92b45088817058e145fc3c0578ab8eb895
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-13

    afp: fix invalid unref

M	daemon/gvfsafpconnection.c

commit 2fa9e6ad08a4a9b90b91af8ca79c6503d8180713
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-13

    afp: implement seek_on_write

    also split out getting fork parameters into a new function
    get_fork_parms

M	daemon/gvfsbackendafp.c

commit edfd66c80e7018d0a7093dc9798d62ce75265a32
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-11

    afp: delete temporary file

M	daemon/gvfsafpconnection.c
M	daemon/gvfsbackendafp.c

commit 63489ab39435705b2d5ef11201d7a3f30a727169
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-11

    afp: receive and print out server messages

M	daemon/gvfsafpconnection.c
M	daemon/gvfsafpconnection.h
M	daemon/gvfsafpserver.c

commit 0d52e171cf8c64dd7715fb6e8600ed767e3e75cf
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-10

    afp: implement basic file replace

M	daemon/gvfsafpconnection.h
M	daemon/gvfsbackendafp.c

commit a43f5c6578ef4e66730b36ca2e82b7a510e54368
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-10

    afp: dispatch DSI_WRITE replies

M	daemon/gvfsafpconnection.c

commit 0e53a440199e3806be7fa6a9263a33d6b7687387
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-10

    afp: use switch instead of case where it makes sense

M	daemon/gvfsbackendafp.c

commit 3cadd08cb98e59bdd9b43c77bf4c3b8c03ed65a6
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-07

    afp: add write support for newly created files

M	daemon/gvfsbackendafp.c

commit 343116c966fdec5da802821cab3e062040b641d2
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-07

    afp: normalize utf-8 strings from the server

M	daemon/gvfsafpconnection.c

commit b573d3260ec0a9c599986c672f94c2cd4ce7bf54
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-06

    afp: add support for renaming of files and direcotries

M	daemon/gvfsafpconnection.h
M	daemon/gvfsbackendafp.c

commit 5c4f459ff7318c36febd3739f8cb03053e87c61f
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-04

    afp: add g_vfs_afp_command_put_[byte|int|uint] functions and use these

M	daemon/gvfsafpconnection.c
M	daemon/gvfsafpconnection.h
M	daemon/gvfsbackendafp.c
M	daemon/gvfsbackendafpbrowse.c

commit d4f759e38bc5b5a2db32eeef3c039194a8208620
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-04

    afp: use put_pathname everywhere

M	daemon/gvfsbackendafp.c

commit 86e6f039c51162bf2e126b1b95b34b9995f1e819
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-03

    afp: implement directory creation

M	daemon/gvfsafpconnection.h
M	daemon/gvfsbackendafp.c

commit b66b30a4dd60840f9aa6ebe4373141fd2f7bd344
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-03

    afp: implement delete

M	daemon/gvfsafpconnection.h
M	daemon/gvfsbackendafp.c

commit cf333b94a497ea31a7c1ea84e317b8ef2ecc9904
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-03

    afp: add support for creating files

M	daemon/gvfsafpconnection.h
M	daemon/gvfsbackendafp.c

commit 3164e7b2117ec660ac452ba5acb8116b3f261472
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-07-02

    afp: factor out fork opening into a seprate function

M	daemon/gvfsbackendafp.c

commit 3e24cf21d9436e92758dd5931d18f1bc625ccfd4
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-06-24

    afp: fixup some indenting issues

M	daemon/gvfsafpconnection.c
M	daemon/gvfsafpconnection.h
M	daemon/gvfsbackendafp.c
M	daemon/gvfsbackendafpbrowse.c

commit f33e000cbfa859ebb3b7b0c7380f33e953389779
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-06-23

    afp: set icon from content type

M	daemon/gvfsbackendafp.c

commit 7ac97714d4ff436d96fabf1d2ca65ddec591f562
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-06-23

    afp: set custom attribute "afp::children-count" if requested

M	daemon/gvfsbackendafp.c

commit d842cf07ea161eae0447f2adb8f4ea77a0850617
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-06-23

    afp: add support for seeking on read

M	daemon/gvfsafpconnection.h
M	daemon/gvfsbackendafp.c

commit 4d02b2aee2a4d26a7a42d56c69c3ea0d0c0345ec
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-06-23

    afp: add read support

M	daemon/gvfsafpconnection.c
M	daemon/gvfsafpconnection.h
M	daemon/gvfsbackendafp.c

commit 137e94ccb5712ef5f8f082e00dde0956489fb706
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-06-22

    afp: guess content type from filename

M	daemon/gvfsbackendafp.c

commit 47fccc6d48b6d2d6edf540f20ebe1d881b5ddeaa
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-06-22

    afp: set file size if requested

M	daemon/gvfsbackendafp.c

commit 3da06546a2cddc967a79972ab6fbe75d504c3070
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-06-22

    afp: add g_vfs_afp_reply_read_(u)int64

M	daemon/gvfsafpconnection.c
M	daemon/gvfsafpconnection.h

commit 37bd869970c9eec5a8db08e23fae5209fede49cb
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-06-22

    afp: print some debug code when we receive a DSIAttention packet

M	daemon/gvfsafpconnection.c

commit c505f1c19b64e3c37bfe5f0099e9c4a4b25dcc03
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-06-22

    afp: remove unused enums

M	daemon/gvfsafpconnection.c
M	daemon/gvfsafpconnection.h
M	daemon/gvfsbackendafp.c

commit 503c32d49552b89e5a2d2364aa9fb02897c1f9a6
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-06-22

    afp: set file as hidden if it begins with a dot

M	daemon/gvfsbackendafp.c

commit a8c2f3d41214762197f52836a70afb142d06370e
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-06-22

    afp: fix small typo

M	daemon/gvfsafpconnection.h

commit 6aaa8318de46265435d43f2e84d962b318cbe471
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-06-22

    afp: query and set time created/modification time on files

M	daemon/gvfsafpconnection.c

commit eabbe18ca0d8e62933e9c4096ac76735e5404132
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-06-22

    afp: fix warning where we tried to NULL data to the output stream

M	daemon/gvfsbackendafp.c

commit 05d7f1efa82df76c43be64fac0884828d9ec5e60
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-06-21

    afp: read the invisible attribute and set the fileinfo accordingly

M	daemon/gvfsafpconnection.c
M	daemon/gvfsafpconnection.h
M	daemon/gvfsbackendafp.c

commit 6ff326715eea874c3a2ff557acf3db8f44b05a53
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-06-21

    afp: get basic file browsing working

M	daemon/gvfsafpconnection.c
M	daemon/gvfsafpconnection.h
M	daemon/gvfsbackendafp.c
M	daemon/gvfsbackendafpbrowse.c

commit d38d13dfd156cfe0e43eb1d03462a176298ce256
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-06-21

    afp: work on file enumeration

M	daemon/gvfsafpconnection.c
M	daemon/gvfsafpconnection.h
M	daemon/gvfsafpserver.c
M	daemon/gvfsafpserver.h
M	daemon/gvfsbackendafp.c

commit aec7c42dc109e3cf19cfbe25c0a2b1aa6d56e8b0
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-06-20

    afp: use UTF-8 ServerName if available

M	daemon/gvfsafpconnection.c
M	daemon/gvfsafpconnection.h
M	daemon/gvfsafpserver.c
M	daemon/gvfsafpserver.h
M	daemon/gvfsbackendafp.c
M	daemon/gvfsbackendafpbrowse.c

commit 4b505fd08dd144dc3393833ff83bcd2207568ff9
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-06-20

    afp: read UTF-8 Server Name from server info

M	daemon/gvfsafpconnection.c
M	daemon/gvfsafpconnection.h
M	daemon/gvfsafpserver.c
M	daemon/gvfsafpserver.h

commit 81fa29b69230fc40aeadbb415a2ccf6eaa7621a4
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-06-20

    afp: fix volume_id type

M	daemon/gvfsbackendafp.c

commit 9a547320ea6e7d245e89e1c9315f3bee79d22f0c
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-06-19

    afp: write our own data reading functions instead of relying on
    GDataInputStream

M	daemon/gvfsafpconnection.c
M	daemon/gvfsafpconnection.h
M	daemon/gvfsafpserver.c
M	daemon/gvfsafpserver.h
M	daemon/gvfsbackendafp.c
M	daemon/gvfsbackendafpbrowse.c

commit 6ed9bbbdf9b11cabcb7a1ce814fd55bfbf96bff9
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-06-18

    afp: register the afp urimapper

M	client/gdaemonvfs.c

commit b0cb95e48964c65c17bfb0f2534284878add46cd
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-06-17

    afp: work on query_info

M	daemon/gvfsafpconnection.c
M	daemon/gvfsafpconnection.h
M	daemon/gvfsafpserver.c
M	daemon/gvfsbackendafp.c
M	daemon/gvfsbackendafpbrowse.c

commit e32ef900ba0bd457b746b23ba81379992ef8885d
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-06-17

    afp: add new backend GVfsBackendAfp for mounting afp-volume shares

M	daemon/Makefile.am
A	daemon/afp.mount.in
M	daemon/gvfsafpconnection.h
A	daemon/gvfsbackendafp.c
A	daemon/gvfsbackendafp.h
M	daemon/gvfsbackendafpbrowse.c

commit 055e8dcc252a93ec8dc59a2c14d348ddbe2a0b08
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-06-17

    afp: fixup some errormessages in AfpServer

M	daemon/gvfsafpserver.c

commit 1094b55c9f7f65b5ae8b51715cd7d64ab3439b3c
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-06-16

    afp: implement try_mount_mountable in AfpBrowse

M	daemon/gvfsbackendafpbrowse.c

commit 97a38721fee149919fc28f59863acf10a5f98073
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-06-16

    afp: add support for Diffie-Hellman 2 authentication

M	daemon/gvfsafpserver.c

commit 0d9ee3370ceb842600c1480c516deefa42a36bbe
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-06-14

    afp: answer tickle messages

M	daemon/gvfsafpconnection.c

commit 06c88258933a6a37c8fceb9444b95a68a6e645a8
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-06-14

    afp: only show anonymous login as an option if the server supports it

M	daemon/gvfsafpserver.c

commit 086e3b296a2bda6edab0d4975e2e8bb2e3a947d0
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-06-14

    afp: rename afp backend to GVfsAfpBackendBrowse

M	daemon/Makefile.am
R073	daemon/afp.mount.in	daemon/afp-browse.mount.in
R090	daemon/gvfsbackendafp.c daemon/gvfsbackendafpbrowse.c
R050	daemon/gvfsbackendafp.h daemon/gvfsbackendafpbrowse.h

commit 92301b7aa9d6c55c17013ecf7261982b82cf3eaf
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-06-13

    afp: split out server logic into a separate class

M	daemon/Makefile.am
C056	daemon/gvfsbackendafp.c daemon/gvfsafpserver.c
A	daemon/gvfsafpserver.h
M	daemon/gvfsbackendafp.c
M	daemon/gvfsbackendafp.h

commit d32a6848e01be79f38e41206f1989924d1344bb2
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-06-13

    afp: implement user authentication using Diffie-Hellman 1

M	configure.ac
M	daemon/Makefile.am
M	daemon/gvfsafpconnection.c
M	daemon/gvfsafpconnection.h
M	daemon/gvfsbackendafp.c
M	daemon/gvfsbackendafp.h

commit f3049a2485d481353e9511a6db62e750fb7c146f
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-06-07

    afp: ask for username and password

M	daemon/gvfsbackendafp.c

commit 0aab50b4a7f21cc82afcd55e210fe1fd74040604
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-06-06

    afp: add an urimapper for afp

M	client/Makefile.am
A	client/afpuri.c
M	daemon/Makefile.am
M	daemon/afp.mount.in
M	daemon/gvfsbackendafp.c

commit a877c0b1863222c1a9ca07aad25065872b0f88fc
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-06-03

    afp: volume browsing now works

M	daemon/gvfsafpconnection.c
M	daemon/gvfsbackendafp.c

commit e8025856327d583ad14799549a1a7b06c3070929
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-06-03

    afp: try to enumerate volumes

M	daemon/gvfsafpconnection.c
M	daemon/gvfsafpconnection.h
M	daemon/gvfsbackendafp.c
M	daemon/gvfsbackendafp.h

commit d6c1fa7e6eb5fc02571e0315f004038d7ed11c92
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-05-30

    afp: work on mounting

M	daemon/gvfsafpconnection.c
M	daemon/gvfsafpconnection.h
M	daemon/gvfsbackendafp.c

commit 73e0352e827216575822d54cf1c1eb9f220bf2e1
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-05-29

    afp: add GVfsAfpConnection which handles the DSI connection

M	daemon/Makefile.am
A	daemon/gvfsafpconnection.c
A	daemon/gvfsafpconnection.h
M	daemon/gvfsbackendafp.c
M	daemon/gvfsbackendafp.h

commit c369fa261bd4feb0bf0e9ae959b336fd56df4e2a
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-05-27

    dnssd: add afp to supported types

M	daemon/gvfsbackenddnssd.c

commit 2a805752480f35aa9ef3887b93d096733b2e7f0c
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-05-25

    AFP: don't use  AFC_CFLAGS and AFC_LIBS for AFP backend

M	daemon/Makefile.am

commit 707a4eece353206fa13439f388ed1e22c4102837
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-05-25

    AFP: fix cut&paste typo in afp.mount.in

M	daemon/afp.mount.in

commit 23ca625147538f1bae9bd7eb95f0155ce47dadec
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-05-25

    AFP: add try_mount implementation

M	daemon/gvfsbackendafp.c
M	daemon/gvfsbackendafp.h

commit c341fc567e5468e6b8e680f52ea808cac3f4ed74
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-05-24

    AFP: fix small typo in Makefile.am

M	daemon/Makefile.am

commit 9772efdf9ff5907a3e49083b7acba8d230ede963
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-05-23

    AFP: create backend stub

M	daemon/Makefile.am
A	daemon/afp.mount.in
A	daemon/gvfsbackendafp.c
A	daemon/gvfsbackendafp.h

commit c7601fed78a1d3fc6c82ea0e496d79f61d827777
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-08-25

    Minor string tweaks for translators

    https://bugzilla.gnome.org/show_bug.cgi?id=629116

M	daemon/gvfsbackendgphoto2.c
M	daemon/gvfsdaemonutils.c
M	programs/gvfs-tree.c

commit 3d18f77a5eca7727ca3e8da8f855ff973cb3064d
Author: Claude Paroz <claude@2xlibre.net>
Date:	2011-08-25

    Updated French translation

M	po/fr.po

commit c270dbb333e713374c9c6a5e76b4441aced8ee02
Author: Gil Forcada <gforcada@gnome.org>
Date:	2011-08-24

    [l10n]Updated Catalan translation

M	po/ca.po

commit d4ed0719f644244cf2a631b41a18b9da9b1364b4
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2011-08-24

    Updated Norwegian bokmål translation

M	po/nb.po

commit ae5de08d7789a0d5df7daa0a2c6b5fb9db1afbe6
Author: Fran Dieguez <fran@openhost.es>
Date:	2011-08-24

    Updated Galician translations

M	po/gl.po

commit d25a3da2e3b56cf7bfaed009c228ca85e3f74ad1
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2011-08-24

    Updated Spanish translation

M	po/es.po

commit e9538c0c6313b5a995b399291e09f6ef92b58d44
Author: Friedel Wolff <friedel@translate.org.za>
Date:	2011-08-24

    Always write (S)FTP in capitals.

    https://bugzilla.gnome.org/show_bug.cgi?id=629116

M	daemon/daemon-main.c
M	daemon/gvfsbackendftp.c
M	daemon/gvfsbackendsftp.c

commit b76c3e8053a44b971c5fc8b6ff9d5adfb6557eb5
Author: Rodrigo Silva <gnome@rodrigosilva.com>
Date:	2011-08-23

    gvfs-open: Exit	with error code > 0 when open fails

    Previously gvfs-open exited with success (error code 0) even when open
    failed, either because file was not found or there was no default
    application registred to open it. Without easy testing for error
    codes,
    it was hard to use it in scripts. Now it exits with code 1 when any of
    the given files are either not found or its default application is not
    registered.

    https://bugzilla.gnome.org/show_bug.cgi?id=655470

M	programs/gvfs-open.c

commit ccf3f4de75742f7419a9289784e5421a4c838a8a
Author: Timothy Arceri <t_fridey@yahoo.com.au>
Date:	2011-08-23

    computer: Use 'drive-harddisk-system' as File System icon

    Ideally we would like to check for recent gnome-icon-theme-extras
    package but there's no pkg-config file.

    https://bugzilla.gnome.org/show_bug.cgi?id=655691

M	daemon/gvfsbackendcomputer.c

commit b29211e431511eac4b5f1084dddf0a9d818e95e6
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-08-22

    Fix more leaks of GSimpleAsyncResult

M	daemon/soup-input-stream.c
M	daemon/soup-output-stream.c
M	monitor/gdu/ggdudrive.c

commit 5c72b0ef689b8fe6a49cf198be62481bc0436ee8
Author: Carl-Anton Ingmarsson <ca.ingmarsson@gmail.com>
Date:	2011-08-22

    mountsource: Fix leaks of GSimpleAsyncResult

    https://bugzilla.gnome.org/show_bug.cgi?id=656511

M	common/gmountsource.c

commit a5c0d4e614645e40a651d20076ab341de64a20f7
Author: A S Alam <aalam@users.sf.net>
Date:	2011-08-21

    update Punjabi Translation

M	po/pa.po

commit 489bbcb5368a6736eacf74b7e64dd2d97d391a90
Author: Wouter Bolsterlee <wbolster@gnome.org>
Date:	2011-08-18

    Updated Dutch translation by Wouter Bolsterlee

M	po/nl.po

commit ba3fb0fb99f6d94361a78ac196c554b6746b8fe8
Author: Andika Triwidada <andika@gmail.com>
Date:	2011-08-18

    Updated Indonesian translation

M	po/id.po

commit aa759ba93414f163364c7cf9a3d2c5ec65e83b37
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-08-15

    Post release version bump

M	configure.ac

commit 874fb74bc07c49c56d43cb0c60599ad28b1e3a2c
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-08-15

    Update NEWS for 1.9.3 release

M	NEWS

commit 314b991948fd4d6e9ea84a889e4c84fa79f0965d
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-08-15

    fuse: Bring back real statfs()

    https://bugzilla.gnome.org/show_bug.cgi?id=655401

M	client/gvfsfusedaemon.c

commit 5c80cd3163391e2c589ce7ef80426391dff110ce
Author: Vincent Untz <vuntz@gnome.org>
Date:	2011-08-15

    gvfs-copy: Do not use deprecated g_format_size_for_display()

    https://bugzilla.gnome.org/show_bug.cgi?id=655474

M	configure.ac
M	programs/gvfs-copy.c

commit 7deeda8806e58a1b4c2f9b063ab1b68913cafc30
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-08-15

    metadata: Avoid passing NULL to strchr()

    Found by Coverity Scan analysis

M	metadata/metatree.c

commit 4cec621168a9e79f639e59eebc9de677ef4a9180
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-08-15

    ftp: Handle NULL progress_callback cases

    Just be precautious as we already test for this on other places.
    Found by Coverity Scan analysis

M	daemon/gvfsbackendftp.c

commit aac7f64a901ea4ef456fdfebcd7cbce18c998550
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-08-15

    daemon: Remove unused code

M	common/gvfsdaemonprotocol.c

commit be9e0d04839ae94518b1131dd848eb3ad3bee65f
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-08-15

    proxy volume monitor: Fix reversed checks

    Found by Coverity Scan analysis

M	monitor/proxy/gproxyvolumemonitor.c

commit 8d8e7fee3e0d463bc69389f394b8c7d95d8dc0af
Author: Theppitak Karoonboonyanan <thep@linux.thai.net>
Date:	2011-08-13

    Updated Thai translation.

M	po/th.po

commit 67d56cb6e89a58292d7771e8e4a14fba7bcc4828
Author: Alexander Shopov <ash@kambanaria.org>
Date:	2011-08-11

    Updated Bulgarian translation

M	po/bg.po

commit eef0374a45883d83087b8b5156c19c06f786da95
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-08-10

    obexftp: Fix error reporting on initialization

    Found by Coverity Scan analysis

M	daemon/gvfsbackendobexftp.c

commit f7ffe729bb991865cc78a46bd75b8d8e20451bd4
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-08-10

    afc: Add missing break statements

    Found by Coverity Scan analysis

M	daemon/gvfsbackendafc.c

commit 2e2ea9a6bfbec06c0ff4a8f60a11528055deb0d4
Author: Claude Paroz <claude@2xlibre.net>
Date:	2011-08-05

    Updated French translation

M	po/fr.po

commit b21f8815a037b511b4a3e4c5cb39a88d239da70e
Author: Yuri Kozlov <yuray@komyakino.ru>
Date:	2011-07-31

    Updated Russian translation

M	po/ru.po

commit 99c6b79d342f0ac43de8a1003ce0b17f1e5d8a54
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-07-27

    Post release version bump

M	configure.ac

commit cd6b417974d91b435ebf07f5b0fa9ba698892d3c
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-07-27

    Update NEWS for 1.9.2 release

M	NEWS

commit f29f868d7ae9e4aa36eaac1f09c30db2b6529a30
Author: Ihar Hrachyshka <ihar.hrachyshka@gmail.com>
Date:	2011-07-14

    Updated Belarusian translation.

M	po/be.po

commit 9817a2f78a6736d2bf95ec65adcec0fc03323e30
Author: Rudolfs Mazurs <rudolfs.mazurs@gmail.com>
Date:	2011-07-12

    Updated Latvian translation.

M	po/lv.po

commit 493ee806eba214a748d064b43c10882d76ee1492
Author: David Zeuthen <davidz@redhat.com>
Date:	2011-07-11

    Respect UDISKS_AUTOMOUNT_HINT available in recent udisks and
    gnome-disk-utility

    https://bugzilla.gnome.org/show_bug.cgi?id=653185

    Based on work from Ayan George <ayan.george@canonical.com>.

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	configure.ac
M	monitor/gdu/ggduvolume.c

commit b21344443263e50225b53b5b31ea47e8e876736a
Author: Abduxukur Abdurixit <abdurixit@gmail.com>
Date:	2011-07-07

    Added UG translation

M	po/ug.po

commit 411ace122c6e94360c7fdde02fccda45be4cd29b
Author: Ihar Hrachyshka <ihar.hrachyshka@gmail.com>
Date:	2011-06-28

    Updated Belarusian translation.

M	po/be.po

commit 6fef8da8d99f652af4272d0102896191c3f810e3
Author: Ihar Hrachyshka <ihar.hrachyshka@gmail.com>
Date:	2011-06-25

    Added Belarusian translation.

M	po/LINGUAS
A	po/be.po

commit ce66c9a7f71a717f02aad98e22e7c4abe491cb71
Author: Мирослав Николић <miroslavnikolic@rocketmail.com>
Date:	2011-06-25

    Updated Serbian translation

M	po/sr.po
M	po/sr@latin.po

commit d6c3ddf88cc362e6a62b4faed7996a291c9ff816
Author: Daniel Nylander <po@danielnylander.se>
Date:	2011-06-20

    Updated Swedish translation

M	po/sv.po

commit 7ec04ebd6e8dd17195c95cc32bd83becc6cb9f99
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-06-17

    build: Lower AC_PREREQ requirement

    No strong reason for having that high version, probably a leftover
    after 'autoupdate' run on bleeding-edge system.

    Let's stick to recommended version from
    https://live.gnome.org/GnomeGoals/ModernAutotools

M	configure.ac

commit ad4b1f753866731e6354e367a12b66b9867d5827
Author: Benjamin Otte <otte@redhat.com>
Date:	2011-06-14

    ftp: Fix stupid proxy servers disconnecting on FEAT

    A bunch of proxy servers assume that the first command sent by an FTP
    server is USER and if it isn't, they bomb out. We do want to support
    FEAT-before-USER though so we can do secure FTP (if we ever actually
    implement it). So we need to make sure we try it at least once and
    if it
    fails, we open a new connection and try with USER instead.

M	daemon/gvfsbackendftp.c

commit b1c0ede02d9d1571128a3bac118e4999443fd526
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-06-13

    Post release version bump

M	configure.ac

commit 30fbabf8df44bdf6d73bbc308c195bfd983b9ba1
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-06-13

    Update NEWS for 1.9.1 release

M	NEWS

commit b97b908f1f9bd86379b7de7121c646d294772497
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-06-13

    Change default tarball compression format to xz

    https://live.gnome.org/GnomeGoals/ModernAutotools

M	configure.ac

commit 5625594de22d2950f5fdeef544a4d710ae603650
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	2011-06-10

    Updated Slovenian translation

M	po/sl.po

commit 89de1ac72bfe26ef3dd32edabbafbeaa99058bba
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2011-06-07

    Added Norwegian bokmål translation

M	po/nb.po

commit 9f4d55f0c91bfc72ae525540e22320d0679d05b9
Author: Christian Kellner <gicmo@gnome.org>
Date:	2011-06-07

    gphoto2: Use new default auto-busy code

    Get rid of the custom unmount code und fallback to default
    implementation which does the exact same thing.

M	daemon/gvfsbackendgphoto2.c

commit 100ea69c8dbdc99e37edc52b6de1011fa130d9a3
Author: Christian Kellner <gicmo@gnome.org>
Date:	2011-05-25

    daemon: Implement auto-busy on unmount

    Add generic logic to GVfsJobUnmount to automatically return
    G_IO_ERROR_BUSY when there are active connections _and_
    the user decided to not force and unmount.
    Fixes bug 509606.

M	daemon/gvfsjobunmount.c

commit e078f0e75203969ef4c7bcbc61bd935d65316cc9
Author: Christian Kellner <gicmo@gnome.org>
Date:	2011-06-05

    daemon: Add logic to force close active channels

    This includes logic in a GVfsChannel to force close is as well as a
    function in the GVfsDaemon to iterate over all active channels and
    call the force-close function.

M	daemon/gvfschannel.c
M	daemon/gvfschannel.h
M	daemon/gvfsdaemon.c
M	daemon/gvfsdaemon.h

commit 16db079fe3eb5c9083cc4d4649bdbaff55e43bbf
Author: Christian Kellner <gicmo@gnome.org>
Date:	2011-06-05

    daemon: Function to schedule a job in a thread

    Add a public function to schedule a job in the daemon's threadpool
    making it possible for e.g. a job to "manually" implement the
    try() / run() stages of job execution.

M	daemon/gvfsdaemon.c
M	daemon/gvfsdaemon.h

commit f54e2164e6d94001edf976f270e66b1e0b9cb8e0
Author: Christian Kellner <gicmo@gnome.org>
Date:	2011-06-04

    daemon: Also block active channels if the backend is blocked

    Let the GVfsChannel pick up the blocked state from the backend.

M	daemon/gvfschannel.c

commit ad431e0540bfe11fcdc79093bb29361b7d2250d4
Author: Christian Kellner <gicmo@gnome.org>
Date:	2011-06-03

    daemon: Add getter function for blocking state

M	daemon/gvfsbackend.c
M	daemon/gvfsbackend.h

commit 66bbe38a1329616e6313b6bd41b98e1b77d1306d
Author: Christian Kellner <gicmo@gnome.org>
Date:	2011-05-25

    daemon: New logic to the backend to block requests

    When the backend is set to block requests it will answer all
    incoming requets with G_IO_ERROR_NOT_MOUNTED. This will later
    be used by the unmount code to bridge the time while we are
    unregistering the mount but have not finished doing so.

M	daemon/gvfsbackend.c
M	daemon/gvfsbackend.h

commit 08c4a19fc74d0ff9175203157229fed5d04fba07
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:	2011-06-06

    Updated Galician translations

M	po/gl.po

commit 6abbff2a11c28660a090e8b9398fb19332380094
Author: Christian Kellner <gicmo@gnome.org>
Date:	2011-06-05

    dav: Use default unmount logic

    Get rid of our own unmount logic which was just calling exit () and
    instead rely on the default unmount logic. The result is that first
    we get busy-on-unmount automatically once bug 509606 is fixed;
    also we are fixing bug 567664 since  by just calling exit () we never
    sent a reply to the caller of unmount ().

    https://bugzilla.gnome.org/show_bug.cgi?id=567664

M	daemon/gvfsbackenddav.c

commit 8e71bdcb612d37302578df42f53ee16f9eebb582
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:	2011-06-04

    Updated Hebrew translation.

M	po/he.po

commit 906ffe775bef063c4ace3940f78ef6e3dc3e7787
Author: Carles Ferrando <carles.ferrando@gmail.com>
Date:	2011-05-29

    [l10n]Updated Catalan (Valencian) translation

M	po/ca@valencia.po

commit 276ca54cda745c55fab5d2198d903afc1f202015
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:	2011-05-25

    Updated Spanish translation

M	po/es.po

commit 7a3f8b64deaaa99100d2e5a200baa5c1b09fef42
Author: Bastien Nocera <hadess@hadess.net>
Date:	2011-05-25

    afc: Better error messages for AFC

    https://bugzilla.gnome.org/show_bug.cgi?id=639373

M	daemon/gvfsbackendafc.c

commit 56bdc116f5a0c0c837657b7e59c28511028a4d86
Author: Christian Kellner <gicmo@gnome.org>
Date:	2011-05-25

    client: Don't leak the GCancellable's fd in case of an g_poll error

M	client/gvfsdaemondbus.c

commit 6eed5cc4188a0c95a8c004f3a295b57adf7b56d1
Author: Christian Kellner <gicmo@gnome.org>
Date:	2011-05-25

    client: Handle error events when polling _g_vfs_daemon_call_sync ()

    Check for G_IO_NVAL,  G_IO_ERR and G_IO_HUP when we (succesfully)
    returned from g_poll since we get into a infinite loop later
    otherwise.

M	client/gvfsdaemondbus.c

commit 37deaf5ed94d35b26c5b12b4af9ef6459717e748
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:	2011-05-24

    Added screenshots

M	po/es.po

commit 1e8738282ad10a9104f04488bdc724d87b2fea38
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2011-05-24

    Fix singular/plural form confusion with media/medium. Reported by
    Bruce Cowan. Fixes bug #593664.

M	daemon/gvfsbackendcomputer.c
M	monitor/gdu/ggdudrive.c
M	monitor/hal/ghalmount.c

commit b6ddc169447daaeb8feda0102b5e0a4323032e8e
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2011-05-24

    Add translation context. Reported by Jorge González. Fixes bug
    #592926.

M	programs/gvfs-mount.c

commit 8405e0a4a80eaef69339cc8d0afa10d75c6fb318
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2011-05-24

    Updated Norwegian bokmål translation

M	po/nb.po

commit 11baa0bc70b2b110933bdc8a0e9ce39fb685dfbe
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2011-05-24

    Remove duplicate include of glib.h

M	daemon/mount.c

commit 78f242687a2c39f40f574d66cf04cbfe1370d451
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2011-05-24

    Updated Norwegian bokmål translation

M	po/nb.po

commit 79ec8a37c1052efbc2691a3d2aa1cce3fa838e76
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2011-05-24

    Add more translation context

M	daemon/gvfsbackendcdda.c
M	daemon/gvfsbackendgphoto2.c

commit c253c15ae1c8b93bcb77da2601d77f4524b43cbd
Author: Christian Kellner <gicmo@gnome.org>
Date:	2011-05-18

    dav: Implement query_fs_info and report used and free space

    WebDAV RFC 4331 " Quota and Size Properties" added two properties
    that can be used to obtain the free and used space.

M	daemon/gvfsbackenddav.c

commit 1063605ca55209a1f2f2b5c19fd0913220451590
Author: Christian Kellner <gicmo@gnome.org>
Date:	2011-05-18

    dav: Check for empty but present displayname dav-property

    Some servers will send a displayname property which is empty leading
    to a
    critical warning inside GIO. We therefore have to check if the
    displayname
    is non-null before setting it.

M	daemon/gvfsbackenddav.c

commit a319d7dca61f19c2b369c3a8a3d7269dd61827f6
Author: Christian Kellner <gicmo@gnome.org>
Date:	2011-05-17

    dav: Decode the paths of the multistatus response before comparing
    them

    When doing a PROPFIND to stat () a location we have to find the
    "target"
    response element that we did the PROPFIND for. We do this by comparing
    the URL given by the href sub-element of the response element. Before
    doing this comparison we have to decode the URL to make sure to ignore
    encoding differences. Fixes bug 629660.

M	daemon/gvfsbackenddav.c

commit e17226fac90b595ff8bac3cfd16530961f8bc4cc
Author: Christian Kellner <gicmo@gnome.org>
Date:	2011-05-17

    http: New function to get the basename without trying to decode it

    http_uri_get_basename () remained the same and will still encode the
    resulting basename. http_path_get_basename (), which will be used by
    the dav backend, will not.
    Also make sure that in the trailing/leading spaces removal we do not
    exceed the string boundaries.

M	daemon/gvfsbackendhttp.c
M	daemon/gvfsbackendhttp.h

commit 0aa5df91e91e1fd55ca662daae3a9b792d17d1c6
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:	2011-05-17

    Updated Spanish translation

M	po/es.po

commit e74e6bb61e28743742cc2bc65b4d125038f08979
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:	2011-05-17

    Updated Spanish translation

M	po/es.po

commit a33100f90499014b66e9fa68b0acacb3fb5cb10f
Author: Christian Kellner <gicmo@gnome.org>
Date:	2011-05-16

    dav: Include username and/or port in the backend's display-name

    If there was a username given by the user and/or the  user specified a
    (non-default)
    port we need to take those into account when creating the share's
    display-name. This
    will resolve ambiguities that could otherwise happen if we have two
    mounts with
    different users or on different ports to the same host. Fixes
    bug 637649.

M	daemon/gvfsbackenddav.c

commit d919fe04ded8224e288993e76b251e596cf94fab
Author: Christian Kellner <gicmo@gnome.org>
Date:	2011-05-16

    dav: Unescape the path when setting the mount_prefix of the GMountSpec

    As of commit 6e2f67 we escape the path of the mount_base. Later
    when we
    set the mount_prefix of the backend's mount_spec we do use the
    mount_base
    for this. We therefore have to unescape the path again because
    otherwise
    comparing paths won't work in the client.

M	daemon/gvfsbackenddav.c

commit 6e2f679f73db38f55073119989de9b33ba265540
Author: Christian Kellner <gicmo@gnome.org>
Date:	2011-05-14

    dav: Correctly encode URLs

    Up until now we decode the URL in the URI-mapper on the client side
    but never re-encoded it before sending it to the server. We now do
    encode the initial mount_base in do_mount () and then append encoded
    filenames to this. Fixes bug 561515.

M	daemon/gvfsbackenddav.c

commit cea1452ed6ae4566d6f6c6a214026fb13e9d957a
Author: Christian Kellner <gicmo@gnome.org>
Date:	2011-05-12

    http/dav: Move http_backend_uri_for_filename to dav backend

    Since we don't need that function in the http backend anymore move it
    to the dav backend as g_vfs_backend_dav_uri_for_path ().

M	daemon/gvfsbackenddav.c
M	daemon/gvfsbackendhttp.c
M	daemon/gvfsbackendhttp.h

commit bc9c779e1af4763f39e7065fb14747febad7fa8d
Author: Christian Kellner <gicmo@gnome.org>
Date:	2011-05-12

    http: Get rid of unnecessary calls to uri_for_filename ()

    Use http_backend_get_mount_base () instead of
    http_backend_uri_for_filename () since in the http backend every
    unique
    URL corresponds to a new mount; we therefore don't have filenames as
    in the other backends (filename will and *must* always be "/").

M	daemon/gvfsbackendhttp.c

commit 0b1c22f8a380cf377c1e574616a770cb39370588
Author: Christian Kellner <gicmo@gnome.org>
Date:	2011-05-12

    http: Add http_backend_get_mount_base ()

    http_backend_get_mount_base () retrieves the URL of the backends
    "mount point".  URL must not bee freed.

M	daemon/gvfsbackendhttp.c
M	daemon/gvfsbackendhttp.h

commit d4049d3ac0741c3700a029a24c869dfafd840dc2
Author: Christian Kellner <gicmo@gnome.org>
Date:	2011-05-12

    daemonfile: Re-root the path in set_display_name ()

    The path we get as a result of a set_display_name operation has to be
    re-rooted with the mount_prefix of the specific mount.
    This fixes the "Location not mounted" error that we currently get for
    e.g. WebDAV mounts with a mount_prefix after renaming of files.

M	client/gdaemonfile.c

commit 7a2942f7bdf39ebfc31ea90c0685b5890d30964d
Author: Christian Kellner <gicmo@gnome.org>
Date:	2011-05-12

    Pass mount_info to async_path_call callbacks

    Modify all callbacks do_async_path_call () to receive an additional
    GMountInfo parameter.

M	client/gdaemonfile.c

commit 66bc0189d836130768df41900f3cf29723bbd870
Author: Christian Kellner <gicmo@gnome.org>
Date:	2011-05-12

    New function to re-root a given path with a mount_prefix

    g_mount_info_apply_prefix will take an given path and prepend the
    mount_prefix of the given mount_info, if there is any. It will free
    the old
    string in this case. Otherwise it is a NOOP.

M	common/gmounttracker.c
M	common/gmounttracker.h

commit bc2d4117fe18e1750c13e38e09a0c04d3a60de67
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-05-09

    Post release version bump

M	configure.ac

commit 3faf3aa17793a6ef011f059d9927eb217fbc0d77
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-05-09

    Update NEWS for 1.9.0 release

M	NEWS

commit c55e3b89ce7eda8f20a882da9c31074a6796104d
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-05-09

    Add myself to the pool of maintainers

    <gicmo> alex, we should add tbzatek to the maintainers file I guess
    <alex> totally
    <gicmo> tbzatek, add yourself there, do it! ;-)

M	MAINTAINERS

commit fb8deae57304a921a736c4ad932928bee614a16e
Author: Christian Kellner <gicmo@gnome.org>
Date:	2011-05-08

    http: use Content-Disposition filename if available

    Set edit/displayname based on the filename in the Content-Disposition
    header if available.
    Based on a patch from Mike Gratton <mike@vee.net>.
    Fixes bug 551298

M	daemon/gvfsbackendhttp.c

commit a2a2fe70666618062148f5cbf0ca5e7f1eedfa0a
Author: Christian Kellner <gicmo@gnome.org>
Date:	2011-05-08

    dav: correctly handle usernames supplied in the url

    When comparing URIs in dav_uri_match() do not take username or
    password into account because on a redirect the server is likely
    to not
    include the username in the url supplied in the Location header.
    Therefore redirection will fail and thus mounting.
    Should fix bug 586248. Patch based on a version from Henrik Holst.

M	daemon/gvfsbackenddav.c

commit 927d91cfcda34c88fd5137f6c118818903a1f02d
Author: Christian Kellner <gicmo@gnome.org>
Date:	2011-05-08

    http/dav: Send Accept-Language header

    Send which languages we prefer. Fixes bug 166795.

M	daemon/gvfsbackendhttp.c

commit 57bea1eaf2a3b3b223b81868aa4e85981512d25e
Author: Daniel Korostil <ted.korostiled@gmail.com>
Date:	2011-05-06

    Uploaded Ukranian

M	po/uk.po

commit e3b8a652a8e4b9e37ae87c7853028f3f16071227
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2011-05-04

    Updated Norwegian bokmål translation

M	po/nb.po

commit d3fcf41ef3676139b5a035757c6d67c6fef073c9
Author: Christian Kellner <gicmo@gnome.org>
Date:	2011-05-04

    dav: Fix copying of remote folders to disk

    Do stat() the location, i.e. do a PROPFIND, on open () and correctly
    report G_IO_ERROR_IS_DIRECTORY for collections instead of trying
    to fetch (GET) them.
    Should finally fix bug 551339

M	daemon/gvfsbackenddav.c
M	daemon/gvfsbackendhttp.c
M	daemon/gvfsbackendhttp.h

commit 342ae51fe86663dce07d18a21c9827f8ee7fd131
Author: Ayan George <ayan.george@canonical.com>
Date:	2011-05-03

    Automount flash card readers

    Check for flash media to also provide automounting for card readers
    which are
    not on the USB bus.

    https://bugzilla.gnome.org/show_bug.cgi?id=648980
    https://launchpad.net/bugs/759963

    Signed-off-by: Martin Pitt <martin.pitt@ubuntu.com>

M	monitor/gdu/ggduvolume.c

commit 7696eda4f884d4416da1a29a11dfcaf47108e221
Author: Daniel Nylander <po@danielnylander.se>
Date:	2011-05-01

    Updated Swedish translation

M	po/sv.po

commit c515c9a46fbb990a38f6a05198cba7484014917b
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	2011-04-28

    Updated Slovenian translation

M	po/sl.po

commit 8f165003a832cdb6f623da395cbe6d44eb9d8749
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2011-04-27

    Updated Spanish translation

M	po/es.po

commit 25b918f1f593f835be7fc74b2afd45c3336e82a1
Author: Hans de Goede <hdegoede@redhat.com>
Date:	2011-04-26

    gphoto2: Recognize cameras which don't implement get storageinfo

    Not all gphoto drivers implement get storage info (drivers for
    proprietary
    protocols often don't). This patch fixes the gphoto2volumemonitor
    to still
    recognize cams which gphoto driver does not implement get storage
    info.

    https://bugzilla.gnome.org/show_bug.cgi?id=606059

    Signed-off-by: Hans de Goede <hdegoede@redhat.com>
    Signed-off-by: Tomas Bzatek <tbzatek@redhat.com>

M	monitor/gphoto2/ggphoto2volumemonitor.c

commit 6c40d10808bcc86e4ba5da959193ad413a197073
Author: Takayuki KUSANO <AE5T-KSN@asahi-net.or.jp>
Date:	2011-04-25

    Updated Japanese translation

M	po/ja.po

commit 417981f22f27020ee4e5d83fa4a4ea965a5e19b4
Author: Theppitak Karoonboonyanan <thep@linux.thai.net>
Date:	2011-04-24

    Updated Thai translation.

M	po/th.po

commit 9bfe6ccdf1143c9f5409d17908f40c7544ceb119
Author: Alexander Larsson <alexl@redhat.com>
Date:	2011-04-15

    gdu volume monitor: Fix check for symlinks in /dev, was reversed

    Spotted by Emilio Pozuelo Monfort in
    https://bugzilla.gnome.org/show_bug.cgi?id=601497

M	monitor/gdu/ggduvolumemonitor.c

commit 7460f26f9243e6b1745a448b8dc05b15d12aa86e
Author: Alexander Larsson <alexl@redhat.com>
Date:	2011-04-15

    Don't leak dbus messages

    We're missing a lot of dbus_message_unref after sending
    messages, add them.

M	daemon/daemon-main.c
M	daemon/gvfsjobcopy.c
M	daemon/gvfsjobcreatemonitor.c
M	daemon/gvfsjobdelete.c
M	daemon/gvfsjobenumerate.c
M	daemon/gvfsjobmakedirectory.c
M	daemon/gvfsjobmakesymlink.c
M	daemon/gvfsjobmountmountable.c
M	daemon/gvfsjobmove.c
M	daemon/gvfsjobopenforread.c
M	daemon/gvfsjobopenforwrite.c
M	daemon/gvfsjobopeniconforread.c
M	daemon/gvfsjobpollmountable.c
M	daemon/gvfsjobpull.c
M	daemon/gvfsjobpush.c
M	daemon/gvfsjobqueryattributes.c
M	daemon/gvfsjobqueryfsinfo.c
M	daemon/gvfsjobqueryinfo.c
M	daemon/gvfsjobsetattribute.c
M	daemon/gvfsjobsetdisplayname.c
M	daemon/gvfsjobstartmountable.c
M	daemon/gvfsjobstopmountable.c
M	daemon/gvfsjobtrash.c
M	daemon/gvfsjobunmount.c
M	daemon/gvfsjobunmountmountable.c
M	daemon/gvfsmonitor.c
M	daemon/mount.c

commit 0babec2c24287a8578be488dacb0428998aa5648
Author: Alexander Larsson <alexl@redhat.com>
Date:	2011-04-15

    Fix threadsafety of closing channels

    There is a race in g_vfs_job_close_read_finalize vs command_read_cb
    where if these run in different threads (the command_read_cb in
    the main
    thread and the close in another thread), such as in the smb case then
    we may free the channel early.

    We fix this by having the command reading propely ref the channel and
    add a cancellable that allows us to cancel the command reading
    when the
    channel is closed.

M	daemon/gvfschannel.c

commit cc7e968398b23a5a85058d29d1a5e148f85140b4
Author: Kristjan SCHMIDT <kristjan.schmidt@googlemail.com>
Date:	2011-04-11

    Add Esperanto translation

M	po/LINGUAS
A	po/eo.po

commit 610a01bbe72ad9e182617a9ef511a7d5582510d1
Author: Martin Szulecki <opensuse@sukimashita.com>
Date:	2011-03-26

    afc: Use a better display name for jailbroken device access

    https://bugzilla.gnome.org/show_bug.cgi?id=614554

M	daemon/gvfsbackendafc.c

commit 699af2d7ae0c2fb19109a0b5ffd10dac645de7e2
Author: Bastien Nocera <hadess@hadess.net>
Date:	2011-04-08

    common: Remove unneeded copied header file

    Turns out the header is properly shipped by libluray.

M	common/Makefile.am
M	common/gvfsmountinfo.c
D	common/meta_data.h

commit bda0c0afb3500f5648b3f9ee0dab3511927fb221
Author: Bastien Nocera <hadess@hadess.net>
Date:	2011-04-07

    [gdu] Fix setting the BDMV name

    Who forgot that else? Oh. Never mind.

M	monitor/gdu/ggdumount.c

commit 21c319c85fe53769c3c3a7ca50d065e4b1c4ef10
Author: Bastien Nocera <hadess@hadess.net>
Date:	2011-04-07

    common: Use libbluray to get Blu-Ray metadata

    This means we can finally get localised versions, and
    support the biggest thumbnails.

    https://bugzilla.gnome.org/show_bug.cgi?id=646984

M	common/Makefile.am
M	common/gvfsmountinfo.c
A	common/meta_data.h
M	configure.ac

commit 44d42e8ee7fbd9ecc6778e7aa4ebbf0441c06c83
Author: Jordi Serratosa <serratosa@gmail.com>
Date:	2011-04-04

    [l10n]Fixes on Catalan translation

M	po/ca.po

commit a9d5749482123f35e99f55248d3fd4623028c32c
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-04-04

    Bump version to 1.9.0

M	configure.ac

commit 33d944a1d5de38e93e9928a4a13da5d05e954285
Author: Inaki Larranaga Murgoitio <dooteo@zundan.com>
Date:	2011-04-01

    Updated Basque language
    (cherry picked from commit a2b74c007651995ca52ebfc7f75a20d31046743a)

M	po/eu.po

commit 33d8847c5e94705eccdd07f38b6cbb3d28583064
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:	2011-04-04

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

M	po/zh_HK.po
M	po/zh_TW.po

commit 5fe6bc61972d0d90baaeb8557660ef017ebff65a
Author: Petr Kovar <pknbe@volny.cz>
Date:	2011-04-03

    Update Czech translation

M	po/cs.po

commit 6cbfe279314c84c2205893b9f18a48f10a144833
Author: Ask H. Larsen <asklarsen@gmail.com>
Date:	2011-04-02

    Updated Danish translation

M	po/da.po

commit 44f2b910b9cbb9ad736523551a4da79a47d45a11
Author: Dr.T.Vasudevan <agnihot3@gmail.com>
Date:	2011-04-01

    Updated Tamil translation

M	po/ta.po

commit a0c6b87fe23c13f6f45b36f0be82ccc563de4dbf
Author: Rodrigo Padula de Oliveira <contato@rodrigopadula.com>
Date:	2011-03-27

    Updated Brazilian Portuguese translation. Reviewed by Antonio
    Fernandes C. Neto.

M	po/pt_BR.po

commit e226c0614dd2425dbeae326fd7f0caacc7856f86
Author: Abduxukur Abdurixit <abdurixit@gmail.com>
Date:	2011-03-27

    Added UG translation

M	po/ug.po

commit db7558c97d6289c7b9fd0506df091cadca06f3db
Author: Bastien Nocera <hadess@hadess.net>
Date:	2011-03-24

    afc: Fix renaming files moving them to the root dir

    We were moving and renaming files, instead of just renaming them,
    as the display_name wasn't properly rooted to the existing directory.

    https://bugzilla.gnome.org/show_bug.cgi?id=638191

M	daemon/gvfsbackendafc.c

commit 2fc75a059c5ef81dd9f19be48cf53e3a9a09a2fb
Author: Nguyễn Thái Ngọc Duy <pclouds@gmail.com>
Date:	2011-03-27

    Updated Vietnamese translation

M	po/vi.po

commit 774b119d3315c8b910303729c3c7216c5cdc3112
Author: Nguyễn Thái Ngọc Duy <pclouds@gmail.com>
Date:	2011-03-27

    po/vi.po: import from Damned Lies

M	po/vi.po

commit 114681f5d03870c64fce49225cf6a677864f1717
Author: Hans Petter Jansson <hpj@cl.no>
Date:	2011-03-25

    [Fuse] Fix some broken indenting

M	client/gvfsfusedaemon.c

commit 54b779875774ebb28aac938c5508ccc1c8eda755
Author: Hans Petter Jansson <hpj@cl.no>
Date:	2011-03-25

    [Fuse] Pretend created file exists even if backend didn't create it

    Fall back to looking up the file's handle by its path, and if we find
    that it's open, pretend it exists already. This replaces the strategy
    implemented in commit 4c052eee07df06e0a5d1d19fb68259c0ccfcbd92.

M	client/gvfsfusedaemon.c

commit d89d5d6a562ed2ed9fb36c8f2427ec07626a49ed
Author: Hans Petter Jansson <hpj@cl.no>
Date:	2011-03-25

    [Fuse] Remove comment that doesn't make sense anymore.

M	client/gvfsfusedaemon.c

commit eb65717476075c8186400815b68a4c24f5babfc4
Author: Sweta Kothari <swkothar@redhat.com>
Date:	2011-03-24

    Updated Gujarati Translations

M	po/gu.po

commit 4c052eee07df06e0a5d1d19fb68259c0ccfcbd92
Author: Stefan Hajnoczi <stefanha@gmail.com>
Date:	2011-03-23

    [Fuse] Make created files visible immediately on WebDAV

    This patch changes .vfs_create() to force file creation and then opens
    the file again for replacement.  This ensures that the created file is
    visible before its file handle is released.

    Simple programs like touch(1) and cp(1) encounter ENOENT from creat(2)
    on a WebDAV volume.  FUSE calls .vfs_create() followed by
    .vfs_getattr()
    on the file as part of creat(2).  The .vfs_getattr() call after
    .vfs_create() fails with ENOENT since the file handle is still
    open and
    the file has not yet been created on the server side.  The WebDAV
    server
    fails the PROPFIND request to the non-existent file.

    Solve this problem by creating a file first and then reusing
    .vfs_open()
    code to open the file writeable with O_TRUNC.

    Signed-off-by: Hans Petter Jansson <hpj@cl.no>

M	client/gvfsfusedaemon.c

commit 27a93d034fc07181f870457ba0bfaf4f358f3124
Author: Aron Xu <aronxu@gnome.org>
Date:	2011-03-23

    Update Simplified Chinese translation.

M	po/zh_CN.po

commit b4d704af23b90c7cd585a4fd31d11742ca787984
Author: Luca Ferretti <lferrett@gnome.org>
Date:	2011-03-22

    Updated Italian translation

M	po/it.po

commit 12419c392354705f4e102bf425584b10093ae132
Author: Amitakhya Phukan <amitakhya@svn.gnome.org>
Date:	2011-03-22

    Updated Assamese translations

M	po/as.po

commit 64bad30a9ba98db38e868f20eb6f9e41ab29259f
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-03-21

    Post release version bump

M	configure.ac

commit 4db4f56ba1efadea7e12fe1ee35ac33a6f0c4896
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-03-21

    Update NEWS for 1.7.3 release

M	NEWS

commit ac171be248f276392acdd9a783859adb691c46d7
Author: Rudolfs Mazurs <rudolfs.mazurs@gmail.com>
Date:	2011-03-20

    Updated Latvian translation.

M	po/lv.po

commit 2946104f50b9dc7ce4907f99f4069ccc4988f658
Author: Dirgita <dirgitadevina@yahoo.co.id>
Date:	2011-03-20

    Updated Indonesian translation

M	po/id.po

commit 488e4665a06a3b43d3321805b88c6cfcc0098e80
Author: Yuri Myasoedov <omerta13@yandex.ru>
Date:	2011-03-19

    Updated Russian translation

M	po/ru.po

commit c8bbe04f4e2a7d5457f01049abb700c72af702dd
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-03-18

    smb: Add support for default location

    This is actually a workaround for inacessible root of the share.
    By setting default location to a user-specified path Nautilus will
    go to this folder by default, leaving errors from inaccessible
    root behind.

    https://bugzilla.gnome.org/show_bug.cgi?id=586129

M	daemon/gvfsbackendsmb.c

commit 7791cad5d2517fe31f760325d0dac90eeffd505d
Author: Daniel Korostil <ted.korostiled@gmail.com>
Date:	2011-03-17

    Uploaded Ukranian

M	po/uk.po

commit be0f71b64672a4e2e791a67b7c24068dccd58149
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-03-17

    Update .gitignore

M	.gitignore

commit 08120de3bdf768ed6d1a935ce05b64f9ddecadc0
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2011-03-17

    Cleanups and fixes for compiler warnings

    https://bugzilla.gnome.org/show_bug.cgi?id=641856

M	client/gdaemonfile.c
M	client/gdaemonfileinputstream.c
M	client/gdaemonfileoutputstream.c
M	client/gdaemonvfs.c
M	client/gdaemonvolumemonitor.c
M	common/gsysutils.c
M	common/gvfsdbusutils.c
M	daemon/gvfsbackendarchive.c
M	daemon/gvfsbackenddav.c
M	daemon/gvfsbackendsftp.c
M	daemon/gvfsftpconnection.c
M	daemon/gvfsftpdircache.c
M	daemon/gvfsjobopeniconforread.c
M	daemon/mount.c
M	metadata/metatree.c
M	monitor/gdu/ggduvolumemonitor.c
M	monitor/gphoto2/ggphoto2volumemonitor.c
M	monitor/proxy/gvfsproxyvolumemonitordaemon.c
M	programs/gvfs-set-attribute.c
M	test/benchmark-common.c
M	test/benchmark-gvfs-big-files.c
M	test/benchmark-gvfs-small-files.c

commit cdc5849ea5067573a278c7d5f1a21c14c5b0686a
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-03-17

    archive: Propagate entry index as inode no. for files

    This is	the first step in making extraction faster. Some GIO-based
    file managers like Nautilus sort files by inode number and making
    copy/extraction faster (more linear read on disk, linear read from
    archive).

    For the archiving backend, let's give each file a number corresponding
    with the position the file is stored in the archive. We can't use
    native inode number stored in some types of archives as long as there
    are no guarantees it reflects actual position in the file.

    This change will have no effect until we make do_open_for_read() not
    to close archive after reading and continue from the last position.
    I'm afraid this concept would conflict with multiple accesses at one
    time though.

M	daemon/gvfsbackendarchive.c

commit 4a5d5e7f275496243e51f58415946c2186e757c4
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-03-17

    archive: Skip leading "./" from pathnames if present

    Happens with some archive types, such as rpm (libarchive 2.8.4).

M	daemon/gvfsbackendarchive.c

commit 1e92e6f3b2bbf581946825bca528b018cab3d9e7
Author: Lucian Adrian Grijincu <lucian.grijincu@gmail.com>
Date:	2011-03-16

    Updated Romanian translation

M	po/ro.po

commit b8c2f0f991893d37ba7acbf4665b78a75bb5b119
Author: Lucian Adrian Grijincu <lucian.grijincu@gmail.com>
Date:	2011-03-16

    Updated Romanian translation

M	po/ro.po

commit 7b5c39c576b33a431f190a4fb6712566997c4f37
Author: Bruce Cowan <bruce@bcowan.me.uk>
Date:	2011-03-16

    Updated British English translation

M	po/en_GB.po

commit 4091c854fced28efb712f1e036b3a1299480970c
Author: Ryan Brown <r@nodr.org>
Date:	2011-03-16

    build: Don't link http backend with SoupOutputStream

    https://bugzilla.gnome.org/show_bug.cgi?id=631483

M	daemon/Makefile.am

commit 024159a433ba3eabd83425c27e06818d315dc6b9
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-03-16

    archive: Prevent assertion failure on duplicate mount

    This will fix an abort when archive is to be mounted for the second
    time:
    ERROR:gvfsbackendarchive.c:240:g_vfs_backend_archive_finalize:
    assertion failed: (archive->file == NULL)

    https://bugzilla.redhat.com/show_bug.cgi?id=645630

M	daemon/gvfsbackendarchive.c

commit 8bfd933e98c74af026659213dd53e9fd0c41358e
Author: Craig Keogh <cskeogh@adam.com.au>
Date:	2011-03-16

    build: Honor ACLOCAL_FLAGS

    https://bugzilla.gnome.org/show_bug.cgi?id=641476

M	Makefile.am

commit f6b792cbbfdde70d201b3609d2eb67fd82fcccf2
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-03-16

    build: Bump fuse requirement for ATOMIC_O_TRUNC support

    https://bugzilla.gnome.org/show_bug.cgi?id=642456

M	configure.ac

commit 5fb862503052a1c130121c4005bd7ff0a183ee43
Author: Jonathan Blanchard <BlanchardJ@ieee.org>
Date:	2011-03-16

    client: Fix wrong assignment before dbus_connection_unref()

    https://bugzilla.gnome.org/show_bug.cgi?id=627881

M	client/gvfsdaemondbus.c

commit 16ebb08d4bbf841d85fc5ecd657e809b874d0fca
Author: Gabor Kelemen <kelemeng@gnome.hu>
Date:	2011-03-15

    Updated Hungarian translation

M	po/hu.po

commit 3d85fec0506649975dcce082c7ff94959bc37db6
Author: Duarte Loreto <happyguy_pt@hotmail.com>
Date:	2011-03-15

    Updated Portuguese translation

M	po/pt.po

commit b63ab04df8fa3e778db4d4a5e27f4fd77c5c2dc8
Author: Mattias Põldaru <mahfiaz gmail com>
Date:	2011-03-13

    [l10n] Updated Estonian translation

M	po/et.po

commit 0d7c36be4fb8997d23bac9f704a934bd919b6000
Author: Mattias Põldaru <mahfiaz gmail com>
Date:	2011-03-13

    [l10n] Updated Estonian translation

M	po/et.po

commit 4b0ca3536bd1a505606a24a13840a6351ea1e493
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	2011-03-11

    Updated Polish translation

M	po/pl.po

commit 4a55da4124807176c79b5668b1c2a958ff003be5
Author: Manoj Kumar Giri <mgiri@redhat.com>
Date:	2011-03-08

    Updated Oriya Translation

M	po/or.po

commit 2b737d6a902d6a7bd83b42fc134efba61ac19881
Author: Gil Forcada <gforcada@gnome.org>
Date:	2011-03-03

    [l10n] Updated Catalan translation

M	po/ca.po

commit af14f2fe99b7931a1f7fbfd8e2abeee0596a5f14
Author: Changwoo Ryu <cwryu@debian.org>
Date:	2011-02-27

    Updated Korean translation

M	po/ko.po

commit 0918ba4aa20b03ebed241670c8ce65dbbc0275a2
Author: Alexander Shopov <ash@kambanaria.org>
Date:	2011-02-16

    Updated Bulgarian translation

M	po/bg.po

commit a1ccea8ecbb8b9aecf568502780fc4ff4dfcf73a
Author: Claude Paroz <claude@2xlibre.net>
Date:	2011-02-05

    Updated French translation

M	po/fr.po

commit 8dc6f63ecca0969a54e48d87572f54b386f0df43
Author: Khaled Hosny <khaledhosny@eglug.org>
Date:	2011-02-04

    Updated Arabic translation

M	po/ar.po

commit 334600a49db7e48c5b3282e8547dbf27eb910be4
Author: Daniel Nylander <po@danielnylander.se>
Date:	2011-02-02

    Updated Swedish translation

M	po/sv.po

commit 2ccd871b2a72de5c9d8dd472d82ffb59310cc619
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:	2011-02-01

    Updating Galician translations

M	po/gl.po

commit 1b57675afacaaef80ffe595ae78744e581e05cde
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-01-31

    Post release version bump

M	configure.ac

commit 06246887b6800125dddc6c49b33dba539a4d776d
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2011-01-31

    Update NEWS for 1.7.2 release

M	NEWS

commit 10f4959e8b4ad2e5ba6e692af5b4682531ef4c4d
Author: Paul Seyfert <pseyfert@mathphys.fsk.uni-heidelberg.de>
Date:	2011-01-30

    [l10n] Updated German translation

M	po/de.po

commit f03611d10521acb65e0816655b2f74c858c81ff6
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	2011-01-27

    Updated Slovenian translation

M	po/sl.po

commit 2e229a730155af1b309719fb6612a7a93e5109bb
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:	2011-01-27

    QA of Galician translations

M	po/gl.po

commit 0704170543af760e34be971610911198520092e7
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	2011-01-26

    Updated Spanish translation

M	po/es.po

commit 70f5d779bbabc50f724aaa4859886b6cb0ca94fa
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2011-01-25

    Updated Norwegian bokmål translation.

M	po/nb.po

commit 4bcd3259ad50aaa5990c3efff23cafab3e401d04
Author: Ville-Pekka Vainio <vpivaini@cs.helsinki.fi>
Date:	2011-01-25

    Updated Finnish translation, includes changes from the Ubuntu Finnish
    translation team

M	po/fi.po

commit 9178134939ebd1510250402c0c260283677a68a6
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:	2011-01-25

    Updated Hebrew translation.

M	po/he.po

commit 3e65b2c86a479ba9175af14923a6362307b346b6
Author: Wouter Bolsterlee <wbolster@gnome.org>
Date:	2011-01-25

    Updated Dutch translation by Wouter Bolsterlee

M	po/nl.po

commit b6c397c60b3c66cb792975071a1edd9193848edb
Author: Benjamin Otte <otte@redhat.com>
Date:	2011-01-24

    smb: Catch invalid argument type when setting mtime

M	daemon/gvfsbackendsmb.c

commit 89b3936f67c3b7ce89f9f90023c96b198fd3550f
Author: Benjamin Otte <otte@redhat.com>
Date:	2011-01-24

    sftp: Catch invalid argument type for chmod command

M	daemon/gvfsbackendsftp.c

commit 7ad211bf67c3953f349e4adf911cce8c630e4890
Author: Lawrence Rust <lvr@softsystem.co.uk>
Date:	2011-01-24

    ftp: Implement chmod

    https://bugzilla.gnome.org/show_bug.cgi?id=416221

M	daemon/gvfsbackendftp.c

commit 6da46f05d75a2017d1fb745ab389c7ad1019e4ad
Author: Lawrence Rust <lvr@softsystem.co.uk>
Date:	2011-01-24

    ftp: Parse mode, user and group for unix listings

    https://bugzilla.gnome.org/show_bug.cgi?id=416221

M	daemon/gvfsftpdircache.c

commit 9a4f327cdc9dde66e7417c2c4b426d936b407f02
Author: Benjamin Otte <otte@redhat.com>
Date:	2011-01-23

    ftp: Parse SITE HELP output to detect chmod support

    Support for it will come in later patches.

    The patch also detects chgrp support, but we're not intending to
    use it
    yet.

M	daemon/gvfsbackendftp.c
M	daemon/gvfsbackendftp.h

commit 25bbcd4864da0b939144c640c66dbf8179f6b3e1
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:	2011-01-20

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

M	po/zh_HK.po
M	po/zh_TW.po

commit f487bcb8b2d2a2764351a3e63a4a32d86ec43cb1
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:	2011-01-13

    Updated Hebrew translation

M	po/he.po

commit 1b019051f31d45b90f162140c3a4a5d1b6d4a9b4
Author: Alexander Shopov <ash@kambanaria.org>
Date:	2011-01-13

    Updated Bulgarian translation

M	po/bg.po

commit 63c6790fac3c9276fa5a6f2069d0bf1d47c2ed45
Author: Ivar Smolin <okul@linux.ee>
Date:	2011-01-11

    [l10n] Updated Estonian translation

M	po/et.po

commit 9401c4dfde62a81a54c47ce74c56d68f8ff9a382
Author: Andika Triwidada <andika@gmail.com>
Date:	2011-01-11

    Updated Indonesian translation

M	po/id.po

commit 280af943a7f28162113f8b428d5bb3acef20f6f0
Author: Ivar Smolin <okul@linux.ee>
Date:	2011-01-10

    [l10n] Updated Estonian translation

M	po/et.po

commit 9fb3e91fbb4ef910d3a490699c89c917bc1aa343
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:	2011-01-09

    Updated Galician translations

M	po/gl.po

commit 7b989faa3c202390378d72efa95b28284cdc4685
Author: A S Alam <aalam@users.sf.net>
Date:	2011-01-08

    Translation: update Punjabi

M	po/pa.po

commit 2e8fb7ca01bb39948ab1716d682343c8e7d002cc
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2011-01-02

    Updated Norwegian bokmål translation from Torstein Adolf Winterseth

M	po/nb.po

commit 4ff08eb928666711305372beccd2561849340eb3
Author: Daniel Nylander <po@danielnylander.se>
Date:	2010-12-29

    Updated Swedish translation

M	po/sv.po

commit f89f684bb07bc914f88cbf7ea186619a4b01680b
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	2010-12-28

    Updated Slovenian translation

M	po/sl.po

commit e02701f4712dd6a61e8ae94ea09fb083dbb21f3f
Author: Gheyret T.Kenji <gheyret@gmail.com>
Date:	2010-12-23

    Added UG translation

M	po/ug.po

commit b99dfb9cbad4bc1f8fb84542bd2956f491df111c
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2010-12-20

    Post release version bump

M	configure.ac

commit 4ddd575a0ca9ab01e2f2a9a635c9d454f61cdc4c
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2010-12-20

    Update NEWS for 1.7.1 release

M	NEWS

commit 274b7330fab1bf07c53cb4988c6551d012c9eec0
Author: Ivar Smolin <okul@linux.ee>
Date:	2010-12-20

    [l10n] Updated Estonian translation

M	po/et.po

commit 31d90d4d438f2c6dd9d41000082fe29316c8434f
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:	2010-12-19

    Updated Hebrew translation.

M	po/he.po

commit 4655d216ebfbb2b0c5824ae5c65f4ace119b5c9f
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:	2010-12-18

    Updated Spanish translation

M	po/es.po

commit 7e758c3b8d4350e30db9e40dc3c44054c95a2d64
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2010-12-17

    Updated Norwegian bokmål translation

M	po/nb.po

commit 5f6132bf29f469390e2f434b9e1faaf7ddf3dab4
Author: Bastien Nocera <hadess@hadess.net>
Date:	2010-11-30

    afc: Add support for House Arrest protocol

    To access the Documents/ folder within applications.

    https://bugzilla.gnome.org/show_bug.cgi?id=636132

M	configure.ac
M	daemon/gvfsbackendafc.c

commit 073715e62f7618a78f1ca07663cd734bbd545fa6
Author: Bastien Nocera <hadess@hadess.net>
Date:	2010-11-12

    AFC: Add ability to mount the house-arrest service

    https://bugzilla.gnome.org/show_bug.cgi?id=636133

M	monitor/afc/afcvolume.c
M	monitor/afc/afcvolume.h
M	monitor/afc/afcvolumemonitor.c
M	monitor/afc/afcvolumemonitordaemon.c
M	po/POTFILES.in

commit 61bf3e52be2b646f27ba5b129a8239549e1afcf1
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2010-12-14

    build: Adapt autogen.sh to libtool-2.4

    Why don't we use gnome-autogen.sh?

M	autogen.sh

commit 4a654e0c6c0b5ca7383bd9b833b82d76c3a93302
Author: Benjamin Otte <otte@redhat.com>
Date:	2010-12-07

    ftp: Detect TLS and SSL support

M	daemon/gvfsbackendftp.c
M	daemon/gvfsbackendftp.h

commit 00f441ca8a8786eb755c07b73076e3d5c9bd60c6
Author: Benjamin Otte <otte@redhat.com>
Date:	2010-12-07

    ftp: Fix refcounting of addresses when connecting

    In error cases, we would get the refcounting wrong, which would
    lead to
    a warning when finalizing the backend, because we carried around an
    invalid pointer to an unreffed address for the whole time.

M	daemon/gvfsbackendftp.c

commit 2b6c559ea87fc929ac43527da5cc61c6d831f357
Author: Henry Hoegelow <h.hoegelow@raumfeld.com>
Date:	2010-11-25

    Fix return value of async_connection_accept_new_fd()

    async_connection_accept_new_fd() is a GSource callback and needs
    to return TRUE so that it is called again. Add the missing return
    value.

    Fixes gvfs client code on the ARM platform (and probably other
    platforms too).
    See https://bugzilla.gnome.org/show_bug.cgi?id=633330 for further
    details.

    Acked-by: Sven Neumann <sven@gimp.org>

M	client/gvfsdaemondbus.c

commit 9c01f34888eac9e346f5638062905ed8a139b551
Author: Benjamin Otte <otte@redhat.com>
Date:	2010-12-07

    build: undef G_LOG_DOMAIN if we're going to redefine it

    Otherwise gcc will throw a warning.

M	client/Makefile.am

commit 47d5a4f9968521c9cb84c87c18054ae085eac68f
Author: Benjamin Otte <otte@redhat.com>
Date:	2010-12-07

    obex: Move variables into #if USE_HAL

M	daemon/gvfsbackendobexftp.c

commit da7435aea66b6acf9129c656d49f044ba40e4393
Author: Benjamin Otte <otte@redhat.com>
Date:	2010-12-07

    gvfs-set-attribute: Remove non-enum switch case

    The case resolved to the default anyway.

M	programs/gvfs-set-attribute.c

commit f5d24f702a1b8d13eb24069ec0fe2f0e88392e08
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2010-11-29

    Post release version bump

M	configure.ac

commit 08a5987d97fa4e4a0bd6c1eed85063ad35e8977f
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2010-11-29

    NEWS for 1.7.0

M	NEWS

commit 63ba8c799e5be5a90537befc26954355aca67357
Author: Theppitak Karoonboonyanan <thep@linux.thai.net>
Date:	2010-11-28

    Updated Thai translation.

M	po/th.po

commit 8cb39f77ab771f1768f565f88a3a8550d0d91a8a
Author: Gheyret T.Kenji <gheyret@gmail.com>
Date:	2010-11-20

    Added UG translation

M	po/ug.po

commit 87d354e8510072a1dcaa5698e4a0fbff34560ee5
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2010-11-16

    Hide mounts having a path element starting with dot

    Corresponds to commit 2bfcffde9ae5b14e78a4279bf48c71897c5f19d8
    in glib.

    Also bump required glib version to get consistent results.

M	configure.ac
M	monitor/gdu/ggduvolumemonitor.c

commit fbe59781db12047659cc6bf73c21aa34a48ec9a7
Author: Gheyret T.Kenji <gheyret@gmail.com>
Date:	2010-11-13

    Added UG translation

M	po/ug.po

commit 74692beb62c76a4e217243dec51b3393e2cf590e
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2010-11-12

    Fix distcheck

M	daemon/Makefile.am

commit e22dbb2aeadd3d45a93e702046bc9dc247368f4b
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2010-11-12

    Remove last traces of GConf

M	configure.ac
M	daemon/Makefile.am

commit 1f3baf056b1ee20775bdba69be37fbe4712e667e
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2010-11-12

    Port daemons to GSettings

M	daemon/gvfsbackendnetwork.c
M	daemon/gvfsbackendsmb.c
M	daemon/gvfsbackendsmbbrowse.c

commit 168001c43fa8d890ada7131fe0c3abdec56640e9
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2010-11-12

    Add GSettings schemas

M	configure.ac
M	daemon/Makefile.am
A	daemon/gvfs-dns-sd.convert
A	daemon/gvfs-enums.h
A	daemon/gvfs-smb.convert
A	daemon/org.gnome.system.dns_sd.gschema.xml
A	daemon/org.gnome.system.smb.gschema.xml

commit 75cbe4c2e3c54f2bb4e0add08cd528a797a398fb
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2010-11-12

    Bump version to 1.7.0 after branching

M	configure.ac

commit 84f66425ea74f2657f83d00347acf7fc0a638f99
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2010-11-12

    fuse: Add O_TRUNC support for open()

    This requires kernel version 2.6.24 or later.

    See bug 627567 for details.

M	client/gvfsfusedaemon.c

commit 070b4c4968591b612f3db1aafd9bba07a4ee0004
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2010-11-12

    sftp: Close pty master in child process

    Prevent fd leakage and possible selinux alert.

M	daemon/pty_open.c

commit 9eac8436f165bdb1a4aac99a742f2e85d6866f90
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:	2010-11-04

    build: bump GLib required version to 2.27.1.

    So that it's not possible to mix gvfs-based and x-scheme-handler based
    application lookup.

    See https://bugzilla.gnome.org/show_bug.cgi?id=631410

M	configure.ac

commit 0776af2b22a7b498fcf653799e3b6f6633a64890
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2010-11-01

    Bump version

M	configure.ac

commit 2f8939214b2a6db96e6634c11d2b8307f9daee3a
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2010-11-01

    NEWS for 1.6.5

M	NEWS

commit 24ddbc65c4da26e2141b377e78b65f9f9ab3cf24
Author: Carles Ferrando <carles.ferrando@gmail.com>
Date:	2010-10-29

    Updated Catalan (Valencian) translation

M	po/ca@valencia.po

commit 089ba0b1af08f8b7506bd867a415e197f4017ec0
Author: Bastien Nocera <hadess@hadess.net>
Date:	2010-10-28

    Use correct "usb:" address for GPhoto mounts with gudev

    gphoto2 expects the usb:X,X addresses to use the dirname and device
    names from libusb, which are zero-padded. Given that it's what udev
    gives us, just don't transform it to an int before printing.

    https://bugzilla.gnome.org/show_bug.cgi?id=631562

M	monitor/gphoto2/ggphoto2volumemonitor.c

commit 267b0754379eaed79a6660bd4a8ba67243926a73
Author: YunQiang Su <wzssyqa@gmail.com>
Date:	2010-10-25

    Merge Simplified Chinese translations from launchpad.

M	po/zh_CN.po

commit 98b1f6398ca3440a9147aa57d0e5cd299a340421
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:	2010-10-24

    Updated Hebrew translation.

M	po/he.po

commit 01db9b84697a8eb29fc8f776dc65cc72792aa445
Author: Changwoo Ryu <cwryu@debian.org>
Date:	2010-10-09

    Updated Korean translation

M	po/ko.po

commit e868c0c306c31ffb9b65ca8555fd27cdc53a083d
Author: Bastien Nocera <hadess@hadess.net>
Date:	2010-10-05

    Remove app lookup extension

    Now done in GIO itself

    https://bugzilla.gnome.org/show_bug.cgi?id=631398

M	Makefile.am
M	configure.ac
D	gconf/Makefile.am
D	gconf/gapplookupgconf.c
D	gconf/gapplookupgconf.h
D	gconf/gconf-module.c

commit 4033907045abcf498686c1b34be7b0160260088d
Author: Andreas Henriksson <andreas@fatal.se>
Date:	2010-10-02

    sftp: fix poll() timeout.

    When switching from select() to poll() in commit
    "sftp: Use poll() to cope with openssh-5.6 changes" (c6be45c8934)
    the difference in seconds vs milliseconds for select/poll timeout
    argument was missed.

    SFTP_READ_TIMEOUT is defined in seconds, so multiply it with 1000
    when using it with poll().

    https://bugzilla.gnome.org/show_bug.cgi?id=631169

M	daemon/gvfsbackendsftp.c

commit 87ee853659e29b9074c3582890c7054a89167988
Author: Inaki Larranaga Murgoitio <dooteo@zundan.com>
Date:	2010-09-30

    Updated Basque language

M	po/eu.po

commit 8881cfa6426708afccf15702f7d424c517a41e05
Author: Wouter Bolsterlee <wbolster@gnome.org>
Date:	2010-09-27

    Updated Dutch translation by Wouter Bolsterlee

M	po/nl.po

commit a9c0df8ba0c6f3003517c49099b241229f5b755e
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2010-09-27

    Fix stringv transfer over dbus

    The wrong iterator passed in caused some items to be silently dropped
    plus it led to string dup of wrong pointer.

    See bug 614544 for reference.

M	common/gvfsdaemonprotocol.c

commit 1ba423e0b00e296af59ffea276f8a36d88b037d1
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2010-09-27

    Post release version bump

M	configure.ac

commit 353c450df8b4f040afd2de11fd4c866aff3b9416
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2010-09-27

    Update NEWS for 1.6.4 release

M	NEWS

commit c6be45c89346da80d557cdb01756e6e1975ad1ff
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2010-09-27

    sftp: Use poll() to cope with openssh-5.6 changes

    Patch by Otto Allmendinger
    See bug 629184 for details.

M	daemon/gvfsbackendsftp.c

commit 17218a83c920e38160655d03124e51b4ae40af24
Author: Wouter Bolsterlee <wbolster@gnome.org>
Date:	2010-09-26

    Updated Dutch translation by Wouter Bolsterlee

M	po/nl.po

commit be795207d5bf614ee8d33c8f76fe4871fb8f3a60
Author: Yuri Myasoedov <ymyasoedov@src.gnome.org>
Date:	2010-09-24

    Updated Russian translation

M	po/ru.po

commit 44b301e70822c9d4b5baa7f649eccde0151b596c
Author: Takayuki KUSANO <AE5T-KSN@asahi-net.or.jp>
Date:	2010-09-24

    Updated Japanese translation (symbolic link related)

M	po/ja.po

commit 75173059b1f14a0adf66c36fc9491ffd6ff5f5c5
Author: Khaled Hosny <khaledhosny@eglug.org>
Date:	2010-09-23

    Updated Arabic translation

M	po/ar.po

commit 8ef4d82d5c72aafcf9b5bce05172ebd4d05698a6
Author: Petr Kovar <pknbe@volny.cz>
Date:	2010-09-23

    Update Czech translation

M	po/cs.po

commit b56181b95a5ec9e3e982392ced4ed73aa28b79e1
Author: Gil Forcada <gforcada@gnome.org>
Date:	2010-09-21

    Updated Catalan translation

M	po/ca.po

commit d19a43fc8bfa2b1a7daeb954ec4fdbd958fcd873
Author: Daniel S. Koda <danielskoda@gmail.com>
Date:	2010-09-21

    Updated Brazilian Portuguese translation

M	po/pt_BR.po

commit 0bcf29bf20fc385b2694d0c90fd484baefce62b0
Author: Wouter Bolsterlee <wbolster@gnome.org>
Date:	2010-09-19

    Updated Dutch translation by Wouter Bolsterlee

M	po/nl.po

commit bd56eb38648de0949321e9cad6d37d05384c7b18
Author: Takayuki KUSANO <AE5T-KSN@asahi-net.or.jp>
Date:	2010-09-19

    Updated Japanese translation

M	po/ja.po

commit be7eaaca2e6c718f6932f2d763d66cd131570813
Author: Žygimantas Beručka <zygis@gnome.org>
Date:	2010-09-18

    Updated Lithuanian translation

M	po/lt.po

commit 342f4a0c2166c3ddf88837a326875da2e68d1ca1
Author: Kenneth Nielsen <k.nielsen81@gmail.com>
Date:	2010-09-16

    Updated Danish translation

M	po/da.po

commit c534b103677a329428c93f2f28fd0290aaae2839
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	2010-09-14

    Updated Polish translation

M	po/pl.po

commit a7a28c6620d3bdd31469a147c2e2b46798a9086c
Author: Friedel Wolff <friedel@translate.org.za>
Date:	2010-09-08

    New Afrikaans (af) translation

M	po/LINGUAS
A	po/af.po

commit 5c060227daefafb6c0751422fa585483fc861515
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2010-09-08

    Move GConf initialization from backend constructor

    Solve the deadlock described in bug 628889

M	daemon/gvfsbackendsmb.c
M	daemon/gvfsbackendsmbbrowse.c

commit 8d0e25efd0df403fcdbffbf610e020d26cbb01ff
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:	2010-09-05

    Updated Hebrew translation.

M	po/he.po

commit 0f4cc23938e8d4d2ee24fba8141251cd10428ba1
Author: Duarte Loreto <happyguy_pt@hotmail.com>
Date:	2010-09-04

    Updated Portuguese translation

M	po/pt.po

commit f673cd69cc21bd3ca331214bf80a07c86551e126
Author: Michael Kotsarinis <mk73628@gmail.com>
Date:	2010-09-04

    Updated Greek translation

M	po/el.po

commit 1056fe4e9c1497b87ebe37a29d09ccf1b3d88a50
Author: drtv <vasudeven@git.gnome.org>
Date:	2010-09-03

    Updated Tamil translation

M	po/ta.po

commit 5e93af2947275ca2fb94d547de39dbd2a870ea65
Author: Luca Ferretti <lferrett@gnome.org>
Date:	2010-09-02

    Updated Italian translation

M	po/it.po

commit d7d1575c5aa66c7bc124468d3dca205c329077c0
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	2010-09-01

    Update British English translation

M	po/en_GB.po

commit 811a0aa27020152bf0477b51fd49d88751ed9866
Author: Gabor Kelemen <kelemeng@gnome.hu>
Date:	2010-08-31

    Updated Hungarian translation

M	po/hu.po

commit 30a21ebeeede604a6c675b9de95acb2cbeb5ccd5
Author: Gheyret Kenji <gheyret@hotmail.com>
Date:	2010-08-28

    Added UG translation

M	po/LINGUAS
A	po/ug.po

commit 4ddb47aa9915b960cb9e803f951fb01ffbf89eb2
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:	2010-08-27

    Updated Hebrew translation.

M	po/he.po

commit 5d06ac6272fbcad67a81836c62523e1637f29d69
Author: Alexander Shopov <ash@contact.bg>
Date:	2010-08-23

    Updated Bulgarian translation

M	po/bg.po

commit 48b6dee2858da4997ecc4b97b814db5d58d0b2ea
Author: Милош Поповић <gpopac@gmail.com>
Date:	2010-08-22

    Updated Serbian translation

M	po/sr.po
M	po/sr@latin.po

commit 3c10f2ed61f8eb86fc09e8ba766719edc3bb8149
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:	2010-08-21

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

M	po/zh_HK.po
M	po/zh_TW.po

commit 87c5007654ac8af5f11541101e04c1db3657af22
Author: Bastien Nocera <hadess@hadess.net>
Date:	2010-08-17

    afc: Add support for photo thumbnails on iOS4

    And iOS2. This also adds support for preview icon for movies
    captured on the devices themselves.

    https://bugzilla.gnome.org/show_bug.cgi?id=627193

M	daemon/gvfsbackendafc.c

commit 8b24cb1b3a67ccfa77974dbec35994050bdf4f4a
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:	2010-08-17

    Updated Hebrew translation.

M	po/he.po

commit 1c61961c58e65a3bfd571adec45ed79d9a44233d
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	2010-08-13

    Updated Slovenian translation

M	po/sl.po

commit 756c525e79014b796d780411941f5ce8f05be48e
Author: Pavol Šimo <palo.simo@gmail.com>
Date:	2010-08-09

    Updated Slovak translation

M	po/sk.po

commit c647b518bbf6910591f7272ab6811412babff5ab
Author: Claude Paroz <claude@2xlibre.net>
Date:	2010-08-05

    Move translator comments just before the translatable string

    xgettext only extracts comments in po files if the comment is on the
    line just before the translatable string.

M	daemon/gvfsbackendsftp.c

commit 21d652832e506d2edc808dedcc5e7cff064725a3
Author: Claude Paroz <claude@2xlibre.net>
Date:	2010-08-05

    Updated French translation

M	po/fr.po

commit ef3dc87f6326b397fe242e029e3c594d98155c49
Author: Andika Triwidada <andika@gmail.com>
Date:	2010-08-04

    Updated Indonesian translation

M	po/id.po

commit 6c714e7de342f7005ce1969dd8f3c1b81144d025
Author: A S Alam <aalam@users.sf.net>
Date:	2010-08-04

    update Translation in master for Punjabi by A S Alam

M	po/pa.po

commit ceaee3817d9bd760f7e8c273e5e4db0a3fae6df7
Author: Lucian Adrian Grijincu <lucian.grijincu@gmail.com>
Date:	2010-08-01

    po: Updated Romanian translation

M	po/ro.po

commit d4a5da88fcaea8c0239034b89f73775b7e1eab64
Author: Daniel Nylander <po@danielnylander.se>
Date:	2010-07-25

    Updated Swedish translation

M	po/sv.po

commit a0cedfe06bc4a2eb84b02b3b2a502690a00f34cb
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:	2010-07-20

    Updated Galician translations

M	po/gl.po

commit c02ca1d9e1ff418f879fe7c23bd6e2edf2199e85
Author: Mario Blättermann <mariobl@gnome.org>
Date:	2010-07-18

    [i18n] Updated German translation

M	po/de.po

commit a0c69ce46ad4225608b23f7fad08e9ce45c05ca6
Author: Tao Wang <dancefire@gmail.com>
Date:	2010-07-17

    Update Simplified Chinese translation.

M	po/zh_CN.po

commit bd5b177a26bd980acba8f24754a8f6811c09721c
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2010-07-13

    Updated Norwegian bokmål translation

M	po/nb.po

commit fc18e471e5ca9db3359c9387f2250a815b176473
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2010-07-12

    Bump version

M	configure.ac

commit 1ec017f49e825438d685a9c84277014773aadab3
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2010-07-12

    Updates

M	NEWS

commit 5084d1ca9bd8e2e59b50bdfd4ffce22244eb5247
Author: Ivar Smolin <okul@linux.ee>
Date:	2010-07-09

    [l10n] Updated Estonian translation

M	po/et.po

commit 4640c6da2b96775bd2ecd6b8ebf500f60e756d12
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:	2010-07-07

    Updated Galician translations

M	po/gl.po

commit f895f0288ccb9e5e6d4d5f60dda91a47e16c95e6
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	2010-07-05

    Updated Slovenian translation

M	po/sl.po

commit 855eddd02caa8a1f77185b5f4869216dc248836d
Author: Baurzhan Muftakhidinov <baurthefirst@gmail.com>
Date:	2010-07-02

    Added Kazakh translation for gvfs

M	po/LINGUAS
A	po/kk.po

commit 6b22c9f38b0f8ea147b66a63d579c256c4427f38
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:	2010-07-01

    Updated Spanish translation

M	po/es.po

commit 6602cae4e39ef092a3b40fae502e4db16f4b3d10
Author: Marcus Carlson <gnomebugzilla@mejlamej.nu>
Date:	2010-07-01

    Provide more information in the SSH dialog.

    Adds host and username information when mounting a SSH share,
    instead of
    just "Enter password".

    https://bugzilla.gnome.org/show_bug.cgi?id=621583

M	daemon/gvfsbackendsftp.c

commit 18c9be2572801c3522668ad316793b1b25f8899b
Author: Mattias Põldaru <mahfiaz gmail com>
Date:	2010-06-27

    [l10n] Updated Estonian translation

M	po/et.po

commit 739301db346664542aad03557acba2951f1123ff
Author: Ivar Smolin <okul@linux.ee>
Date:	2010-06-27

    [l10n] Updated Estonian translation

M	po/et.po

commit 71dea27c540eb915b9ae89976ddc181859c06094
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:	2010-06-26

    Updated Spanish translation

M	po/es.po

commit 202234cde5528dd62f9a6b1c3d3fb3c333952b0e
Author: Daniel Macks <dmacks@netspace.org>
Date:	2010-06-23

    ftp: fix usage of undeclared variable (unix->is_unix)

    gvfsftpdircache.c: In function 'g_vfs_ftp_dir_cache_funcs_process':
    gvfsftpdircache.c:589: error: 'unix' undeclared (first use in this
    function)

    ...caught when building on Mac OS X.

    Apparently using "unix" works for some magic reason on gnu/linux
    and friends.

    https://bugzilla.gnome.org/show_bug.cgi?id=622159

M	daemon/gvfsftpdircache.c

commit e9418fc74b1323ae56c85e0c16364c24b2c2cf68
Author: Éric Piel <eric.piel@tremplin-utc.net>
Date:	2010-05-26

    Correctly detect the missing arguments

    argc contains the number of arguments, including the name of the
    program, so it
    is one more than expected.

    In addition, value must also be checked, otherwise segfault ensues.

M	programs/gvfs-set-attribute.c

commit e6b6ecf80e5db77a6cfb087cacde4cb1a277def0
Author: Éric Piel <eric.piel@tremplin-utc.net>
Date:	2010-05-26

    describe the unset type

    Commit 68607708bc34cfdc357a823fb6f909d3696fec78 added the unset
    type but
    forgot to add it to the documentation.

M	programs/gvfs-set-attribute.c

commit eac4c809ce0f3bf59d66cbb24ad286fa8b557d7c
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:	2010-06-20

    Updated Galician translations

M	po/gl.po

commit 1f4484bd38eaed6561f93d88309a9599c1bb5b39
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:	2010-06-19

    Updated Hebrew translation.

M	po/he.po

commit 625d25ee9d927f5369886638099fd78d4f6ffc02
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:	2010-06-03

    Updated Galician translations

M	po/gl.po

commit 3ef1f8e757490243b8d4411a583910ecb13588a1
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:	2010-06-03

    Updated Spanish translation

M	po/es.po

commit 036a8a999aa7b0f99b1a01c2555395798a9c306e
Author: Ivar Smolin <okul@linux.ee>
Date:	2010-06-02

    Estonian translation updated

M	po/et.po

commit 015f27b9bb382713dce3f938c240d631a9b79522
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2010-06-01

    Updated Norwegian bokmål translation

M	po/nb.po

commit c344d87a2e1ef24ef7edd246ef3a0c8d310374a1
Author: Ivar Smolin <okul@linux.ee>
Date:	2010-05-31

    Estonian translation updated

M	po/et.po

commit 4cd999eeb259403fbc77062bd7bd547f66fcde5c
Author: Alexander Larsson <alexl@redhat.com>
Date:	2010-05-31

    Fix build error due to missing semicolon

M	monitor/afc/afcvolume.c

commit ae241d6aed0fb09037e2f08438e3316b30c48578
Author: Christian Kirbach <Christian.Kirbach@googlemail.com>
Date:	2010-05-30

    Updated German translation

M	po/de.po

commit 9a8f332ad7b0d10c5543617ba2276aedaedc4761
Author: Nikias Bassen <nikias@gmx.li>
Date:	2010-05-30

    AFC: add dialog for password protected devices

    https://bugzilla.gnome.org/show_bug.cgi?id=618019

M	daemon/gvfsbackendafc.c

commit fefbd88952ad9336d93143556b2349a833a1eb2d
Author: Nikias Bassen <nikias@gmx.li>
Date:	2010-05-29

    AFC: remove com.apple.afc dependency from afc volume monitor

    We can get the required information via lockdown even if we are
    not a trusted host, e.g. when a passcode is set and the device has not
    been paired before.

    https://bugzilla.gnome.org/show_bug.cgi?id=618019

M	monitor/afc/afcvolume.c

commit 79a3980800d66bd11d05416f561cc91891e5f17d
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2010-05-27

    Bump version

M	configure.ac

commit e564f383f2f1cf140acee71371dda3a3a83bb935
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2010-05-26

    Rename gdbusutils.h to avoid conflict with GIO

    This makes gvfs build with recent glib again, see bug #619537

M	client/gdaemonfile.c
M	client/gdaemonfilemonitor.c
M	client/gdaemonmount.c
M	client/gdaemonvfs.c
M	client/gvfsdaemondbus.c
M	client/gvfsfusedaemon.c
M	client/gvfsiconloadable.c
M	common/Makefile.am
M	common/gmountoperationdbus.c
M	common/gmountsource.c
M	common/gmountspec.c
M	common/gmounttracker.c
M	common/gvfsdaemonprotocol.c
R099	common/gdbusutils.c	common/gvfsdbusutils.c
R097	common/gdbusutils.h	common/gvfsdbusutils.h
M	daemon/gvfsbackend.c
M	daemon/gvfsbackend.h
M	daemon/gvfsdaemon.c
M	daemon/gvfsdaemonutils.c
M	daemon/gvfsjobcopy.c
M	daemon/gvfsjobcreatemonitor.c
M	daemon/gvfsjobdbus.c
M	daemon/gvfsjobdelete.c
M	daemon/gvfsjobenumerate.c
M	daemon/gvfsjobmakedirectory.c
M	daemon/gvfsjobmakesymlink.c
M	daemon/gvfsjobmount.c
M	daemon/gvfsjobmountmountable.c
M	daemon/gvfsjobmove.c
M	daemon/gvfsjobopenforread.c
M	daemon/gvfsjobopenforwrite.c
M	daemon/gvfsjobopeniconforread.c
M	daemon/gvfsjobpollmountable.c
M	daemon/gvfsjobpull.c
M	daemon/gvfsjobpush.c
M	daemon/gvfsjobqueryattributes.c
M	daemon/gvfsjobqueryfsinfo.c
M	daemon/gvfsjobqueryinfo.c
M	daemon/gvfsjobsetattribute.c
M	daemon/gvfsjobsetdisplayname.c
M	daemon/gvfsjobstartmountable.c
M	daemon/gvfsjobstopmountable.c
M	daemon/gvfsjobtrash.c
M	daemon/gvfsjobunmount.c
M	daemon/gvfsjobunmountmountable.c
M	daemon/mount.c
M	metadata/meta-daemon.c
M	metadata/meta-set.c
M	monitor/gphoto2/hal-pool.c
M	monitor/hal/hal-pool.c
M	monitor/proxy/gproxydrive.c
M	monitor/proxy/gproxymount.c
M	monitor/proxy/gproxymountoperation.c
M	monitor/proxy/gproxyshadowmount.c
M	monitor/proxy/gproxyvolume.c
M	monitor/proxy/gproxyvolumemonitor.c
M	monitor/proxy/gvfsproxyvolumemonitordaemon.c

commit f2e5a2c33a407ec44c033edbe58780ca0148ac70
Author: Andreas Henriksson <andreas@fatal.se>
Date:	2010-05-25

    Fix bashism in configure.ac

M	configure.ac

commit 9ed1451eb71d1bd5ce1301a8437bc9dbe7e857db
Author: Mattias Põldaru <mahfiaz gmail com>
Date:	2010-05-20

    Estonian translation updated

M	po/et.po

commit 85e0b784aa30148ff20e327deb17fb42482bdd88
Author: Thomas Thurman <tthurman@gnome.org>
Date:	2010-05-16

    Updated Shavian translation

M	po/en@shaw.po

commit 7b9c182a145c9dc0d90d04edaa9a6d3896d4c379
Author: Thomas Thurman <tthurman@gnome.org>
Date:	2010-05-12

    Updated Shavian transliteration

M	po/en@shaw.po

commit f5b7406fe1ef1977ce17a980f490848e5d74af3a
Author: Alexander Larsson <alexl@redhat.com>
Date:	2010-04-26

    Post release version bump

M	configure.ac

commit 922d5732b82beb36fd13860f27d13ecff0b2afa1
Author: Alexander Larsson <alexl@redhat.com>
Date:	2010-04-26

    Update NEWS for release

M	NEWS

commit 3d5cae7afed2f93f0c3a61526c2f3bf6a7b73842
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2010-04-19

    Skip malformed data from the backend side

    Sometimes we may get unexpected data from dbus which was leading
    to an endless loop.

    See bug 614544 for reference.

M	common/gvfsdaemonprotocol.c

commit 44d24d60dcd850e13e941c28f3250981abee6fe5
Author: Andika Triwidada <andika@gmail.com>
Date:	2010-04-24

    Added Indonesian translation
    Added id to LINGUAS

M	po/LINGUAS
A	po/id.po

commit 85e53aa6c708b83b14687f4660266dba7e9c3f96
Author: Carles Ferrando <carles.ferrando@gmail.com>
Date:	2010-04-21

    Updated Catalan (Valencian) translation

M	po/ca@valencia.po

commit afb0eb4f2e0d8d1a85fb4cd60dfd7fc5a69efbd1
Author: Olav Vitters <olav@vitters.nl>
Date:	2010-04-18

    Fix doap file

M	gvfs.doap

commit 127dc4251ea02365968996b6508c850943281422
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	2010-04-14

    Do not ignore CD drives with blank media

    Extend the special casing of CD drives in should_drive_be_ignored()
    to also
    cover blank media. Otherwise we lose the drive for the blank media
    volume, and
    with it the possibility to eject it.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=598554
    Bug-Ubuntu: https://launchpad.net/bugs/425104

M	monitor/gdu/ggduvolumemonitor.c

commit 253ffce059fc6a25ec6d58f5bace4f18ecc7f3ea
Author: Benjamin Otte <otte@redhat.com>
Date:	2010-04-08

    ftp: Parse PWD reply according to RFC

    https://bugzilla.gnome.org/show_bug.cgi?id=614401

M	daemon/gvfsbackendftp.c

commit 909b1ef3998395d5a10f908bedea988bbaa85ad9
Author: Benjamin Otte <otte@redhat.com>
Date:	2010-04-08

    ftp: Add missing \n to debug message

M	daemon/gvfsbackendftp.c

commit 1cb5861795d375719b196ecf93fb0a10397414d3
Author: Martin Szulecki <opensuse@sukimashita.com>
Date:	2010-04-07

    afc: Detect iPad and set correct icon name

    https://bugzilla.gnome.org/show_bug.cgi?id=615039

M	daemon/gvfsbackendafc.c
M	monitor/afc/afcvolume.c

commit 1d648805dbea63d98af14f3e45dcdf3eb3f77c14
Author: Bastien Nocera <hadess@hadess.net>
Date:	2010-04-04

    Disable x-content-types for jailbroken iDevices

    The jailbroken file system access isn't supported by
    libgpod, so it's useless for us to say that it's a
    media-player.

    https://bugzilla.gnome.org/show_bug.cgi?id=614615

M	daemon/gvfsbackendafc.c

commit 2b60aba51a074be39923d81f3384dc2f869592ff
Author: Jordi Serratosa <jordis.lists@gmail.com>
Date:	2010-04-02

    Fixes to Catalan translation

M	po/ca.po

commit d80c63deb48e07b328ced31b38af878314d40040
Author: Benjamin Otte <otte@redhat.com>
Date:	2010-03-31

    Attach cancellable to async result and check in finish functions

    This makes sure we always return ERROR_CANCELLED, just like we want to
    guarantee and avoids crashes in the file chooser.

    There should be API in GSimpleAsyncResult to attach a GCancellable
    that
    does this job for us, but so far there isn't, so we use
    g_object_get/set_data() and check the cancellables manually in the
    finish function.

    https://bugzilla.gnome.org/show_bug.cgi?id=614099

M	client/gdaemonfileenumerator.c

commit 771349122fcca712aaf1e95525d3fd403e5dd7fb
Author: Benjamin Otte <otte@redhat.com>
Date:	2010-03-31

    Revert "Use complete_with_cancellable() in file enumerator"

    This reverts commit 5af6a1dbdd2c6a61b515a5bd64350db3af16dae7.

    Replacing complete_in_idle() with a call that directly completes
    is BAD
    BAD BAD.

M	client/gdaemonfileenumerator.c

commit 5af6a1dbdd2c6a61b515a5bd64350db3af16dae7
Author: Benjamin Otte <otte@redhat.com>
Date:	2010-03-29

    Use complete_with_cancellable() in file enumerator

    This makes sure we always return ERROR_CANCELLED, just like we want to
    guarantee and avoids crashes in the file chooser.

    https://bugzilla.gnome.org/show_bug.cgi?id=614099

M	client/gdaemonfileenumerator.c

commit 9fd065a09b362d1be7c331f50bbb92f4f69bb487
Author: Jamil Ahmed <itsjamil@gmail.com>
Date:	2010-03-29

    Updated Bengali translation

M	po/bn.po

commit 3a31b77d85baba5ed9e68c5ad99e1d1117fb4827
Author: Alexander Larsson <alexl@redhat.com>
Date:	2010-03-29

    Post release version bump

M	configure.ac

commit 019850a3fbfe974b6f2a1b76ddf88ef1e542a50e
Author: Alexander Larsson <alexl@redhat.com>
Date:	2010-03-29

    Bump version to 1.6.0

M	configure.ac

commit 3b2980998911bedd8b0fd070cd2ee8176f0bfaa2
Author: Alexander Larsson <alexl@redhat.com>
Date:	2010-03-29

    Update NEWS for release

M	NEWS

commit 88541c3c61cd20e9d216ef55a7ceb33c9634f6d4
Author: Jamil Ahmed <itsjamil@gmail.com>
Date:	2010-03-28

    Updated Bengali translation

M	po/bn.po

commit 0faeca1faf54cec0a03a7ad5cbdaff19b64a27a8
Author: Ask H. Larsen <asklarsen@gmail.com>
Date:	2010-03-27

    Updated Danish translation

M	po/da.po

commit 91e0f7bc24576d7ae775d5c879626a7dfdc39da8
Author: Žygimantas Beručka <zygis@gnome.org>
Date:	2010-03-26

    Updated Lithuanian translation

M	po/lt.po

commit 470ee12d5e504174d3d9cc5f4c3c113b131c6545
Author: Maxim V. Dziumanenko <dziumanenko@gmail.com>
Date:	2010-03-26

    Updated Ukrainian translation

M	po/uk.po

commit b6202b86025fb7d363477a4a29620fa0198e4c56
Author: Bastien Nocera <hadess@hadess.net>
Date:	2010-03-22

    Ignore gphoto2 mounts on AFC capable devices

    Requires a small usbmuxd udev rules change, to mark devices
    with the USBMUXD_AFC_DEVICE property.

    https://bugzilla.gnome.org/show_bug.cgi?id=591009

M	monitor/gphoto2/ggphoto2volumemonitor.c

commit 1d1ce86222b0a34451b7fc798824e69dd0ebf93b
Author: Bastien Nocera <hadess@hadess.net>
Date:	2010-03-22

    Fix compilation with libimobiledevice 1.0.0

    AFC_E_INVALID_ARGUMENT was renamed to AFC_E_INVALID_ARG
    in
    http://github.com/MattColyer/libiphone/commit/36048ded8efda588a20b5cf284670a984f7cc650

    https://bugzilla.gnome.org/show_bug.cgi?id=613588

M	daemon/gvfsbackendafc.c

commit 02c283cf39aeede908d32a1c4b72487f7531d057
Author: Inaki Larranaga Murgoitio <dooteo@zundan.com>
Date:	2010-03-24

    Updated Basque language

M	po/eu.po

commit 24a6194d63f23e6a8a641e79388b6562d80ec034
Author: Miloš Popović <mpopovic@src.gnome.org>
Date:	2010-03-23

    Updated Serbian translations

M	po/sr.po
M	po/sr@latin.po

commit 4c2685e6b28da33e99b66e0646a7478193c583af
Author: Tommi Vainikainen <thv@iki.fi>
Date:	2010-03-22

    Updated Finnish translation

M	po/fi.po

commit 6d23e54344e78a7d71868469ad050a7f145fe043
Author: Theppitak Karoonboonyanan <thep@linux.thai.net>
Date:	2010-03-22

    Updated Thai translation.

M	po/th.po

commit b49bce995c5ac3a7c83d8d4d6e7d5bc9051a832f
Author: Adi Roiban <adi@roiban.ro>
Date:	2010-03-22

    Update Romanian translation

M	po/ro.po

commit f7984412f4abf110588ae1089ffc8d1840df64c1
Author: A S Alam <aalam@users.sf.net>
Date:	2010-03-21

    update Punjabi Translation

M	po/pa.po

commit fd07a5aab9f399f2875954cd9685aafae51d9781
Author: Gil Forcada <gforcada@gnome.org>
Date:	2010-03-20

    Updated Catalan translation

M	po/ca.po

commit 7f757bc8d460c3537e1184c6d27fd49caadc64e3
Author: Leonid Kanter <leon@asplinux.ru>
Date:	2010-03-20

    Update Russian translation from Юрий Козлов

M	po/ru.po

commit b0a6de29928a0fcd1801d93ceabb68f6c714032e
Author: Petr Kovar <pknbe@volny.cz>
Date:	2010-03-20

    Update Czech translation

M	po/cs.po

commit 391da1a312405d57a57aede455f4179484359440
Author: Mattias Põldaru <mahfiaz gmail com>
Date:	2010-03-19

    Estonian translation updated

M	po/et.po

commit 92aabfa200d529c66bea939bce784c86a65d2725
Author: Nils-Christoph Fiedler <fiedler@medienkompanie.de>
Date:	2010-03-18

    Updated LowGerman translation

M	po/nds.po

commit 35945e90ab0d681424d117bf77cfee61525961d3
Author: Nikos Bakaoukas <nikolaos.x1@gmail.com>
Date:	2010-03-18

    Updated Greek translation for gvfs

M	po/el.po

commit 2f3be69106cc413a8aa97e64bf49eaa6b4856333
Author: Wouter Bolsterlee <Wouter Bolsterlee uws@xs4all.nl>
Date:	2010-03-16

    Dutch translation updated by Wouter Bolsterlee

M	po/nl.po

commit 27478c09c87946217e8ba6108467fd49dc0b9e26
Author: Nikias Bassen <nikias@gmx.li>
Date:	2010-03-15

    g_vfs_backend_afc_open_for_read: only open regular files

    https://bugzilla.gnome.org/show_bug.cgi?id=612536

M	daemon/gvfsbackendafc.c

commit 7900fd49cb10286976d5472645f69313692454c8
Author: Nikias Bassen <nikias@gmx.li>
Date:	2010-03-15

    g_vfs_backend_afc_set_info_from_afcinfo: set content type even if
    matcher is NULL

    https://bugzilla.gnome.org/show_bug.cgi?id=612536

M	daemon/gvfsbackendafc.c

commit 3986b1875086d6ca0926b8a7f99d41f58faa3311
Author: Nils-Christoph Fiedler <fiedler@medienkompanie.de>
Date:	2010-03-15

    Added LowGerman translation

M	po/nds.po

commit 3070365262536f531886104f4c1dbded0abb0e2f
Author: Nils-Christoph Fiedler <fiedler@medienkompanie.de>
Date:	2010-03-15

    Added LowGerman translation

A	po/nds.po

commit 3ffb44da38239be7b7601e70bc1a4a70e69c92be
Author: Nils-Christoph Fiedler <fiedler@medienkompanie.de>
Date:	2010-03-15

    Added LowGerman translation

M	po/LINGUAS

commit d6a1b7d5e86de07813f92e93bec92fc8263b3a91
Author: Changwoo Ryu <cwryu@debian.org>
Date:	2010-03-14

    Updated Korean translation

M	po/ko.po

commit 65e52020c3910ca121d04279b99fc31bffc93118
Author: Luca Ferretti <lferrett@gnome.org>
Date:	2010-03-13

    Updated Italian translation

M	po/it.po

commit 850bea3be8b1f1e1c9a6662554e5aa076da90f56
Author: Inaki Larranaga Murgoitio <dooteo@zundan.com>
Date:	2010-03-12

    Updated Basque language

M	po/eu.po

commit d1f91080e7561ff7661607d8743566a7d2d65569
Author: Duarte Loreto <happyguy_pt@hotmail.com>
Date:	2010-03-10

    Updated Portuguese translation

M	po/pt.po

commit bdd0f9bca36f58e5a40537b9f34b8d46c4bc29c8
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2010-03-08

    Post release version bump

M	configure.ac

commit 1f83926467c536896567def28eec2591f590cbb9
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2010-03-08

    Update for 1.5.5

M	NEWS
M	configure.ac

commit 7b0ec45df5e7bc26403b5244a060f55db7997c1d
Author: Gabor Kelemen <kelemeng@gnome.hu>
Date:	2010-03-06

    Updated Hungarian translation

M	po/hu.po

commit 96e9f4b30cb9b4c70f4217f30a0d56a5747d7619
Author: Bastien Nocera <hadess@hadess.net>
Date:	2010-03-05

    Correct return values on error for programs

    Most of those programs would return 0 even on error. They
    should instead return 1 when an error occurred.

    https://bugzilla.gnome.org/show_bug.cgi?id=611891

M	programs/gvfs-copy.c
M	programs/gvfs-mkdir.c
M	programs/gvfs-move.c
M	programs/gvfs-rename.c
M	programs/gvfs-rm.c
M	programs/gvfs-trash.c

commit 90f1804c600b9ac22bb2a9fa3cef364b594baaa9
Author: Fran Diéguez <frandieguez@ubuntu.com>
Date:	2010-03-05

    Update Galician translation

M	po/gl.po

commit a2e074ab0338f28cecb56015d10ed4c5718d8b05
Author: Jonh Wendell <jwendell@gnome.org>
Date:	2010-03-04

    Updated Brazilian Portuguese translation

M	po/pt_BR.po

commit 9a219621cc40e7bebd646d4a8ddc85033eabf217
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2010-03-04

    Updated Norwegian bokmål translation

M	po/nb.po

commit ee612a90688efce2994b9530ce656a4761ebcbbc
Author: vasudeven <agnihot3@gmail.com>
Date:	2010-03-03

    updated Tamil translation

M	po/ta.po

commit 8fe80ff2bfcfbbd788e72a77015fc55ded6f7053
Author: Daniel Nylander <po@danielnylander.se>
Date:	2010-02-28

    Updated Swedish translation

M	po/sv.po

commit 1b5f9b516f72e9b20ab87b90e376314ebed13833
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:	2010-02-27

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

M	po/zh_HK.po
M	po/zh_TW.po

commit 19770bc86be3453307c0dab87cbf0cde0d28559a
Author: Claude Paroz <claude@2xlibre.net>
Date:	2010-02-26

    Updated French translation

M	po/fr.po

commit 483db9169ab96b0599a94b3f5887fb320b84175d
Author: Benjamin Otte <otte@redhat.com>
Date:	2010-02-25

    archive: Use archive_errno() the correct way

    Previous code was assuming that archive_errno() would report the last
    error that happened or SUCCESS if none. This is not true, however
    as the
    return value of archive_errno() is undefined if no error happened.
    This patch changes it to only call archive_errno() after errors.

    https://bugzilla.gnome.org/show_bug.cgi?id=611057

M	daemon/gvfsbackendarchive.c

commit aaccec1ea490fdef9c38a2324e081ef7015f4655
Author: Benjamin Otte <otte@redhat.com>
Date:	2010-02-17

    ftp: Cleanup

    Closing the data condition works unconditionally, the close function
    checks itself.

M	daemon/gvfsftpconnection.c

commit a64eda36e76d06fb7eb9f15a323c9fc90c49ec4a
Author: Leonid Kanter <leon@asplinux.ru>
Date:	2010-02-25

    Update Russian translation

M	po/ru.po

commit 2e1af4e5436beca95240588408fdff83a9586d31
Author: Khaled Hosny <khaledhosny@eglug.org>
Date:	2010-02-24

    Updated Arabic translation

M	po/ar.po

commit d37e019c6ffb74bbd4b8451db4b345b6e5293255
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	2010-02-24

    Updated Polish translation

M	po/pl.po

commit 9e7e4dbaf06391267dfe506e67b5c710374b9213
Author: Bruce Cowan <bcowan@fastmail.co.uk>
Date:	2010-02-24

    Updated British English translation

M	po/en_GB.po

commit dbab1a8f7fbc37287cb07cb85b67c13fef3a59ae
Author: Mario Blättermann <mariobl@gnome.org>
Date:	2010-02-23

    Updated German translation

M	po/de.po

commit 613fc234f81f492e54865f7838e1d333d33be100
Author: Shushi Kurose <md81bird@hitaki.net>
Date:	2010-02-24

    Updated Japanese translation.
    Reviewed by Takayuki KUSANO.

M	po/ja.po

commit ac389f77aecaf459f7a3a89814d4dd2d0e21577d
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	2010-02-23

    Updated Slovenian translation

M	po/sl.po

commit d489b1d29f51f2d7d4caacaaca5232660c1da970
Author: Christian Kellner <gicmo@gnome.org>
Date:	2010-02-23

    Fix with-dbus-service-dir configure switch

    Got broken by the commit 9936956378f295a12b05b5194af2397be2a9c94f

M	configure.ac

commit de8724d5fe6ba276f87fbf03ffa9c9957807bdc6
Author: Alexander Shopov <ash@contact.bg>
Date:	2010-02-23

    Updated Bulgarian translation

M	po/bg.po

commit d3fa26c2fc00c4e5ab2f4d225b4502f63c769a6f
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:	2010-02-22

    Updated Spanish translation

M	po/es.po

commit ca93089f30a5943e902c2734af2db78534a2f560
Author: Alexander Larsson <alexl@redhat.com>
Date:	2010-02-22

    Add missing files to POTFILES.in

M	po/POTFILES.in

commit a7cb9972204cdaf6d0c2be322537dc788f8bb556
Author: Alexander Larsson <alexl@redhat.com>
Date:	2010-02-22

    Require gdu 2.29.0

M	configure.ac

commit aa1f57737acc4ba448eae0f38693bb0035f8b8cd
Author: Jonh Wendell <jwendell@gnome.org>
Date:	2010-02-22

    Updated Brazilian Portuguese translation

M	po/pt_BR.po

commit 653eb6b4ccc1354eda261fdd03dd28a59db851f6
Author: Alexander Larsson <alexl@redhat.com>
Date:	2010-02-22

    Update for release

M	NEWS

commit 0d87df3576baf0856168a828ca5624b79f996506
Author: vasudeven <agnihot3@gmail.com>
Date:	2010-02-22

    updated Tamil translation

M	po/ta.po

commit 4fd3f8eb383f2e99aa551d351e2e4f561a147bd3
Author: vasudeven <agnihot3@gmail.com>
Date:	2010-02-22

    updated Tamil translation

M	po/ta.po

commit a99ac8c7dcc49c0ce16c0453e851ad25521c07d1
Author: Daniel Nylander <po@danielnylander.se>
Date:	2010-02-21

    Updated Swedish translation

M	po/sv.po

commit 17503e4a2ba236ab13f35e6993aee33d2b0366a6
Author: Leonid Kanter <leon@asplinux.ru>
Date:	2010-02-21

    Updated Russian translation

M	po/ru.po

commit 7b32a0e86e8c74f415f9da3172e6ee4e10de78d3
Author: Mario Blättermann <mariobl@gnome.org>
Date:	2010-02-20

    Updated German translation

M	po/de.po

commit 1a18a82314a89d9ef22798261ed56de78175d3bd
Author: Marcus Meissner <meissner@suse.de>
Date:	2010-02-19

    Bug 610259 – Handle readonly+delete devices

    https://bugzilla.gnome.org/show_bug.cgi?id=610259

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	daemon/gvfsbackendgphoto2.c

commit 1f0f5b85bf282069830fe9b3fb71800bab9d521a
Author: David Zeuthen <davidz@redhat.com>
Date:	2010-02-19

    Identify gdu volume objects using presentable id, not the device file

    We need this bugfix to get LVM2 to work - this is because
    GduLinuxLvm2Volume objects may not have a device file at all.


    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/gdu/ggduvolumemonitor.c

commit 43caa40830960e2e295ec9fccb3eebef4885ab5a
Author: David Zeuthen <davidz@redhat.com>
Date:	2010-02-19

    Clarify comment in should_drive_be_ignored() function

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/gdu/ggduvolumemonitor.c

commit 2509eee2d63664d91b5f4152c42252b8e3ae2b63
Author: David Zeuthen <davidz@redhat.com>
Date:	2010-02-19

    Add has_presentable() method to GGduVolume

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/gdu/ggduvolume.c
M	monitor/gdu/ggduvolume.h

commit 9bc16c5eac225e42c414f732f61eed27a8866e99
Author: David Zeuthen <davidz@redhat.com>
Date:	2010-02-19

    Use g_strcmp0 to compare strings, not ==

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/gdu/ggdudrive.c

commit 349d2e8bb4f781ea7be9094d54438ff7e470b610
Author: David Zeuthen <davidz@redhat.com>
Date:	2010-02-19

    Handle GduDevice being NULL when stopping the drive

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/gdu/ggdudrive.c

commit 14c6de23dc069974f3edde72501dc053ae0f57ed
Author: David Zeuthen <davidz@redhat.com>
Date:	2010-02-19

    If a GGduDrive lacks a GduDevice, set removable to FALSE

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/gdu/ggdudrive.c

commit 28cac0d0e24e8e3f58ef82503b5acedd7fc5b096
Author: David Zeuthen <davidz@redhat.com>
Date:	2010-02-19

    Update comment stating that it's fine to have a NULL GduDevice

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/gdu/ggdudrive.c

commit 58dcf9fb5d25f292cc4c99b51c4263b2e23241be
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2010-02-19

    ftp: GVfsJobPull: perform any cache lookups before opening data
    connection

    After the delete op, cache was invalidated and an attempt was made
    to retrieve
    file size in do_pull() while data connection was already opened. This
    patch
    only moves all necessary operations before setting up actual data
    stream for
    download.

    Fixes bug 610395

M	daemon/gvfsbackendftp.c

commit d2d9ec2d7144c6b41788f79cd5da390e46f49232
Author: Fran Diéguez <frandieguez@ubuntu.com>
Date:	2010-02-19

    Updated Galician Translation

M	po/gl.po

commit 82667b5437c49ab73d36d1d3b3f664ea25c35397
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2010-02-19

    sftp: retain chosen password save option across mount phases

    When username changes, we need to respawn the underlying process and
    go through handle_login() again. We need to save the GPasswordSave
    value
    temporarily to have the password actually saved if desired.

M	daemon/gvfsbackendsftp.c

commit 2a1b925f80f3b7decf70139834dd002971e6735e
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	2010-02-19

    Updated Slovenian translation

M	po/sl.po

commit 836feafd91ec27b869b2b12ab3965079f9f3c661
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	2010-02-19

    Updated Slovenian translation

M	po/sl.po

commit f5b66ae4ab494f020106a92d0e6c9a4ad1730813
Author: Christian Kellner <gicmo@gnome.org>
Date:	2010-02-19

    Always call back from mainloop in
    g_daemon_file_find_enclosing_mount_async

    On cache hit g_daemon_file_find_enclosing_mount_async would
    immediately
    call the callback function which breaks the aysnc-pattern contract.
    Fixes bug #609002.

M	client/gdaemonvfs.c

commit 3f83307a35931e7509b7b0583e5f6a0ed3b7bbc4
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:	2010-02-19

    Updated Spanish translation

M	po/es.po

commit e49e9cc3ff23c50e0748316fd728de5dfd5a2db1
Author: Christian Kellner <gicmo@gnome.org>
Date:	2010-02-19

    gvfs-save: cmd-line help fix newly introduced typo (oops)

M	programs/gvfs-save.c

commit 9936956378f295a12b05b5194af2397be2a9c94f
Author: Christian Kellner <gicmo@gnome.org>
Date:	2010-02-19

    Use AS_HELP_STRING everywhere

    Heavly based on a patch from Mikel Olasagasti
    <hey_neken@mundurat.net>;
    fixes bug #586726.

M	configure.ac

commit efb0fb0159df98403c6548cb00052a95e5b42f9a
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:	2010-02-18

    Updated Spanish translation

M	po/es.po

commit 0344cf33086573006a8917b9d01169e12b6ba7c8
Author: Christian Kellner <gicmo@gnome.org>
Date:	2010-02-18

    gvfs-save: Fix cmd-line help and error reporting

    Last part to fix bug #593045

M	programs/gvfs-save.c

commit b7cf5c8aab80aa43eca9b9603bc76483f847d288
Author: Christian Kellner <gicmo@gnome.org>
Date:	2010-02-18

    gvfs-move: Fix cmd-line help and error reporting

    Partly fixes bug #593045

M	programs/gvfs-move.c

commit 9ae416270a036a1be4c7bb28fbb934d46e68123d
Author: Christian Kellner <gicmo@gnome.org>
Date:	2010-02-18

    gvfs-copy: Fix cmd-line help and error reporting

    Partly fixes bug #593045

M	programs/gvfs-copy.c

commit 79baa66e0c7cae05620187948c960bbe04f731a6
Author: Christian Kellner <gicmo@gnome.org>
Date:	2010-02-18

    gvfs-monitor-[dir|file]: Support for "move events"

    GIO gained has support for file-monitoring "move events" since 2.23.4.
    Make use of those in gvfs-monitor-[dir|file] unless new commandline
    option "-N" is specified. (Bump glib requirement accordingly).

M	configure.ac
M	programs/gvfs-monitor-dir.c
M	programs/gvfs-monitor-file.c

commit e1777882d5f8088c9c61732396aceb835139c531
Author: Vladimir Melo <vmelo@gnome.org>
Date:	2010-02-17

    Updated Brazilian Portuguese translation

M	po/pt_BR.po

commit 2ff92f74cebf29c308babba6ea3d9fa0f2b3b967
Author: vasudeven <agnihot3@gmail.com>
Date:	2010-02-17

    updated Tamil translation

M	po/ta.po

commit 4af8e8d04ef992805766066d4684adc782588d95
Author: Mario Blättermann <mariobl@gnome.org>
Date:	2010-02-17

    Updated German translation

M	po/de.po

commit 25c16e2d78d026e4a9d9a1f2cb089ff8f0d7b3b0
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:	2010-02-16

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

M	po/zh_HK.po
M	po/zh_TW.po

commit 2286d939a7c931f63847268b4ffb842dca7df3e7
Author: Fran Diéguez <frandieguez@ubuntu.com>
Date:	2010-02-15

    Updated Galician Translation

M	po/gl.po

commit 61a48504d65bacaf3e3cd48f5885757975145daf
Author: Bruno Brouard <annoa.b@gmail.com>
Date:	2010-02-15

    Updated French translation

M	po/fr.po

commit f06989be68a60215b66376210bd367507c7b5c3c
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2010-02-15

    sftp: Cancel all pending reads in reply_stream on unmount

    Close the active read_reply_async() channel waiting for input from
    the sftp process.

M	daemon/gvfsbackendsftp.c

commit f7634738ef201deefec1148ef98ee94b6456633c
Author: Christian Kellner <gicmo@gnome.org>
Date:	2010-02-15

    Call gio-querymodules only when DESTDIR is not set

    This is a bug introduced in a18a1896c0bceaf9a467f00a9678e322d615e786.
    We want to call gio-querymodules on install, except when building a
    package.
    Based on a patch from Vincent Untz <vuntz@gnome.org>. Fixes #609927.

M	Makefile.am

commit 52ab4355f74a0862815ce2d29a6388830c2cb244
Author: Christian Kellner <gicmo@gnome.org>
Date:	2010-02-14

    Use g_poll instead of poll in metatree.c

    Patch by "paul <ephraim_owns@hotmail.com>" Fixes bug #60468.

M	metadata/metatree.c

commit 3618893e907ebf3d89237cd70460da81b9429f11
Author: Lucian Adrian Grijincu <lucian.grijincu@gmail.com>
Date:	2010-02-13

    Update Romanian translation

M	po/ro.po

commit 79cdc9f437a4ca28af30856651d489e5b8e17e1e
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	2010-02-11

    Updated Slovenian translation

M	po/sl.po

commit ca9185021c0174f37698aa2532db9ac27aa40c66
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2010-02-10

    Updated Norwegian bokmål translation

M	po/nb.po

commit 7149d2064a4e95123f484b66158a7d9bed508a72
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2010-02-09

    Post release version bump

M	configure.ac

commit 7c6680f4cba8b5e5792d58802a62da1374a98341
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2010-02-09

    Update NEWS for 1.5.3

M	NEWS

commit a18a1896c0bceaf9a467f00a9678e322d615e786
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2010-02-09

    Fix dist issues

    - wrong path used in linking common libs
    - don't query modules when gio-querymodules is not available

M	Makefile.am
M	monitor/afc/Makefile.am

commit b1423ef4ae8883bc38a510fd606377a91fbe6201
Author: Benjamin Otte <otte@redhat.com>
Date:	2010-02-07

    ftp: Prefer PASV/PORT to EPSV/EPRT for IPv4

    As PASV and PORT are older, there's a higher chance that they are
    supported. As only IPv4 connections can use these commands, IPv6 will
    still prefer EPSV/EPRT.

    The order of methods now looks like this (assuming EPSV and EPRT are
    supported):
    IPv4: PASV EPSV PORT EPRT
    IPv6: EPSV EPRT PASV
    Note that PASV for IPv6 will try the returned port and the known
    remote
    address since the IP is not reliable (That's the fallback part
    in IPv4).

M	daemon/gvfsftptask.c

commit cc97f892cecceaea38e981c63cc37a9c3d2e37b1
Author: Benjamin Otte <otte@redhat.com>
Date:	2010-02-07

    ftp: Require IPv4 connections for PASV/PORT commands

M	daemon/gvfsftptask.c

commit 153fae8d1f6796686d46de0ecbd58281738f30e9
Author: Benjamin Otte <otte@redhat.com>
Date:	2010-02-07

    ftp: put check if a method is supported into its own function

M	daemon/gvfsftptask.c

commit 4113a6fd0e4b628a71a7144e4009012523945cc9
Author: Benjamin Otte <otte@redhat.com>
Date:	2010-02-07

    ftp: Name the struct used for selecting the data connection method

M	daemon/gvfsftptask.c

commit d3f5454a53127b5c73738e394db461070c81942f
Author: Benjamin Otte <otte@redhat.com>
Date:	2010-02-07

    ftp: Handle cases where symlink target is not defined

    This can happen when systems emulate ls -l output but fail.
    Surprisingly, ProFtpd seems to be one of these.

    https://bugzilla.gnome.org/show_bug.cgi?id=608621

M	daemon/gvfsftpdircache.c

commit c1801c897c88719dc16829919c2de670f36234a8
Author: Theppitak Karoonboonyanan <thep@linux.thai.net>
Date:	2010-02-07

    Updated Thai translation.

M	po/th.po

commit 848a696b16e34cc62157e2f244952f1ab0051a64
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:	2010-02-01

    Updated Spanish translation

M	po/es.po

commit 3f3f130072c94e38d6f07ef37d425a1c86bddd29
Author: Nikias Bassen <nikias@gmx.li>
Date:	2010-01-31

    Update AFC backend and volume monitor for libimobiledevice 0.9.7

M	configure.ac
M	daemon/gvfsbackendafc.c
M	monitor/afc/afcvolume.c
M	monitor/afc/afcvolumemonitor.c

commit a496883e99676e30e56280b7a43551c796552d5f
Author: Bastien Nocera <hadess@hadess.net>
Date:	2010-01-26

    Update AFC backend and volume monitor for libiphone 0.9.6

M	configure.ac
M	daemon/gvfsbackendafc.c
M	monitor/afc/afcvolume.c

commit 903d180db805547a66fdd08afe7d818e9af292c0
Author: Alexander Shopov <ash@contact.bg>
Date:	2010-01-26

    Updated Bulgarian translation

M	po/bg.po

commit 72767a53301cc5c5043f6c36c4e9d0ef417ac202
Author: Jamil Ahmed <itsjamil@gmail.com>
Date:	2010-01-26

    Updated Bengali translation

M	po/bn.po

commit ddbb78869b1b04c6ff5eb808c22bb5ece289b6fe
Author: Alexander Larsson <alexl@redhat.com>
Date:	2010-01-25

    Post release version bump

M	configure.ac

commit 0111f0c8a6a23816aa2f36fa03275eb441df2941
Author: Alexander Larsson <alexl@redhat.com>
Date:	2010-01-25

    Fix dist issue

    We need to always know how to build the hal-marshal.[ch] files and
    that they are BUILD_SOURCES because otherwise we can't dist if hal is
    disabled.

M	monitor/gphoto2/Makefile.am

commit 414deedc39c8a9147a4f354c77b907eb6168baef
Author: Alexander Larsson <alexl@redhat.com>
Date:	2010-01-25

    Bump glib dependency

M	configure.ac

commit 35dc2f63f1d9c39459cc609883b0d9ed6415ffd9
Author: Alexander Larsson <alexl@redhat.com>
Date:	2010-01-25

    Update NEWS for release

M	NEWS

commit 5668452ffb31fcf9479df1f2f1aaadfb64e8ff49
Author: Jamil Ahmed <itsjamil@gmail.com>
Date:	2010-01-24

    Updated Bengali translation

M	po/bn.po

commit d75c004513061c1810c8d03f2ead3a747cbf87ee
Author: Benjamin Otte <otte@redhat.com>
Date:	2010-01-20

    Set variable to NULL after unreffing

    Fixes an assertion that triggers later when finalizing the backend
    object.

    https://bugzilla.gnome.org/show_bug.cgi?id=555543

M	daemon/gvfsbackendarchive.c

commit 51c2c42440ea6e87ed8613073798fce87224675f
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	2009-07-16

    don't build hal monitor when building gdu monitor

    It does not make sense to build both. This came up as a side issue in
    http://bugzilla.gnome.org/show_bug.cgi?id=586410

M	configure.ac

commit d0f3c534168a420ae2656ff626f8459529bcca9a
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	2009-07-16

    configure.ac: Show configured hotplug backend

    This shows "gudev", "hal", or "none", depending on whether
    libgudev/libhal are
    available, and the --{en,dis}able-{hal,gudev} configure switches.

    Discussed as a side issue in
    http://bugzilla.gnome.org/show_bug.cgi?id=586410

M	configure.ac

commit 2fe17d352225731e863117c3349f517eabcf4360
Author: Wouter Bolsterlee <wbolster@gnome.org>
Date:	2010-01-19

    Updated Dutch translation

M	po/nl.po

commit d618141ea5161d05e388e9fbfa4148a6abd976b1
Author: Alexander Larsson <alexl@redhat.com>
Date:	2010-01-18

    Avoid crash on race to mount gvfstrash

    If the trash is already mounted (due to e.g. a race) when registering
    the
    new trash backend we error out and free the trash backend. This caused
    the g_assert_not_reached() in trash_watcher_free to hit.

M	daemon/trashlib/trashwatcher.c

commit ee5a012c46868bdbea506f1ab1ba0b505b0d67a2
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2010-01-13

    Updated Norwegian bokmål translation

M	po/nb.po

commit 59a5fb4883f8178f45c452678a81457ad41ee605
Author: Inaki Larranaga Murgoitio <dooteo@zundan.com>
Date:	2010-01-13

    Updated Basque language

M	po/eu.po

commit 64cc7ebda2a7d5ecaf88a135182a27874bf83e5d
Author: Alexander Larsson <alexl@redhat.com>
Date:	2010-01-12

    Enable support for lazy loading of gio modules

M	Makefile.am
M	client/Makefile.am
M	client/gdaemonvfs.c
M	configure.ac
M	gconf/Makefile.am
M	gconf/gconf-module.c
M	monitor/proxy/Makefile.am
M	monitor/proxy/remote-volume-monitor-module.c

commit 438628c6794fc8f9203fbd99b534371a1aa6d11a
Author: Hans de Goede <jwrdegoede@fedoraproject.org>
Date:	2010-01-12

    Don't leak mount job operation

    gvfs <= 1.5.1 does not properly call the finalize function of
    backends,
    due to a missing unref call. This causes the cleanup functions of the
    libraries underlying the backends to not get called.

    In case of the gphoto2 backend, this causes the kernel driver for dual
    mode webcams (which have a kernel space webcam driver and a userspace
    stillcam driver), to not get re-attached to the device when then
    the gvfs
    mount gets unmounted.

    This patch fixes this by adding a g_object_unref (job) to
    g_vfs_daemon_initiate_mount, which is needed as g_vfs_daemon_queue_job
    takes a reference itself.

    https://bugzilla.gnome.org/show_bug.cgi?id=606194

M	daemon/gvfsdaemon.c

commit 5f181d0e2c71719991c4bbfc6ca91e5438ad29e9
Author: Claude Paroz <claude@2xlibre.net>
Date:	2010-01-09

    Updated French translation

M	po/fr.po

commit ab23ce5608da010aef5b9e0bc672a64b6a2752d7
Author: Daniel Nylander <po@danielnylander.se>
Date:	2010-01-09

    Updated Swedish translation

M	po/sv.po

commit d1947d28585fb6f69ad1899b48598e93115c69f9
Author: Bastien Nocera <hadess@hadess.net>
Date:	2010-01-07

    [afc] Fix indentation

M	daemon/gvfsbackendafc.c

commit 56c3b9cf90bfd53a699b5951677fee9f83b26c2f
Author: Bastien Nocera <hadess@hadess.net>
Date:	2010-01-07

    [obexftp] Use a private D-Bus connection for obex-data-server

    So as to avoid gvfs and our backend fighting over the session
    bus connection, and causing crashers.

    https://bugzilla.gnome.org/show_bug.cgi?id=570366
    https://bugzilla.redhat.com/show_bug.cgi?id=539347

M	daemon/gvfsbackendobexftp.c

commit c85a51fb19123d8a9a2202b8416cc622ae80392b
Author: Maxim V. Dziumanenko <dziumanenko@gmail.com>
Date:	2010-01-05

    Update Ukrainian translation

M	po/uk.po

commit 72bbe547e41a1f0c971fe6d3595bb10ef44630e4
Author: Xandru Armesto Fernandez <xandru@softastur.org>
Date:	2010-01-04

    Updated asturian translation

A	po/ast.po

commit bba96c392d0e9383b76c1de64cc769f9b350d32a
Author: Xandru Armesto Fernandez <xandru@softastur.org>
Date:	2010-01-04

    Added asturian language

M	po/LINGUAS

commit 00ba7fc18a434a7141b93a76f67c2acf36f7f1d0
Author: Theppitak Karoonboonyanan <thep@linux.thai.net>
Date:	2010-01-03

    Updated Thai translation.

M	po/th.po

commit baa3739c57e386fca3c2780bc1bebf7d0d84cae7
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	2010-01-01

    Updated Slovenian translation

M	po/sl.po

commit 9fc5ee1a8b0d6719ebc8f7e35687636ac4bb032c
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-12-20

    Handle the case where gnome-keyring has no password or no username

    Just ignore the keyring then.

M	daemon/gvfsbackendftp.c

commit 36f0fa230827076276d6cfd88cc6423f4c5a9956
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:	2009-12-19

    Updated Spanish translation

M	po/es.po

commit c944e1cb94f4056970381cdd62e3782b56a6013f
Author: Bryce Harrington <bryce@ubuntu.com>
Date:	2009-12-16

    use consistent "file system" spelling (#520902)

M	daemon/gvfsbackendcomputer.c

commit 71272bad835d8c2be0194a912df88a0ba047a1bd
Author: Ivar Smolin <okul@linux.ee>
Date:	2009-12-11

    Updating Estonian translation

M	po/et.po

commit 2bdda4192edb1ee114062d07d5c0565902cb9b67
Author: Aron Xu <aronxu@gnome.org>
Date:	2009-12-09

    Updated Simplified Chinese translation.

M	po/zh_CN.po

commit a342316cb7b9d236ff3063d7b24b7b04c61a379e
Author: David Zeuthen <davidz@redhat.com>
Date:	2009-12-08

    [gdu] Be more careful with automounting - use a whitelist

    The current behavior is that we try to automount all filesystems. This
    has unintended consequences for big iron boxes connected to a SAN when
    the user is logging in as root (thus having all polkit authorizations
    at hand) - literally hundreds or thousands of devices may get mounted.

    As such, only automount filesystems from the current whitelist

     - anything connected via USB or Firewire or SDIO buses
     - optical discs

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/gdu/ggduvolume.c

commit 9d815258f5d0e11a36e2b73adc7e6e7129329ca2
Author: David Zeuthen <davidz@redhat.com>
Date:	2009-12-08

    [gdu] Prefer using dev_t to device file when comparing devices

    This works around new behavior in mount(8) where it decides to put
    /dev/mapper/<blah> in /etc/mtab instead of the /dev/dm-0 device that
    the user actually requested.

    Of course /dev/mapper/<blah> currently does not exist in the udev
    database because of device-mapper brokenness so without this fix
    things can never work if using a sufficiently new mount(8) command.

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/gdu/ggdudrive.c
M	monitor/gdu/ggdudrive.h
M	monitor/gdu/ggduvolume.c
M	monitor/gdu/ggduvolume.h
M	monitor/gdu/ggduvolumemonitor.c
M	monitor/gdu/ggduvolumemonitor.h

commit c1994adbc67be47838d2a20bf1c6420d521cf5d7
Author: David Zeuthen <davidz@redhat.com>
Date:	2009-12-08

    [gdu] Stop assuming that drives have no enclosing presentable

    This makes the gdu volume monitor works with recent gnome-disk-utility
    versions with things like GduHub presentables that represents HBAs and
    Expanders. This will not affect previous gnome-disk-utility versions.

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/gdu/ggduvolume.c
M	monitor/gdu/ggduvolumemonitor.c

commit 5b082a22bcecb6ad3767bf70dbc3d98f08368e19
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-12-03

    [FTP] implement default location support

    https://bugzilla.gnome.org/show_bug.cgi?id=560357
    https://bugzilla.gnome.org/show_bug.cgi?id=561998

M	daemon/gvfsbackendftp.c

commit 0fb2f6262124247137346c478aa018bb16ed87fa
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-12-01

    Move hal-only functions into hal ifdef

M	monitor/gphoto2/ggphoto2volume.c

commit a17a5d9e3a13c0bf516a0955e79a1620efa00c6d
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-12-01

    Handle error case in cache lookup correctly

    If we're in error, we should return NULL, not an uninitialized info.

M	daemon/gvfsftpdircache.c

commit 2f86e533d18c67c5e820d08d53769d82884bff71
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-12-01

    Ensure timer_cancel is initialized

    Otherwise it may be used uninitialized if progress_callback is NULL

M	daemon/gvfsbackendftp.c

commit 79233045b598338c12a7bb73556e1fd9d1aad155
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-12-01

    Fix unused variable error

M	daemon/gvfsbackendcdda.c

commit 25abd8b5b131684a3d6e4016f0c163cf963c9710
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-12-01

    Fix warning

M	daemon/mount.c

commit b3df965ce2cdc3c7acc7d4baf656661cce69e44f
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-12-01

    Fix warning

M	client/gdaemonfileenumerator.c

commit b2984619f1fa9ed1f73bafb3d749f322e17bb605
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-12-01

    Correctly dup strings in meta_tree_lookup_stringv

    Also, make sure to free that in all callers.

M	client/gdaemonvfs.c
M	metadata/metatree.c

commit 40194c85971fb78244e184e4da15383977e231eb
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-12-01

    Fix compiler warning

M	client/gdaemonvfs.c

commit 0498d071cdf03436f028a018f244bfad3912c6cf
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-12-01

    Fix warning

M	metadata/meta-daemon.c

commit 19c12a0f68c84423479510344989ae962b0cdbd3
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-12-01

    Use new G_IMPLEMENT_INTERFACE_DYNAMIC from glib

M	gconf/gapplookupgconf.c
M	monitor/proxy/gproxydrive.c
M	monitor/proxy/gproxymount.c
M	monitor/proxy/gproxyshadowmount.c
M	monitor/proxy/gproxyvolume.c

commit dd3e17181854c91f7c9123360652ae2ec28ea03e
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2009-11-30

    [SMB] Fix free space calculation for older samba servers

    Samba servers older than 3.0.28 report zero values.

M	daemon/gvfsbackendsmb.c

commit 7e01397da40271f990c550dc523fe2fd51983234
Author: Daniel Nylander <po@danielnylander.se>
Date:	2009-11-30

    Updated Swedish translation

M	po/sv.po

commit 63b1632f428f1efffda4dc7e070e470983457df7
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-11-27

    Use default location instead of root when activating mounts in
    computer

M	daemon/gvfsbackendcomputer.c

commit f0b1f941139fdca1c204993049739b6c4a683c2a
Author: Christian Kellner <gicmo@gnome.org>
Date:	2009-10-09

    Add "default location" support

    See Bug 561998

M	daemon/gvfsbackendsftp.c

commit 6ad0cb9175acc635057232fec96d32eaad4e0237
Author: Christian Kellner <gicmo@gnome.org>
Date:	2009-10-09

    Add "default location" support for mounts

    The "default location" of the given mount is a path that reflects
    the main entry point for the user (e.g. the home directory, or the
    root of the volume).

    Backends can use g_vfs_backend_set_default_location () to set the
    default location (before registering the mount).

    https://bugzilla.gnome.org/show_bug.cgi?id=561998

M	client/gdaemonmount.c
M	common/gmounttracker.c
M	common/gmounttracker.h
M	daemon/gvfsbackend.c
M	daemon/gvfsbackend.h
M	daemon/mount.c
M	programs/gvfs-mount.c

commit f2f50e72569406cfd974dcef6f293ebff3378f61
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-11-26

    fuse: Request access::* as needed by file_info_get_stat_mode

    Fixes bug #594791.

M	client/gvfsfusedaemon.c

commit 35659342a9f22f04886655e3e16c70d1ca0aee8a
Author: Thomas Thurman <tthurman@gnome.org>
Date:	2009-11-25

    Shavian translation

M	po/LINGUAS
A	po/en@shaw.po

commit 760cf78fd6e56313bac96b76e86a44785bc33b41
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	2009-11-20

    Updated Slovenian translation

M	po/sl.po

commit 6c1c28873060cb28bc0b2e0d26cbf0d5df3cd8c5
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	2009-11-20

    Updated Slovenian translation

M	po/sl.po

commit 57c7a39c783bd8ae15afa852cb5963ed1602b908
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:	2009-11-19

    Updated Spanish translation

M	po/es.po

commit 59bea4126cf23c575323c59a4cb1123f7cb44e2b
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2009-11-19

    fuse: Fix setting timestamps

    We need to set time in seconds and microseconds separately.
    Moreover, backends may not fully support setting all attributes
    so don't report failure when at least one succeeded.

    At the moment, only SMB supports setting
    G_FILE_ATTRIBUTE_TIME_MODIFIED.

M	client/gvfsfusedaemon.c

commit ea4a116ca8d6c3b9fb0ffe90a7069687973aeeaf
Author: Matt McCutchen <matt@mattmccutchen.net>
Date:	2009-11-19

    Correctly report -ENOSYS for readline in FUSE

    The readlink vfunc is not implemented in the FUSE module so we should
    not report success but an error (-ENOSYS). We also don't implement the
    vfunc for now since that might lead to a security issue (see the
    added comment). This fixes bug #601361.

    Signed-off-by: Christian Kellner <gicmo@gnome.org>

M	client/gvfsfusedaemon.c

commit e7c997882e656751f021c65c2ce71739cf12f585
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2009-11-19

    [SMB] Fix compilation with older libsmbclient versions

    Actually check for smbc_getFunctionStatVFS() presence.
    Unfortunately smbclient pkg-config files still report version 0.

    Fixes bug 602323.

M	configure.ac
M	daemon/gvfsbackendsmb.c

commit 32dc3707bbb93153f9bd3df32259b7bf0e9cd579
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-11-19

    If there are no mtimes in the file, use 0 as mtime base

    Before we used to store -1 (0xffffffff) as the mtime base in this
    case.
    This value is not used if there are no mtimes though, so this is more
    like a cosmetic change.

M	metadata/metabuilder.c

commit f45b677201abb6b8471fa5bc935afda420c28c39
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-11-19

    Don't store write() return val in unsigned variable

    The conversion to unsigned means we failed to recognize errors,
    since if (ret < 0) was never hit. This is the suspected cause
    for data loss in bug 598561.

M	metadata/metabuilder.c

commit ba80e5e40a8d8407d91595bde981ea2f2d64ef5a
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-11-19

    Add -Wtype-limits

    Without this we missed a really bad bug where write() return val
    was put
    in an unsigned int.

M	configure.ac

commit 6592ecb3b95146b84072cf276eb98fba324b11ad
Author: Christian Kellner <gicmo@gnome.org>
Date:	2009-11-18

    Fsync the directory when rotating the metadata

    This is needed so we never end up having a stable file with the
    rotated bit set. Should fix bug #600057.

M	metadata/metabuilder.c

commit 5e0cd74ada6749ab7e489db2fa22bd8cb5d2881c
Author: Christian Kellner <gicmo@gnome.org>
Date:	2009-11-18

    Reread metadata only when the inodes are different

    This will protect against bugs where the stable file has the rotated
    bug set (which should never happen but see bug #600057)

M	metadata/metatree.c

commit 9c675118616667c21d99a5b982229da935ea7ff4
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2009-11-18

    Post release version bump

M	configure.ac

commit 6e0e8a3a9ecdcd1c745092f15ed6feb0a5d3e175
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2009-11-18

    Update for 1.5.1

M	NEWS
M	configure.ac
M	po/POTFILES.in

commit 922d398b8896684e166808ae047764633836913f
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2009-11-18

    [SMB] Fix free space calculation for Windows hosts

    Needs more testing, it's just a workaround.
    libsmbclient docs missing!

M	daemon/gvfsbackendsmb.c

commit 02ee90989d201f3730a928e7756d79cfcfb582bf
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2009-11-15

    Updated Norwegian bokmål translation.

M	po/nb.po

commit 5bf437d9e65d69e985af1c1dc8d9c84cac744c96
Author: Martin Szulecki <opensuse@sukimashita.com>
Date:	2009-11-15

    Fix shadowed mount showing up next to existing volume icon

    The activation_root for a volume was not set when queried and thus
    causing two icons created for the same volume/mount.

    Now it already sets the activiation_root in the volume constructor
    like in the gphoto2 backend.

    https://bugzilla.gnome.org/show_bug.cgi?id=597802

M	monitor/afc/afcvolume.c

commit 24aa2ea08693969d66b263ba2aa9289056b23483
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-11-13

    Fixed parsing of CMU/VMS-IP FTP style listing (upstream)

    upstream references:
    http://bugzilla.mozilla.org/show_bug.cgi?id=515583
    http://hg.mozilla.org/mozilla-central/rev/98330c8132a9
    http://hg.mozilla.org/mozilla-central/rev/cade5b705114

M	daemon/ParseFTPList.c

commit 72d716e37bd8a26361608a69beb60089981dee19
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2009-11-10

    [SMB] Support querying filesystem size and free space

    Requires libsmbclient >= 3.2.0

    Fixes rfe bug 565337

M	daemon/gvfsbackendsmb.c

commit cb5c88866e02ef50f0a22a7575e8b37f540978bf
Author: Bastien Nocera <hadess@hadess.net>
Date:	2009-11-10

    [afc] Only check for a preview icon if actually requested

    Should speed up enumeration slightly.

M	daemon/gvfsbackendafc.c

commit 3a862fe380a9abdbd095086a58acad8bdee9226d
Author: Bastien Nocera <hadess@hadess.net>
Date:	2009-11-09

    [gdu] Use BDMV icon and name if available

    From the mount information, use the BDMV data if it is available.

    https://bugzilla.gnome.org/show_bug.cgi?id=600887

M	monitor/gdu/ggdumount.c

commit cc467bfa5259c1fdb31a54398cd6a4b6085e1fb2
Author: Bastien Nocera <hadess@hadess.net>
Date:	2009-11-05

    [common] Loading icon and title on Blu-ray video discs

    Using the BDMV/META/DL/bdmt_eng.xml file on BDMV discs,
    we can load better names and icons for the disc.

    Adds expat requirement to the common library if it is found.

    https://bugzilla.gnome.org/show_bug.cgi?id=600887

M	common/Makefile.am
M	common/gvfsmountinfo.c
M	common/gvfsmountinfo.h
M	configure.ac

commit 92c179d6ce2682595e7ce1a77e301ffc49e25526
Author: Bastien Nocera <hadess@hadess.net>
Date:	2009-11-06

    [afc] Add x-content types for AFC backend

    https://bugzilla.gnome.org/show_bug.cgi?id=597805

M	daemon/gvfsbackendafc.c

commit 7226f3868128ff7b888a7bde88c6b4484c373b43
Author: Bastien Nocera <hadess@hadess.net>
Date:	2009-11-06

    [afc] Add thumbnails for Photos in /DCIM

    Photos taken using the iPhone or iPod touch will be thumbnailed
    by the device, on-disk, so try to use those instead of letting
    the computer download the whole file for it.

    Make sure we only process non-hidden files inside the DCIM
    directory, to avoid unnecessary checks.

    https://bugzilla.gnome.org/show_bug.cgi?id=597804

M	daemon/gvfsbackendafc.c

commit 65ad9778a57842be57abb1f512e166808722586c
Author: Daniel Nylander <po@danielnylander.se>
Date:	2009-11-08

    Updated Swedish translation

M	po/sv.po

commit dc17f80f9f37fb9c6b9300f8e25184efcd30e8bf
Author: Bastien Nocera <hadess@hadess.net>
Date:	2009-11-06

    Fix mtime setting

    Thinko in mtime setting patch, spotted by Nikias.

M	daemon/gvfsbackendafc.c

commit e08ea6cd747969ec548a3285e1ec55f26d78cf1e
Author: Bastien Nocera <hadess@hadess.net>
Date:	2009-11-05

    Avoid leaking volumes when removing them

M	monitor/afc/afcvolumemonitor.c

commit f3349971fa2a2c20732f51a05f6002e2ad3b3206
Author: Christian Kellner <gicmo@gnome.org>
Date:	2009-11-04

    [HTTP] Store and use cookies (temporarily)

    Bug 564868. Based on a patch from David Liang <dliang@novell.com>

M	daemon/gvfsbackendhttp.c

commit 4d877ef13bbc6d3f268338e5f3b6dbf1cb0798c4
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	2009-11-03

    Updated Slovenian translation

M	po/sl.po

commit b5ffe03a0a8578ff3ca75421c5c687728df539e3
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2009-10-30

    Gently handle NULL GduDevice objects

    This patch adds bunch of tests for NULL GduDevice objects. According
    to
    gdu docs, there's a possibility to have GduPresentable and no
    associated
    GduDevice. It's not common but true for several special cases -
    like GduLinuxMdDrive.

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/gdu/ggduvolume.c
M	monitor/gdu/ggduvolumemonitor.c

commit 166df814884bcd03bbc1389b24538dfc195cb693
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2009-10-30

    Remove dead code

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/gdu/ggduvolumemonitor.c

commit 475b1e1a05c9cb172fd9c354fef9fba2aa3381a6
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-11-02

    Get rid of unnecessary AC_SUBST() calls

    PKG_CHECK_MODULES() calls AC_SUBST for LIBS and CFLAGS automatically.

    Also name EXPAT variables properly - I got confused by LIBXML vs XML
    flags.

M	configure.ac
M	daemon/Makefile.am

commit e0ccf14f320f6d7b15f13bf35588d9927b8e0b12
Author: Nikias Bassen <nikias@gmx.li>
Date:	2009-11-02

    Ignore error for pre-3.1 devices when setting modification time

M	daemon/gvfsbackendafc.c

commit dc24aa1c9702114d3a66218a366b2b4292f34352
Author: Nikias Bassen <nikias@gmx.li>
Date:	2009-10-31

    Support for setting file modification times

M	daemon/gvfsbackendafc.c

commit 6c91b2513d7ad1bd4774c8559c4ceb200a0a9d61
Author: Nikias Bassen <nikias@gmx.li>
Date:	2009-10-30

    build fix: afc-backend does not depend on libgudev

M	configure.ac

commit 690150b6d2beb3364690b4303143a049598c1a9d
Author: Nikias Bassen <nikias@gmx.li>
Date:	2009-10-29

    Adaption to latest libiphone API

    Remove libusbmuxd dependency, and use afc_get_device_info_key
    to get the model name.

M	configure.ac
M	daemon/gvfsbackendafc.c
M	monitor/afc/afcvolume.c
M	monitor/afc/afcvolumemonitor.c

commit 3590a1b9bac58bf95af25fa5348c2a34b1da6bd3
Author: Nikias Bassen <nikias@gmx.li>
Date:	2009-10-29

    [afc] Add st_mtime support for OS 3.1

    Add mtime support in g_vfs_backend_afc_set_info_from_afcinfo,
    as supported by OS 3.1.

M	daemon/gvfsbackendafc.c

commit 0f8bfa513be7d0f95c642f369859b778190602b0
Author: drtvasudevan <agnihot3@gmail.com>
Date:	2009-10-27

    Updated Tamil translation

M	po/ta.po

commit 51abbd96b1198a88e625e17f82cab8d2096a31d8
Author: drtvasudevan <agnihot3@gmail.com>
Date:	2009-10-23

    Updated Tamil translation

M	po/ta.po

commit 27d82ba132cbb54632a98347ef0374307bc75294
Author: FujianWZH <fujianwzh@gmail.com>
Date:	2009-10-19

    Updated Simplified Chinese translation.

M	po/zh_CN.po

commit 854db908aaad2690d56ae2dfd061207c5a6215ee
Author: Christian Kellner <gicmo@gnome.org>
Date:	2009-10-16

    Bug 598660 - Must honor the remove_source switch

M	daemon/gvfsbackendobexftp.c

commit 67069c464a2cb827a2afe2b7886e79707c7149e2
Author: Christian Kellner <gicmo@gnome.org>
Date:	2009-10-16

    [HTTP] Use soup's (2.26) header parsing function

    Libsoup has (since 2.26) specific functions for parsing various
    well-known http headers, including Content-Type and Content-Length.
    Bump the soup requirement accordingly. Based on a patch rom Robert
    Ancell <robert.ancell@gmail.com>

M	configure.ac
M	daemon/gvfsbackendhttp.c

commit 47a6cb95996df5538bab4b9b07cdd8f944c0b24b
Author: Christian Kellner <gicmo@gnome.org>
Date:	2009-10-16

    [HTTP] Support g_file_input_stream_query_info()

    Fixes bug 598505. Based on a patch from Robert Ancell.

M	daemon/gvfsbackendhttp.c
M	daemon/soup-input-stream.c
M	daemon/soup-input-stream.h

commit a8cfac72e68eca250799065c59e3722fc88c5b87
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	2009-10-12

    Bug 597585 – 2.28 lists mtp devices as being cameras with gudev
    backend

    Set correct MIME type for MTP music players based on whether it's
    a camera or a
    music player.

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	daemon/gvfsbackendgphoto2.c

commit 7b7101ec1046696086fe2f5cb2e81057e6017b1f
Author: Bastien Nocera <hadess@hadess.net>
Date:	2009-10-14

    Update gitignore

M	daemon/.gitignore

commit 59a657175301c5b99bce0ce9a53b14efc202eb8e
Author: Bastien Nocera <hadess@hadess.net>
Date:	2009-10-14

    Fix crasher in obexftp backend

    Spotted by Matthias Clasen

    See https://bugzilla.redhat.com/show_bug.cgi?id=528181

M	daemon/gvfsbackendobexftp.c

commit becda6e9e9f8edb0042c0ca4844228ccfc907a7b
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2009-10-13

    Silently drop eject error messages when detaching drive

    If there's no media in drive and yet it's marked as detachable,
    calling eject would cause "no media in drive" error.
    This is the case with my USB SD card reader.

M	monitor/gdu/ggdudrive.c

commit 441c8a2daa493228b0a0466006f784c63a31a01e
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2009-10-13

    Disallow ejecting empty drives

    Similar to previous commit, hide the Eject menu item when drive has
    no media.

M	monitor/gdu/ggdudrive.c

commit 37a559fdaf0b5cb880acd3718ed134fa7c48884d
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2009-10-13

    Disallow mounting empty drives

    This concerns only removable media drives without any detected
    volumes.
    The end result is no Mount item in Nautilus popup menu and no
    action taken
    on double-click over the drive icon.

    The exception is floppy drives, where we always allow mount without
    need
    of detecting media manually first.

M	daemon/gvfsbackendcomputer.c

commit bcc92d779f6e5d1d2bd960ff20d8b4c944cebe91
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-10-12

    Use FAILED_HANDLED error code when user aborts

    This allows Nautilus to check for FAILED_HANDLED and not displaying an
    error dialog to the user. Users don't like error dialogs thatdo
    nothing
    but tell them what they just did.

    Partial fix for https://bugzilla.gnome.org/show_bug.cgi?id=594495

M	daemon/gvfsbackendftp.c
M	daemon/gvfsbackendsftp.c
M	daemon/gvfsbackendsmb.c
M	daemon/gvfsbackendsmbbrowse.c

commit 9551cb306742679f458de04467f1f6ca06b8dc30
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:	2009-10-11

    Updated Spanish translation

M	po/es.po

commit 724a98cbd6646a5b1edcf9f327c269bbf4933bea
Author: Gil Forcada <gforcada@gnome.org>
Date:	2009-10-10

    Updated Catalan translation

M	po/ca.po

commit cd99d7d11fef5488cdd1e8b96829459dd2afad15
Author: Brian Cameron <Brian.Cameron@sun.com>
Date:	2009-10-09

    Avoid crash when printf function is called with a NULL string.  Fixes
    bug #580825.

M	daemon/gvfsbackendsmbbrowse.c

commit 8a540ab974ea032727ec0447ae678f9417d48103
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:	2009-10-09

    Don't subscribe to unnecessary HAL D-Bus events

    Fixes bug 597827

M	monitor/hal/hal-device.c
M	monitor/hal/hal-pool.c

commit 4685f9e982f4c6884a21a0bd80d512a4ea0162db
Author: Christian Kellner <gicmo@gnome.org>
Date:	2009-10-09

    [AFC] Also set fast mime-type

M	daemon/gvfsbackendafc.c

commit 69b9daa667de926956a811ead53c9cf8532cfb88
Author: Christian Persch <chpe@gnome.org>
Date:	2009-10-09

    Use $(AM_V_GEN) for more silent build

    Closes bug #597104

M	Makefile.am
M	configure.ac
M	daemon/Makefile.am
M	metadata/Makefile.am
M	monitor/afc/Makefile.am
M	monitor/gdu/Makefile.am
M	monitor/gphoto2/Makefile.am
M	monitor/hal/Makefile.am

commit 1f58b7f56d8136b8ab0fe3d85c6315244d83fe0d
Author: David Zeuthen <davidz@redhat.com>
Date:	2009-10-08

    Fix return value of gdu_drive_can_poll_for_media()

    If a drive doesn't use removable media, we shouldn't advertise that it
    can be polled.

M	monitor/gdu/ggdudrive.c

commit 6e70902ee77cb0bd6063bcf4d215b13a13bf5ee4
Author: David Zeuthen <davidz@redhat.com>
Date:	2009-10-08

    Bug 597864 –  Need to separate "Safely Remove Drive" from "Eject"

    Some systems use internal USB devices. Automatically detaching such
    drives when calling gdu_drive_eject() (triggered by e.g. the eject
    button in the Nautilus sidebar) as we do right now leads to loss of
    the drive until reboot (since the device is internal). The only viable
    option right now is to separate "Safely Remove Drive" and "Eject".

    If we gain infrastructure to let us know with 100% accuracy that a
    given receptacle is external we can go back to the previous behavior.

    See http://bugs.freedesktop.org/show_bug.cgi?id=24343 for details.

M	monitor/gdu/ggdudrive.c

commit 0b272cacaa0af2d448a34a88db31b0c56383c418
Author: Christian Kellner <gicmo@gnome.org>
Date:	2009-10-08

    [afc] Bug 597800 - Should hide dot files

M	daemon/gvfsbackendafc.c

commit 80dbd15b64ec4907f1041692c23af6b90ad305ca
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2009-10-08

    Fix creating mount_spec from string

    Don't consume the ending character.

M	common/gmountspec.c

commit bffa8a049d7d1ce681af3b0288684a0e64a56a0b
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-10-08

    Don't always overwrite on trash restore

    We want to get overwrite dialogs when restoring from trash.

    https://bugzilla.gnome.org/show_bug.cgi?id=596618

M	daemon/gvfsbackendtrash.c
M	daemon/trashlib/trashitem.c
M	daemon/trashlib/trashitem.h

commit e0dadf5ebfc458bcb821f839bbd6e400a3a5093c
Author: Christian Kellner <gicmo@gnome.org>
Date:	2009-10-02

    Use AM_SLIENT_RULES for clearer compile output

    To get the old behaviour with lots of compiler spew just use
    "make V=1". Remove the libtool --slient hack since that is not
    needed anymore (fixes bug 586729).

M	configure.ac

commit dfa4b522b5c19c4723004baab3e54592f9875597
Author: David Zeuthen <davidz@redhat.com>
Date:	2009-10-01

    Bug 597041 – Manual umount triggers mount request

    We also need to consider logical partitions when determining if a
    drive should be ignored.

M	monitor/gdu/ggduvolumemonitor.c

commit ca5bc9df33120f5ee5b59ecb8d0e7fa15aa74533
Author: Christian Kellner <gicmo@gnome.org>
Date:	2009-10-01

    Bug 586724 - Require gdu version >= 2.28.0

M	configure.ac

commit 3df23252bc81d06ea8dbc8815140ac1f10012d45
Author: Michael Chudobiak <mjc@avtechpulse.com>
Date:	2009-10-01

    [gphoto] Add fast mime-type information

    See https://bugzilla.gnome.org/show_bug.cgi?id=594928

M	daemon/gvfsbackendgphoto2.c

commit 5ce0a03107246b6fce7314ad2bac01c426ca85c1
Author: Jonh Wendell <jwendell@gnome.org>
Date:	2009-08-25

    Fixed description for gvfs-mkdir

    https://bugzilla.gnome.org/show_bug.cgi?id=593045

M	programs/gvfs-mkdir.c

commit b6fda31fe81820259e432545b052980fa718d817
Author: Bastien Nocera <hadess@hadess.net>
Date:	2009-08-06

    Bug 591005 - Add AFC backend

    Add a backend based on libiphone to access data on Apple's iPhone,
    and iPod Touch.

    Code by:
    Patrick Walton <pcwalton@cs.ucla.edu>
    Martin Szulecki <opensuse@sukimashita.com>
    Nikias Bassen <nikias@gmx.li>
    Bastien Nocera <hadess@hadess.net>

    http://bugzilla.gnome.org/show_bug.cgi?id=591005

M	configure.ac
M	daemon/Makefile.am
A	daemon/afc.mount.in
A	daemon/gvfsbackendafc.c
A	daemon/gvfsbackendafc.h
M	monitor/Makefile.am
A	monitor/afc/Makefile.am
A	monitor/afc/afc.monitor
A	monitor/afc/afcvolume.c
A	monitor/afc/afcvolume.h
A	monitor/afc/afcvolumemonitor.c
A	monitor/afc/afcvolumemonitor.h
A	monitor/afc/afcvolumemonitordaemon.c
A	monitor/afc/org.gtk.Private.AfcVolumeMonitor.service.in

commit b53bfdfb04e92ae61411b1551405b9289a1744ce
Author: Bastien Nocera <hadess@hadess.net>
Date:	2009-08-06

    gphoto2 - Remove built sources

    The HAL marshalling code has nothing to do in the git tree,
    it's built sources.

D	monitor/gphoto2/hal-marshal.c
D	monitor/gphoto2/hal-marshal.h

commit ebe371a3e0b09bd15d89fab6eb5016abce83d3fc
Author: Claude Paroz <claude@2xlibre.net>
Date:	2009-06-19

    Bug 517014 – Factorize error messages marked for translation

M	client/gdaemonfile.c
M	client/gvfsiconloadable.c

commit c4d0742068cfb8f4a55a27ebc5a1bb7790a50a91
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-09-30

    Claim to support file: uris too

    We forgot to say the file: method is supported (#596867)

M	client/gdaemonvfs.c

commit b33b6918a978c506f5999a8db29d455c2a488faa
Author: Daniel Nylander <po@danielnylander.se>
Date:	2009-09-30

    Updated Swedish translation

M	po/sv.po

commit 9b5ce208fca77fa9d02cd73195d2d193c5e6b5ed
Author: Christian Kellner <christian.kellner@topalis.com>
Date:	2009-09-29

    [HTTP] Bug 595981 - HTTP backend never seems to return any icon

    Set the icon based on the mime-type. Also replace code to set the
    display name with a call to gvfs_file_info_populate_names_as_local.

M	daemon/gvfsbackendhttp.c

commit 3f0927115ca7c22adac9f331788c81353e783702
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-09-28

    Don't show ssh dns-sd items in dns-sd:, only sftp ones

    ssh means a login shell and sftp means a file share, and
    each server may have both. Don't know how this snuck in again.

M	daemon/gvfsbackenddnssd.c

commit 7d4ec4b1457c2c34c03037ce4d8b86340103eacc
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	2009-09-24

    Updated Slovenian translation

M	po/sl.po

commit 0285e9ede48ff83aead882401e36e9d7ae25746f
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-09-23

    FreeBSD support for gphoto2 backend

    Here is a patch from Aurélien Jarno to enable the gphoto2 backend
    on FreeBSD
    and GNU/kFreeBSD.

M	configure.ac
M	monitor/gphoto2/ggphoto2volumemonitor.c

commit 24041285e7392f5c83c8b98a017181983233d411
Author: Petr Kovar <pknbe@volny.cz>
Date:	2009-09-22

    Updated Czech translation

M	po/cs.po

commit 903ebd0068bcaa02a4a1fe08a073c2419a3ab668
Author: Luca Ferretti <elle.uca@libero.it>
Date:	2009-09-21

    Updated Italian translation

M	po/it.po

commit 54bda49c318a27d66721ce2248579bc3e65e39b0
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-09-21

    Post release version bump

M	configure.ac

commit 63ed8dfdb84f96b2de3a4be6c1dd5dc2c5501f2d
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-09-21

    Update for 1.4.0

M	NEWS
M	configure.ac

commit 8905787abcfbe31bdf193a8f5722232d59ef17fd
Author: Nikos Charonitakis <nikosx@gmail.com>
Date:	2009-09-21

    Updated Greek translation

M	po/el.po

commit 1ddfc9549d8a0b09c0752d6511603b6b0128ab07
Author: Alexander Shopov <ash@contact.bg>
Date:	2009-09-21

    Updated Bulgarian translation

M	po/bg.po

commit 243d379e42d00738a4c8f25ed26a07194e915fc3
Author: Shankar Prasad <svenkate@redhat.com>
Date:	2009-09-21

    Updated Kannada(kn) translation

M	po/kn.po

commit f9304c44e0dd344f5dc6b9f293316c623d7fbee6
Author: Petr Kovar <pknbe@volny.cz>
Date:	2009-09-21

    Updated Czech translation

M	po/cs.po

commit 768e96d41a7caeb18be2bf32cf643143fff9af27
Author: Amitakhya Phukan <aphukan@fedoraproject.org>
Date:	2009-09-20

    Updating Assamese translations

M	po/as.po

commit 88ca19da76f278092becdc7b1f07e3ccd95ca751
Author: Christian Kirbach <Christian.Kirbach@googlemail.com>
Date:	2009-09-18

    Updated German translation

M	po/de.po

commit 5bcc38937e79c86b69c14acf715203f27088817e
Author: Rajesh Ranjan <rranjan@rranjan.csb>
Date:	2009-09-18

    maithili update

M	po/LINGUAS
A	po/mai.po

commit f47993c4c7a5a4fe782f25f8fda300aed762442c
Author: krishnababu k <kkrothap@redhat.ocm>
Date:	2009-09-17

    Updated Telugu Translations

M	po/te.po

commit 0a11cb2552a0f382884bb28d78430e866bcf560a
Author: Maxim V. Dziumanenko <dziumanenko@gmail.com>
Date:	2009-09-17

    Added Ukrainian translation

M	po/uk.po

commit b358ca19acb2063775bb6688d654cc684cda6576
Author: Carlos Garcia Campos <carlosgc@gnome.org>
Date:	2009-09-16

    Make sure metadata is always returned by query_writable_namespaces()

M	client/gdaemonfile.c

commit a3da826b69909ca1d9b670f4412c2ba2305a9440
Author: Mattias Põldaru <mahfiaz gmail com>
Date:	2009-09-17

    Updating Estonian translation

M	po/et.po

commit f59902cec241e03369563aaefa33490f11d241d3
Author: Adi Roiban <adi@roiban.ro>
Date:	2009-09-16

    Updated Romanian translation

M	po/ro.po

commit c2a25f5a1a596b4dd5947ad5eca0e4c78352771a
Author: Adi Roiban <adi@roiban.ro>
Date:	2009-09-16

    Updated Romanian translation

M	po/ro.po

commit 03f9294707344c485e84946080a0fee2352e3f99
Author: Žygimantas Beručka <zygis@gnome.org>
Date:	2009-09-16

    Updated Lithuanian translation

M	po/lt.po

commit ddb8238f5ff5ed8b1c35eb99c4809ab6f62d9002
Author: Antón Méixome <meixome@mancomun.org>
Date:	2009-09-16

    Updated Galician Translation

M	po/gl.po

commit 7595864bc388819c956a6bc8c0b851f3f6575406
Author: Rajesh Ranjan <rranjan@rranjan.csb>
Date:	2009-09-15

    hindi update by Rajesh Ranjan

M	po/hi.po

commit fef963a9604a6ba2c111c9f713a5016f7301d148
Author: Manoj Kumar Giri <mgiri@mgiri.csb>
Date:	2009-09-14

    Upadted Oriya Translation

M	po/or.po

commit a586e52374e2e380f517953a804fe477786ad3da
Author: Ask H. Larsen <asklarsen@gmail.com>
Date:	2009-09-13

    Updated Danish translation

M	po/da.po

commit 4f4db2db80a21524e95b71ed995934144a912264
Author: Ask H. Larsen <asklarsen@gmail.com>
Date:	2009-09-13

    Updated Danish translation

M	po/da.po

commit e5a14d5d899efe4b667dd9d3b7151604df5ba6e7
Author: Tommi Vainikainen <thv@iki.fi>
Date:	2009-09-13

    Updated Finnish translation

M	po/fi.po

commit 8c8ee704546406389c0a5559b7a129cce70cda25
Author: Bruce Cowan <bcowan@fastmail.co.uk>
Date:	2009-09-12

    Updated British English translation

M	po/en_GB.po

commit 61ab44971d537f6940fb706f8bd1500a731a8a87
Author: Ani <peter.ani@gmail.com>
Date:	2009-09-13

    Updaeted Malayalam Translations

M	po/ml.po

commit ac76c1dd3fe82179c86c1301a60062835f00e9a2
Author: Ask H. Larsen <asklarsen@gmail.com>
Date:	2009-09-12

    Updated Danish translation

M	po/da.po

commit 7943231d55859d85e6f12343b8668b660f419f73
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2009-09-11

    Fix a ref leak

    This leak was pointed out by clang, and reported in bug 594832.

M	common/gvfsmountinfo.c

commit b1bc2ec30e6dd97355d550b130c6b5ee24d43d33
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2009-09-11

    Prevent access to unitialized memory

    Pointed out by clang.

M	monitor/proxy/gvfsproxyvolumemonitordaemon.c

commit fae9389c68811fc3161840ae9897efa63d94d172
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2009-09-11

    Fix a typo

    Found by clang.

M	monitor/gdu/ggdudrive.c

commit d34a750e152412b31bd5d7a1311ea7c06d37631b
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2009-09-11

    Prevent access to unitialized memory

    This has been reported by clang.

M	monitor/proxy/gproxymountoperation.c

commit bd98cf81ab1aaec7e088d268f0b5fb6366b5c61f
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2009-09-11

    Plug a leak in gvfsbackendarchive.c

    clang reported this leak.

M	daemon/gvfsbackendarchive.c

commit 7fb9cb60c85c34b46e563e0ede85060c1f68c284
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2009-09-11

    Fix a leak in gvfsfusedaemon.c

    This ref leak was reported by clang. Bug 594828.

M	client/gvfsfusedaemon.c

commit a588b41b807c28c1905590bebbcb8602f8f8d69c
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2009-09-11

    Remove dead code

    This memory leak was reported by clang. Bug 594829.

M	programs/gvfs-mount.c

commit f41574882b828bb848a4a89f72673341b5c82f36
Author: A S Alam <aalam@users.sf.net>
Date:	2009-09-11

    Updating Translation for Punjabi

M	po/pa.po

commit ec85e1328f6fa12195f2a519840cd407fb599992
Author: Gabor Kelemen <kelemeng@gnome.hu>
Date:	2009-09-10

    Hungarian translation updated

M	po/hu.po

commit 444b09eba240b482f17a53f7c12b027125ca4b8c
Author: Fábio Nogueira <fnogueira@gnome.org>
Date:	2009-09-08

    Corrected two quotations marks inconsistencies (we only use double
    instead of single quotation mark) in Brazilian Portuguese translation
    file

M	po/pt_BR.po

commit 63e6fb16147a722c2c0ec22f727ddd73eb074b37
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	2009-09-08

    Updated Polish translation

M	po/pl.po

commit d00611aa9391c952ad69c6d384aec6fd1af32bcf
Author: Sandeep Shedmake <sshedmak@redhat.com>
Date:	2009-09-08

    Updated Marathi Translations

M	po/mr.po

commit bb72285181c7c920f9fe9d9aa54ba677eabcab56
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-09-08

    Fix leak in metadata code

M	metadata/metatree.c

commit 7d3f27bf9a94aef335a591bfdc927beacb0bd7a9
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-09-08

    Fix leak

    Need to free /proc/fd/mountinfo contents after reading it.

M	metadata/metatree.c

commit c77e832a2b138de5507d7bd70f046457860d1e88
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-09-07

    Fix memory leaks

    Found these with valgrind

M	metadata/metatree.c

commit 3618e00eb921f8d288f57461f0dc7ece5704589b
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-09-07

    Don't call get_devnum on NULL

M	metadata/metatree.c

commit 76a97491c261165587da0d49c8c6b112d9dd5c2e
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-09-07

    Post release version bump

M	configure.ac

commit e7cba66c14ce0da07494432078688cb1c32b71f6
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-09-07

    Update NEWS

M	NEWS

commit 372188c402b7d7fdad7e927f5b09b743d938c600
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:	2009-09-06

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

M	po/zh_HK.po
M	po/zh_TW.po

commit e467400a75c845539da3a413c259f5e74c26be2d
Author: Khaled Hosny <khaledhosny@eglug.org>
Date:	2009-09-05

    Updated Arabic translation

M	po/ar.po

commit b0e4bdf15c0f81d14616173177e28354abf6e560
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-09-03

    Keep track of connection usability for new commands

    Add a waiting_for_reply boolean flag to the connection. Set it when
    sending a request to the server, clear it after receiving a reply.
    When trying to push the connection into the connection pool,
    only allow
    that when it is not waiting for a reply.
    This way we fix the case where the task was cancelled while waiting
    for
    the reply. It would then ignore the reply and happily push the
    connection
    with the pending reply back into the pool, leaving the next one to use
    it with a stale reply. You can imagine the hilarity that happened from
    this.

    Also, g_return_if_fail() if trying to send a command when waiting
    for a
    reply or when trying to receive a command while not waiting.
    If it turns out I overlooked a valid case where this can happen, we
    need to remove those checks. So far I didn't find any.

M	daemon/gvfsftpconnection.c

commit f1c2079b78c8424b83d758f88bfe16027a415b42
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-09-03

    Make this code more robust against quickly opening connections

    - Don't assume a new connection failed when it was cancelled
    - Only update max_connections when we're the only thread that opened a
      new connection.

M	daemon/gvfsftptask.c

commit cc768c9f998b0d7700f6dbaf9298489e0d85f4e9
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-09-03

    No need for an extra check - the check is done in the called function

M	daemon/gvfsftptask.c

commit 331e72aac1253419fe211926245ac6fa6895e2d2
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2009-09-01

    Update Norwegian bokmål translation.

M	po/nb.po

commit 073d612923a1c66e560acbcdf53d4c269a53bde0
Author: Shankar Prasad <svenkate@redhat.com>
Date:	2009-09-01

    Updated Kannada(kn) translation

M	po/kn.po

commit 3601b8c461b62de972d7f22fb0edcc61987bfcde
Author: Duarte Loreto <happyguy_pt@hotmail.com>
Date:	2009-09-01

    Updated Portuguese translation

M	po/pt.po

commit 3c9e828938625a88f71969c129a0972276b8c99e
Author: David Zeuthen <davidz@redhat.com>
Date:	2009-08-31

    gdu: Pass auth_no_user_interaction option if GMountOperation is NULL

    This avoids e.g. the polkit authentication dialogs at start-up. See
    http://bugs.freedesktop.org/show_bug.cgi?id=22652 for the whole story.

    Tested-By: Matthias Clasen <mclasen@redhat.com>

M	configure.ac
M	monitor/gdu/ggduvolume.c

commit d53880d52d995127e4b0288ba30caf5b6fb53d12
Author: krishnababu k <kkrothap@redhat.ocm>
Date:	2009-08-31

    Updated Telugu Translations

M	po/te.po

commit 44b7872ef7dd43ce34b60f4abb34d8d69ba66ff2
Author: Sweta Kothari <swkothar@redhat.com>
Date:	2009-08-31

    Updated Gujarati Translations

M	po/gu.po

commit 238574d896ead3dbe70fb7b2d961e0467de54a66
Author: Miloš Popović <mpopovic@src.gnome.org>
Date:	2009-08-31

    Updated Serbian translation

M	po/sr.po
M	po/sr@latin.po

commit 8a0be642480d28cff4a0f48dd6d52b94c0c0b273
Author: Mario Blättermann <mariobl@gnome.org>
Date:	2009-08-30

    Updated German translation

M	po/de.po

commit 24fff279654aae1a8388f9599a35d5aea57dd6f2
Author: Ivar Smolin <okul@linux.ee>
Date:	2009-08-30

    Updating Estonian translation

M	po/et.po

commit d359eec618fb3802ddb929a707f2895bf6f55056
Author: Baris Cicek <baris@teamforce.name.tr>
Date:	2009-08-30

    Updated Turkish translation.

M	po/tr.po

commit bd5d27259953fad83a8b1e195e7cf12e4439bf0e
Author: Claude Paroz <claude@2xlibre.net>
Date:	2009-08-29

    Updated French translation

    Contributed by Bruno Brouard and Claude Paroz

M	po/fr.po

commit 25205fd28331e991fb21b6486f0463bc5e5de926
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:	2009-08-29

    Updated Spanish translation

M	po/es.po

commit fe03cfe2bd8e697a2be53a9eb9cf385b8f826c83
Author: Changwoo Ryu <cwryu@debian.org>
Date:	2009-08-29

    Update Korean trnaslation

M	po/ko.po

commit 96615b2a1bc87948f840c63317912967192db38f
Author: Gil Forcada <gforcada@gnome.org>
Date:	2009-08-28

    Minor fixes to Catalan translation

M	po/ca.po

commit 75106f317199c2cc364f34aafbccc52e5be28c56
Author: Carles Ferrando <carles.ferrando@gmail.com>
Date:	2009-08-28

    Added Catalan (Valencian) translation

M	po/LINGUAS
A	po/ca@valencia.po

commit 8c36dbadc15786869305997f9eae2aa2236afcf4
Author: Inaki Larranaga Murgoitio <dooteo@zundan.com>
Date:	2009-08-27

    Updated Basque language

M	po/eu.po

commit 3cc6a5a7b66d700ebbc3ec24605b2f013f782f86
Author: Khaled Hosny <khaledhosny@eglug.org>
Date:	2009-08-27

    Updated Arabic translation

M	po/ar.po

commit 6605591712fe098d10a77b0388c2f397e3150939
Author: Runa Bhattacharjee <runab@redhat.com>
Date:	2009-08-27

    Updated Bengali India Translations

M	po/bn_IN.po

commit bacae2cd52394cf797fe87287af82f74e699fcf3
Author: ifelix <ifelix@redhat.com>
Date:	2009-08-26

    Updated Tamil Translations

M	po/ta.po

commit 1a1d94b00f619a5fdb8360bb2c84cbbd5616736a
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2009-08-25

    Updated Norwegian bokmål translation.

M	po/nb.po

commit be3d2792f8d47a0f561520b961e2fe664e0cb705
Author: Jonh Wendell <jwendell@gnome.org>
Date:	2009-08-25

    Updated Brazilian Portuguese translation

M	po/pt_BR.po

commit e4524317a54e912a9144677a1bb3fcec4ebe4169
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-08-24

    Post release version bump

M	configure.ac

commit 52fb60bf5fc298ebf83acb666f0d405312006e5d
Author: Daniel Nylander <po@danielnylander.se>
Date:	2009-08-24

    Updated Swedish translation

M	po/sv.po

commit a19d1c131fda088c92ae94934d2f1bc0a1fe2f3e
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:	2009-08-24

    Updated Spanish translation

M	po/es.po

commit 5c6ae0f7f9617a8fb61774cf8211e362c875dc2a
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-08-24

    Update NEWS

M	NEWS

commit 05a9669be00e55f6b686327da95ffc56220bed22
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-08-24

    Fix up various errors with i18n of programs/*.c

    Lots of not translated strings, some errors did not go to stderr, etc.

M	po/POTFILES.in
M	programs/gvfs-cat.c
M	programs/gvfs-copy.c
M	programs/gvfs-info.c
M	programs/gvfs-ls.c
M	programs/gvfs-mkdir.c
M	programs/gvfs-monitor-dir.c
M	programs/gvfs-monitor-file.c
M	programs/gvfs-mount.c
M	programs/gvfs-move.c
M	programs/gvfs-open.c
M	programs/gvfs-rename.c
M	programs/gvfs-save.c
M	programs/gvfs-set-attribute.c
M	programs/gvfs-tree.c

commit f20369496be7bdb7a614916367c6d4fd459dd44a
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-08-24

    Add -f support to gvfs-rm and gvfs-trash

    Also clean up things a bit, and fix up translations.

M	programs/gvfs-rm.c
M	programs/gvfs-trash.c

commit 8b1d6c56990d2cad60a042065df8947bc104f096
Author: Jamil Ahmed <itsjamil@gmail.com>
Date:	2009-08-24

    Added Bengali translation

M	po/LINGUAS
A	po/bn.po

commit 4e7da90afe3cd869d059c835ec11e2830f341d87
Author: Mattias Põldaru <mahfiaz gmail com>
Date:	2009-08-23

    Updating Estonian translation

M	po/et.po

commit 2afeeeb7824199ec9f690b8a7f27976163df4a86
Author: Changwoo Ryu <cwryu@debian.org>
Date:	2009-08-23

    Update Korean translation

M	po/ko.po

commit d16888ffc7c9ba407aa3f8ed106e51bf4ed577b7
Author: Alexander Shopov <ash@contact.bg>
Date:	2009-08-22

    Updated Bulgarian translation

M	po/bg.po

commit e32c48892a0b714b2d3169709453ee3a6a55114b
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2009-08-21

    sftp: return proper error on mkdir when directory exists

    Nautilus depends on properly reported errors when an operation fails.
    In this case, user was not able to create new directory on sftp share
    when "untitled folder" already existed.

    SFTP only returns generic SSH_FX_FAILURE code so let's do
    SSH_FXP_LSTAT
    on the target file and return proper error.

M	daemon/gvfsbackendsftp.c

commit d7430ddcf8570c9150de3e7abbdca1ce433b62e9
Author: Alexander Shopov <ash@contact.bg>
Date:	2009-08-21

    Updated Bulgarian translation

M	po/bg.po

commit 39eb9a0bba7b74394a502147a73d95e560caf5eb
Author: Khaled Hosny <khaledhosny@eglug.org>
Date:	2009-08-20

    Updated Arabic translation

M	po/ar.po

commit ce19f20cbb9527131c1d58a1a9565712c4723fa7
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2009-08-20

    smb: Limit blocksize for reading to 65534 to get better performance

    "The current code is incredibly inefficient against CIFS servers.
    It asks for a 65535 byte read, which against Windows servers we must
    translate into a 65534 byte read (Windows max) followed by a 1
    byte read."

    See bug 588391 for details.

M	daemon/gvfsbackendsmb.c

commit 9234b9060b37aa5db8b71f4ef37e7eeb9eb1af34
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-08-19

    [FTP] Fix memleak

M	daemon/gvfsbackendftp.c

commit 2179b65e49860813e36d7ee21618cabeb2f260cb
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-08-11

    Implement support for g_cancellable_release_fd()

    See bug 591388 and documentation for g_cancellable_release_fd() for a
    rationale.

    This fix requires glib git master.

M	client/gvfsdaemondbus.c
M	daemon/soup-input-stream.c
M	daemon/soup-output-stream.c

commit a8a5d72e58efdf9058e17f045f11d0d6f978703a
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-08-11

    [FTP] plug memleak in query_info

M	daemon/gvfsbackendftp.c

commit 3d781138af38b84841c1a59a5c959ac3a412686c
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-08-11

    [FTP] plug memleak in login code

M	daemon/gvfsbackendftp.c

commit 42bab3f1fe676ad2b089c321ac0a06e16d0feb15
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-08-10

    [FTP] Plug memleak

M	daemon/gvfsftptask.c

commit aaf322ae906589204812b0466a9f6c68b9d02571
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-08-10

    [FTP] plug memleak

M	daemon/gvfsftptask.c

commit 8b97c4a5a7e5a0a16593a405ffa849835f645072
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2009-08-18

    Avoid deadlock when pulling resolved dns-sd record from cache

    When the host has already been resolved and is present in cache,
    it's returned immediately. But we always started a mainloop
    resulting in endless waiting for an event which had been received
    before that. This applies for the sync call.

    This is just a workaround, the sync code should be ported over avahi.
    See bug 555436 (comments 30-32) for details.

M	common/gvfsdnssdresolver.c

commit a86f1a8fb7ecd5a8e3e22d7f95c4f022ba3e7211
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2009-08-18

    Bump SFTP timeout to 40 seconds

    While this is not universal, let's give users more space for their
    slow machines (imagine an old 486SX).

    Requested in Fedora bug 504339.

M	daemon/gvfsbackendsftp.c

commit 226a763614fbe3093fcde175ea5d6d569b610eaf
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2009-08-18

    Canonicalize mount prefix to prevent mountspec matching issues

    This prevents mismatches during mount spec comparation, e.g. with
    trailing slash in mount_prefix ("/subdir" vs. "/subdir/").

    See bug 590730 for details.

M	common/gmountspec.c

commit 2b4d11a7e0eee6a6cd24234fdbdeae1672323cd3
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2009-08-18

    GDaemonMount calculates wrong root path when mount_prefix is set

    When a mount is mounted with a mount_prefix != "/", GDaemonMount
    calculates
    wrong root path, causing breakage of the .gvfs FUSE mount, and
    making the
    mounts unclickable in Nautilus.

    Patch by Mads Chr. Olesen, see bug 590730 for details.

M	client/gdaemonmount.c

commit 13ae4361636faf02d34c703986a470a6d2bae80c
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2009-08-18

    Include mount prefix when constructing fuse path

    On complex URIs like 'dav://server/gallery/w/TestAlbum',
    g_file_get_path () would return incomplete path without the
    middle '/gallery/w' part (mount prefix). This patch ensures
    full path to be returned.

    See bug 590862 for details.

M	client/gdaemonvfs.c

commit 893a6ef066756ac5f996d7f518034b1b1901eaa5
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-08-17

    Fix various memory leaks

    Testing a simple loop of writes long enough to cause a log wrap
    showed a bunch of leaks in valgrind. This fixes them all.

M	metadata/metabuilder.c
M	metadata/metatree.c

commit 612452d52c1806696ef0c45f0b27ce6d07e315a3
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-08-17

    Free MetaBuilder when rolling over log

M	metadata/metatree.c

commit 6c4354f0230834465153263f1cbdba1e40e56fba
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-08-17

    Return success when rotating log succeeded

    We succeeded and then said we didn't, causing the set operation
    that caused the rotation to fail.

M	metadata/metatree.c

commit 3faff0f910ba811db5ec044b2058c6dfdccd56f1
Author: Antón Méixome <meixome@mancomun.org>
Date:	2009-08-17

    Updated Galician Translation

M	po/gl.po

commit 99e27b7e302de34e7f09696bd6d15d09897461ad
Author: Seán de Búrca <leftmostcat@gmail.com>
Date:	2009-08-17

    Updated Irish translation

M	po/ga.po

commit 4e6958afde325bee0289266723c78a150f763b3b
Author: Tommi Vainikainen <thv@iki.fi>
Date:	2009-08-16

    Updated Finnish translation

M	po/fi.po

commit 111a9be27cbf0d7ce1b8520e38eac8c80fe0ab58
Author: David Zeuthen <davidz@redhat.com>
Date:	2009-08-14

    Turn off debugging spew in gphoto2 and proxy monitors

M	monitor/gphoto2/ggphoto2volumemonitor.c
M	monitor/proxy/gvfsproxyvolumemonitordaemon.c

commit 06bb4ae4796719b46e67f089fab9d18e82e47e23
Author: Bastien Nocera <hadess@hadess.net>
Date:	2009-08-14

    Bug 591808 – Proxy monitor code crashes when volume has no HAL UDI

    D-Bus doesn't like NULL strings, and the proxy code will
    crash if we don't have a HAL UDI.

M	monitor/proxy/gvfsproxyvolumemonitordaemon.c

commit 1d28269cc6d9151786ea8d0d1790f48ab138ba34
Author: David Zeuthen <davidz@redhat.com>
Date:	2009-08-14

    gphoto2: Handle removal of camera with multiple storage heads

M	monitor/gphoto2/ggphoto2volumemonitor.c

commit 15e1574581d811cdf0f5d365e823f05e243f09ac
Author: Paolo Borelli <pborelli@gnome.org>
Date:	2009-08-14

    Bump GDU requirements to match reality

M	configure.ac

commit 04c454720b6fd460247e4c7007b09ce201f2d11b
Author: Rajesh Ranjan <rranjan@rranjan.csb>
Date:	2009-08-14

    hindi update

M	po/hi.po

commit 6363fbf023808bad0bcc22715e451ae0f74ee868
Author: Vladimir Melo <vmelo@gnome.org>
Date:	2009-08-13

    Updated Brazilian Portuguese translation.

M	po/pt_BR.po

commit f9b0e8a702dfeebbbf60e6baff0802fe8954ff96
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2009-08-10

    Bump version

M	configure.ac

commit 928347e1297b4a959b5194e19561428a2307fb76
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2009-08-10

    Update NEWS

M	NEWS

commit 03a8bc40e54536629b8c152f57e4686f526fe038
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2009-08-10

    [FTP] Properly close output stream in GVfsJobPull

    Don't leak output filedescriptor

M	daemon/gvfsbackendftp.c

commit 2f2e67a357c98aede7df3b8f3f38595afcc881f4
Author: Antón Méixome <meixome@mancomun.org>
Date:	2009-08-10

    Updated Galician translation

M	po/gl.po

commit 46c5815654d18b7c4de0387207d6bce4a6f9787f
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2009-08-10

    Bug 589434 - gvfsd-sftp crashed with SIGSEGV in strlen()

    Remove unneeded typecast causing segfaults

M	daemon/gvfsbackendsftp.c

commit bd3a204ee656e28deabf5ea28c6d419194d688a9
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2009-08-10

    [FTP] Correctly close finished transfer

    Re-add from commit 9c80d1ea68314ccd3b44d3a6c3761b1e42699953

M	daemon/gvfsbackendftp.c

commit aede024c51675989b734532a9c4f6b499065bbc1
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-08-10

    [FTP] Fix fallout from Mozilla upstream merges

    Mozilla only strips \r characters when the lines ist terminated with
    \r\n but not when terminated with \r\0, so we strip the line
    terminator
    ourselves perfore passing the string to ParseFTPList().

M	daemon/gvfsftpdircache.c

commit a8e3135a0c13b85b0d917c22371f8478c9f9afde
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-08-10

    [FTP] Remove unecessary function call

    The matcher is ignored in g_file_info_copy_into().

M	daemon/gvfsbackendftp.c

commit 9c80d1ea68314ccd3b44d3a6c3761b1e42699953
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-08-10

    [FTP] Don't add random bytes whenever we send a progress notification

    The code previously did update the write counters after being
    interrupted for progress updates. That would cause it to insert
    a random
    byte for every time it sent a progress update from the write loop.

    Noticed by Tomas Bzatek - sorry about your mp3s :(

M	daemon/gvfsbackendftp.c

commit fb45c08fac5219b26f278aa452bc26108a0c8f3f
Author: Michal Novotny <michal@allpeers.com>
Date:	2009-08-10

    Bug 576229 – Doesn't handle files with leading space (upstream)

    ParseFTPList can't handle regular unix ls -l listing of filenames
    starting with spaces

    upstream references:
    http://bugzilla.mozilla.org/show_bug.cgi?id=484684
    http://hg.mozilla.org/mozilla-central/rev/179c6f22d6f2

M	daemon/ParseFTPList.c

commit d59c121f60ec98f8241dcd611124510ceddaadfa
Author: Michal Novotny <michal@allpeers.com>
Date:	2009-08-10

    "The FTP folder won't open!" (upstream)

    - space and tab at the end of filename in Unix and DOS style listings
    - date in DOS listing, short variants of year 00-80 were badly
    converted
      to 100-180, years 81+ weren't changed at all
    - enhanced logic when searching for symlink name in Unix style listing
    - regular files with sequence " -> " in name aren't now incorrectly
      detected as symlinks (DOS and Unix style listing only)

    upstream references:
    http://bugzilla.mozilla.org/show_bug.cgi?id=365133
    http://hg.mozilla.org/mozilla-central/rev/b79bc71c6832

M	daemon/ParseFTPList.c

commit 12c9c9ae561f9c572ec137d78c6da3bf9ba520bf
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	2009-07-16

    port gphoto2 backend and monitor to gudev

    This works with the ID_GPHOTO2 attribute, which was recently added to
    libgphoto2:
    http://sourceforge.net/tracker/?func=detail&aid=2801117&group_id=8874&atid=308874

    That initial libgphoto2 patch does not yet pass the actual name,
    and just sets
    ID_GPHOTO2="1". However, in this patch we check if it's not "1",
    and use that
    as volume name (since it's the "best" one). Otherwise fall back to
    usb_id and
    sysfs vendor/model/product names.

    This also supports ID_MEDIA_PLAYER* attributes for media players
    with gphoto
    support. Please see here for the discussion and development progress:
    http://lists.freedesktop.org/archives/devkit-devel/2009-June/000226.html
    http://cgit.freedesktop.org/~teuf/media-player-id/

    http://bugzilla.gnome.org/show_bug.cgi?id=586410

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	configure.ac
M	daemon/Makefile.am
M	daemon/gvfsbackendgphoto2.c
M	monitor/gphoto2/Makefile.am
M	monitor/gphoto2/ggphoto2volume.c
M	monitor/gphoto2/ggphoto2volume.h
M	monitor/gphoto2/ggphoto2volumemonitor.c

commit 21383e40e4cadf52f2bbf9ba463b9e85d02e122e
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-08-06

    [FTP] Bug 590793 - Can't copy folders over FTP

    Duplicate the machinery for returning the proper error when the source
    is a directory from gio and use it in the pull vfunc.

M	daemon/gvfsbackendftp.c
M	daemon/gvfsftptask.h

commit c81297016b0d089acfba393d02cb09731faa21d3
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-08-06

    [FTP] Do not lose info in cache

    As gvfs_job_enumerate_add_info() modifies the passed info, we cannot
    pass the cached items directly. So we do a copy instead.

M	daemon/gvfsbackendftp.c

commit 4c82ce44f20ff5109798623eaa16e784efe72571
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-08-06

    [FTP] Open source before target in pull method

    This way, we don't leave empty target files when opening the source
    resulted in an error.

    Also included is some code clarification.

M	daemon/gvfsbackendftp.c

commit 7ad013a67385168452d97280a877b925f07e848b
Author: Claude Paroz <claude@2xlibre.net>
Date:	2009-08-06

    Updated French translation

    Contributed by Nicolas Repentin and Claude Paroz

M	po/fr.po

commit 8056474d0334e9f37b31dc885c082b6cac090d72
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2009-08-06

    smb-browse: fake content type to allow query default handler

    Hardcode the "inode/directory" content-type
    Fixes #573994

M	daemon/gvfsbackendsmbbrowse.c

commit 59ae5fb9cd57d00fe9de2eedfd73f30aad6a2348
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2009-08-05

    Updated Norwegian bokmål translation.

M	po/nb.po

commit a3979cd918d366be7850ca558b3040b8d2d0322d
Author: Peter Waller <peter.waller@gmail.com>
Date:	2009-08-04

    Bug 589915 - gedit crashed with SEGV in strlen()

    FIx a crash introduced by commit c372064a where it was forgotten do
    adapt the function signature of a callback

M	client/gdaemonfileoutputstream.c

commit 553ab151148e1f263960f5976eb6a5405ab8ae7e
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-07-31

    Bug 588187 – Large FTP transfers hang gvfsd-ftp

    Enable keepalive on the command connection. See the comment in the
    source code or the bug report for a detailed explanation.

M	daemon/gvfsftpconnection.c

commit 66502006dc968b05d095f08e108cc82bacfb3038
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2009-08-01

    Plug various metadata-related memleaks

    These were reported in bug 590456.

M	client/gdaemonvfs.c
M	metadata/metatree.c

commit 20fdd8d01515c8b40aa24de196e69d4990953844
Author: Joe Marcus Clarke <marcus@freebsd.org>
Date:	2009-07-31

    Fix a symbol conflict with crc32

    On FreeBSD, the crc32 symbol conflicts with a function of the same
    name in libz, causing segfaults. Fixes bug 589786.

M	metadata/crc32.c
M	metadata/crc32.h
M	metadata/metatree.c

commit aaeadcc0350c725d5f2bec092aabb477d8c74ea4
Author: Matthias Clasen <mclasen@redhat.com>
Date:	2009-07-29

    Post-release version bump

M	configure.ac

commit 69309d4f1321f37e87bba47a53e00b12d88cd653
Author: Ivar Smolin <okul@linux.ee>
Date:	2009-07-23

    Updating Estonian translation

M	po/et.po

commit 5db48c92d97b7d7348bcb6e8f256d2b0993ced4f
Author: Daniel Nylander <po@danielnylander.se>
Date:	2009-07-22

    Updated Swedish translation

M	po/sv.po

commit dd2691e069e6de082ae150022c5688164e737df6
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2009-07-22

    Updated Norwegian bokmål translation.

M	po/nb.po

commit 4f6726a407d9af5fe3787d6c93a9936fa08131f0
Author: A S Alam <aalam@users.sf.net>
Date:	2009-07-21

    Updating Punjabi Translaiton

M	po/pa.po

commit b49421d78e4da73b6955fb96906a2a9260a8f8dc
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-07-20

    Do not free reply in this error case, as it hasn't been set

M	daemon/gvfsftptask.c

commit 4255792153906238a67e4a4d748ba71b52d663be
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-07-20

    Make debug output for progress callbacks really work with large files

    Fixes omission of % in commit 66df9e764aed43b23b5c3326ff9ab024b0a49124

M	daemon/gvfsjobcopy.c
M	daemon/gvfsjobmove.c
M	daemon/gvfsjobpull.c
M	daemon/gvfsjobpush.c

commit f64b26a5762659d9eb24ab79c4e64acc8d35ee8e
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-07-20

    When a p2p connection is closed, cancel all pending jobs

    Not cancelling them caused long running jobs - like a GvfsJobPull
    for a
    multi-GB file on a remote ftp mount - to not stop running and finish
    downloading the file.

M	daemon/gvfsdaemon.c

commit 96efbdf2b49ccf79f79ebd588ac10313cc1c2a0d
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-07-20

    Use dash for proeprty name, not underline

M	daemon/gvfsdaemon.c

commit df28b6e600d79eafca4e75049cb81427086178d7
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:	2009-07-20

    Initialize the DBus error

    Initialize the DBus error structure before calling
    dbus_bus_request_name().
    Fix bug #589015, patch by Patryk Zawadzki.

M	metadata/meta-daemon.c

commit ff120f07aa8807b96ba79b2415715205a92db2ae
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-07-20

    Make gvfsd-ftp no longer conditionally built

    It doesn't require libsoup anymore after all.

M	daemon/Makefile.am

commit 66df9e764aed43b23b5c3326ff9ab024b0a49124
Author: Andreas Henriksson <andreas@fatal.se>
Date:	2009-07-19

    Make debug output for progress callbacks work with large files

    Without this patch, the debug output would easily overflow, as it was
    cast to int.

M	daemon/gvfsjobcopy.c
M	daemon/gvfsjobmove.c
M	daemon/gvfsjobpull.c
M	daemon/gvfsjobpush.c

commit 1464c21cd3a55ea6ad2f8893e138995159a22281
Author: Ivar Smolin <okul@linux.ee>
Date:	2009-07-19

    Updating Estonian translation

M	po/et.po

commit 1abbeed14a181d09ca2dbeb1b93212d0a6849b79
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:	2009-07-18

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

M	po/zh_HK.po
M	po/zh_TW.po

commit a9960b04cb690ceb48c19d02f37d54c3d98b7f65
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:	2009-07-18

    Updated Spanish translation

M	po/es.po

commit ff11ba45de39309b406eadd41f7297413005d1e1
Author: drtvasudevan <agnihot3@gmail.com>
Date:	2009-07-18

    Updated Tamil translation

M	po/ta.po

commit 921c9d350d50a25573ac48b8b0b1c23326654686
Author: drtvasudevan <agnihot3@gmail.com>
Date:	2009-07-18

    Updated Tamil translation

M	po/ta.po

commit a287d9dbba61d72c6094e3f833c1e6515a3de900
Author: Colin Walters <walters@verbum.org>
Date:	2009-07-15

    Call dbus_threads_init_default before doing any other dbus calls

    This avoids race conditions with other threads; there are various
    internal mutexes involved in dbus_bus_get_private that need to
    be locked if g_vfs_get_default is called from a non-main thread.

M	client/gdaemonvfs.c

commit 80514a7a27e4383b0fc859ecfcb5744c1ea59318
Author: David Zeuthen <davidz@redhat.com>
Date:	2009-07-13

    Post-release version bump to 1.3.3

M	configure.ac

commit a06766e9fd026f48579351a5f56f57bef1ef2846
Author: David Zeuthen <davidz@redhat.com>
Date:	2009-07-13

    Update NEWS for release

M	NEWS

commit 197a9d0b89a563965ef0f411b00dfb73d7eaea2e
Author: David Zeuthen <davidz@redhat.com>
Date:	2009-07-13

    Fix 'make distcheck'

    In particular this snippet

     giomodulesdir=`pkg-config --variable=giomoduledir gio-2.0`

    is wrong as it breaks 'make distcheck' unless you can write to where
    the gio modules are installed. While this is true for jhbuild setups
    it is patently not true for normal setups.

    In fact, one could argue that glib's --with-gio-module-dir option is
    incompatible with how we build things, but that is more of a GLib
    problem.

M	configure.ac
M	metadata/Makefile.am
M	po/POTFILES.in

commit fbaf454157cd8006ba0746327fbb865fe258c310
Author: Maxim V. Dziumanenko <dziumanenko@gmail.com>
Date:	2009-07-09

    Updated Ukrainian translation

M	po/uk.po

commit fd79935a0d841369d6d24b7bd957e428570b5f18
Author: drtvasudevan <agnihot3@gmail.com>
Date:	2009-07-09

    Updated Tamil translation

M	po/ta.po

commit 30f444d3b6a390262e7acd4b7656b7ba7bc28db9
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:	2009-07-08

    Updated Spanish translation

M	po/es.po

commit 1495ad1fefac1e7d0861095793c337ab478c1748
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	2009-07-03

    conditionalize hal support in obexftp backend

    The obexftp backend only uses hal for finding devices with the "obex"
    capability if the gvfs device path starts with "usb". However,
    neither hal nor
    bluez actually provide devices with this capability, and the obexftp
    backend
    works fine with obex:// gvfs mounts without hal.

    Conditionalize hal support to only query hal if libhal is available.

    http://bugzilla.gnome.org/show_bug.cgi?id=586411

M	configure.ac
M	daemon/Makefile.am
M	daemon/gvfsbackendobexftp.c

commit ebaa763b87523cb39076a5ea98065300cf154d43
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	2009-06-20

    cdda backend: support and prefer gudev

    Change build system to check for libgudev, and use it (and prefer
    over hal) in
    the cdda backend. As before, if neither hal nor gudev are available,
    cdda is
    not built.

    http://bugzilla.gnome.org/show_bug.cgi?id=586409

M	configure.ac
M	daemon/Makefile.am
M	daemon/gvfsbackendcdda.c

commit 8af5a5581e11d9c07e8ba3a17eb2cc93b5c70631
Author: David Zeuthen <davidz@redhat.com>
Date:	2009-06-30

    Bug 587484 – Interaction when unmounting mounts and misc fixes

    - Port everything to use _with_operation() variants of unmount/eject
       methods

     - Add support for g_file_poll_mountable()
       - new job class: GVfsJobPollMountable

     - Pass mount operation for unmount/eject ops on GDaemonFile and
       GDaemonMount
       - receive in the appropriate GVfsJob classes
       - also pass unmount flags where it was missing
       - port all backends to use this

     - Teach GMountSource and GMountOperationDBus about the new
       GMountOperation::show-processes signal
       - also provide new API
	 - g_mount_source_is_dummy() - e.g. when the client didn't
	   passed NULL for the GMountOperation
	 - g_mount_source_abort() - to send the ::abort signal to the
	   client-side GMountOperation
	 - make the client-side of GMountSource return ::reply with
	   NOT_HANDLED when we do an abort

     - Refactor the mount operation handling in GProxyVolumeMonitor

     - Pass mount operation for unmount/ejects in GProxyVolumeMonitor

     - Pass the process id of the actual reader/writer in OpenForRead
       and OpenForWrite daemon methods
       - add some private API for making the FUSE client set the
	 pid of the POSIX client (otherwise it looks like the FUSE
	 client is blocking) and pass the right pid.

	 This is because the FUSE client is basically impersonating the
	 POSIX processes.

     - Make the process id mentioned above available in appropriate
       GVfsJob classes
       - GVfsJobOpenForRead
       - GVfsJobOpenForWrite
       - GVfsChannel

     - Provide API to get a list of all blocking clients, e.g. an array
       of GPid
       - g_vfs_daemon_get_blocking_processes()

     - Provide convenience API to easily doing the right thing on unmount;
       e.g. interact with the user about blocking processes - see
       the gphoto2
       backend for example usage
       - g_vfs_backend_has_blocking_processes()
       - g_vfs_backend_unmount_with_operation() and
	 g_vfs_backend_unmount_with_operation_finish()

     - Only the gphoto2 backend supports ::show-processes right
     now. Support
       for other backends will be added shortly.

     - Implement support for ::show-processes in the GDU volume monitor
       - right now we don't support "Unmount Anyway" since it requires
	 ABI changes in libgdu.so - this will be changed as soon as
	 there's
	 a new gnome-disk-utility release

M	client/gdaemonfile.c
M	client/gdaemonmount.c
M	client/gvfsfusedaemon.c
M	common/gmountoperationdbus.c
M	common/gmountsource.c
M	common/gmountsource.h
M	common/gvfsdaemonprotocol.h
M	daemon/Makefile.am
M	daemon/gvfsbackend.c
M	daemon/gvfsbackend.h
M	daemon/gvfsbackendarchive.c
M	daemon/gvfsbackendcdda.c
M	daemon/gvfsbackendcomputer.c
M	daemon/gvfsbackenddav.c
M	daemon/gvfsbackendftp.c
M	daemon/gvfsbackendgphoto2.c
M	daemon/gvfsbackendlocaltest.c
M	daemon/gvfschannel.c
M	daemon/gvfschannel.h
M	daemon/gvfsdaemon.c
M	daemon/gvfsdaemon.h
M	daemon/gvfsjobopenforread.c
M	daemon/gvfsjobopenforread.h
M	daemon/gvfsjobopenforwrite.c
M	daemon/gvfsjobopenforwrite.h
C071	daemon/gvfsjobstopmountable.c	daemon/gvfsjobpollmountable.c
C055	daemon/gvfsjobstopmountable.h	daemon/gvfsjobpollmountable.h
M	daemon/gvfsjobstopmountable.c
M	daemon/gvfsjobstopmountable.h
M	daemon/gvfsjobunmount.c
M	daemon/gvfsjobunmount.h
M	daemon/gvfsjobunmountmountable.c
M	daemon/gvfsjobunmountmountable.h
M	daemon/gvfsreadchannel.c
M	daemon/gvfsreadchannel.h
M	daemon/gvfswritechannel.c
M	daemon/gvfswritechannel.h
M	monitor/gdu/ggdudrive.c
M	monitor/gdu/ggdumount.c
M	monitor/gdu/ggduvolume.c
M	monitor/hal/ghaldrive.c
M	monitor/hal/ghalmount.c
M	monitor/hal/ghalvolume.c
M	monitor/proxy/Makefile.am
M	monitor/proxy/gproxydrive.c
M	monitor/proxy/gproxymount.c
A	monitor/proxy/gproxymountoperation.c
A	monitor/proxy/gproxymountoperation.h
M	monitor/proxy/gproxyshadowmount.c
M	monitor/proxy/gproxyvolume.c
M	monitor/proxy/gproxyvolume.h
M	monitor/proxy/gproxyvolumemonitor.c
M	monitor/proxy/gvfsproxyvolumemonitordaemon.c
M	programs/gvfs-mount.c

commit c33e26d3914e0659d4a317fda7fe9acbb6269dc9
Author: Daniel Nylander <po@danielnylander.se>
Date:	2009-07-07

    Updated Swedish translation

M	po/sv.po

commit d907e07f5368e3099c0a4328f1d1d1c8dc4c62d9
Author: drtvasudevan <agnihot3@gmail.com>
Date:	2009-07-03

    Updated Tamil translation

M	po/ta.po

commit 803e3b4edf602e0284864c5469bcbf60445576da
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-07-01

    Update for glib API changes

    g_socket_accept got a new cancellable argument

M	daemon/gvfsftpconnection.c

commit 407f964a390c452bfbd773a721ecbe2609ce4b88
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:	2009-06-30

    Plug some leaks and fix some strings.

M	metadata/meta-daemon.c
M	metadata/metabuilder.c

commit f4250f3fcd178ad4f15ba5a1672ecbca1e2b67c2
Author: Jorge Gonzalez <jorgegonz@svn.gnome.org>
Date:	2009-06-27

    Updated Spanish translation

M	po/es.po

commit 36d06a5fb2ff170fb2388d0afc82df954383b453
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-25

    Avoid deadlock on cancelling async enumerate_children

    We can't call g_cancellable_disconnect from inside the cancel signal
    emission, as that deadlocks. However we know if that happens and can
    use the regular disconnect.

    Also, we need to grab the infos lock when calling trigger_async_done,
    this
    was only done in some cases, now its always done.

M	client/gdaemonfileenumerator.c

commit b548be8088f83b8cdeb66198e6092edfa518613d
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-25

    Implement metadata setting for remote locations

M	client/gdaemonfile.c
M	client/gdaemonfile.h
M	client/gdaemonfileenumerator.c
M	client/gdaemonfileenumerator.h
M	client/gdaemonvfs.c
M	client/gdaemonvfs.h

commit 2eb9e35ccf5112a6f01225c97b05e90eca8c7ea9
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-25

    Add header include protection and boilerplate

M	metadata/metabuilder.h
M	metadata/metatree.h

commit 36e09422846f3456b45d977cfec20f485a559a4a
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-25

    Implement a dbus based metadata get call

M	common/gvfsdaemonprotocol.h
M	metadata/meta-daemon.c

commit 581e92869175e4d9da59ba9b087690350ed59c25
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-25

    Remove spew from gmountspec changes

M	common/gmountspec.c

commit eb6965ed272463b80469e75610d82664ecc96dee
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-25

    Make g_mount_spec_to_string generate a "nicer" string

    We'll be showing this of publically as the id of metadata databases,
    so
    it better be somewhat shorter and nicer.

M	common/gmountspec.c

commit 3f58e22c03ee79744b069c6911ca0243da99624a
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-25

    Fix up GFileInfo marshalling

M	common/gvfsdaemonprotocol.c

commit 10abe67d01e5d0845727446471159ed02584547d
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-25

    (de)marshal the attribute status in GFileInfo

M	client/gdaemonfile.c
M	common/gvfsdaemonprotocol.c
M	common/gvfsdaemonprotocol.h
M	common/gvfsfileinfo.c
M	daemon/gvfsjobsetattribute.c

commit 48842732168909ce3b4c9136a28c2e5a5a25d98b
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-25

    Support (de)marshalling of new GFileInfo keys (invalid & stringv)

M	common/gvfsdaemonprotocol.c
M	common/gvfsfileinfo.c

commit b305422b727c3ca5d30f4c9f97cf8fd779410398
Author: Mattias Põldaru <mahfiaz gmail com>
Date:	2009-06-25

    Updating Estonian translation

M	po/et.po

commit c372064a04f8c24efdb99a3b0811bd17ddfb2176
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-06-25

    try extra hard to make sure operations get cancelled properly

    Previously there were some rather big windows that allowed for races
    between cancelling and calling g_simple_async_result_complete().
    This code makes sure we check for cancellaton right before calling
    g_simple_async_result_complete(), which gets rid of that window and
    gives you the guarantee that cancelling an operation in the main
    thread
    will indeed return a CANCELLED error.

M	client/gdaemonfile.c
M	client/gdaemonfileinputstream.c
M	client/gdaemonfileoutputstream.c
M	client/gvfsdaemondbus.c
M	client/gvfsdaemondbus.h
M	client/gvfsiconloadable.c

commit 133bd0ec75a94b8316b56c252dfc62a3ed23fade
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-06-25

    include locale.h for setlocale() call

M	metadata/meta-daemon.c

commit 74b5208891e87f88f5902c427fe63bf2bf67257e
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-25

    Support unsetting metadata in g_file_set_attributes_from_info()

M	client/gdaemonvfs.c

commit 4d7f64d2060884441d39726ce03393b2db597e06
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-25

    Allow unsetting keys with the standard Set dbus operation

    Passing a key value type of Byte means unset that key.

M	metadata/meta-daemon.c

commit 68607708bc34cfdc357a823fb6f909d3696fec78
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-25

    Allow unsetting attributes with gvfs-set-attributes

M	programs/gvfs-set-attribute.c

commit 560b79555daead815b378a87f53fde150d4e4ca0
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-23

    Short circuit metadata setting if no change

M	client/gdaemonvfs.c

commit 5fb558770f0a3f3c7d277855700e6812c01a9762
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-23

    Fix deadlock in MetaTree

    meta_tree_refresh calls meta_tree_init which may call
    meta_tree_refresh, which can deadlock due to the writer lock. Call
    meta_tree_refresh_locked instead.

M	metadata/metatree.c

commit 454a365b0b53cce2010787f6eb4ee28c321a6375
Author: Andreas Henriksson <andreas@fatal.se>
Date:	2009-06-23

    Don't show not requested info in gvfs-info (#582175)

    For example:
    vuntz@lyon ~/>gvfs-info -a standard::content-type ~/blah.txt
    type: unknown
    size: 0
    attributes:
      standard::content-type: text/plain

    type and size probably shouldn't be displayed if a specific
    attribute was
    requested..

M	programs/gvfs-info.c

commit 2f253cbcd62e07e44c8643ad95d8fabcc1e39b77
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-20

    Update gitignore for new files

M	metadata/.gitignore

commit bad7cc5631d046aafd00d3c22ab7486cef5e43e6
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-18

    Implement the metadata addition api in GVfs

    This uses the metadata library to add metadata to GFileInfo for
    local files.

M	client/Makefile.am
M	client/gdaemonvfs.c

commit 3dfd6eaaaaba5e914c6f2269dce98854fa84deb5
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-22

    Add various metadata test programs

    These are useful to interactively test the metadata stores but
    are not installed.

M	metadata/Makefile.am
A	metadata/meta-get-tree.c
A	metadata/meta-get.c
A	metadata/meta-ls.c
A	metadata/meta-set.c

commit bb7cc90200c7eccce9a6b6622b191548b5e26586
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-20

    Add gvfsd-metadata update daemon

    This daemon singleton handles updates to metadata stores.
    All clients that wishes to write metadata should talk to
    it via dbus.

    This way all writes are serialized to avoid data loss on
    concurrent writes.

M	common/gvfsdaemonprotocol.h
M	metadata/Makefile.am
A	metadata/gvfs-metadata.service.in
A	metadata/meta-daemon.c

commit 192d3a7db50e42ad40aea8311e1994f53a1efdc0
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-23

    Allow MetaTree open to succeed with no file

    You can check with meta_tree_exists if the file actually exists.
    This means that lookups work better for the initial set for a
    non-existing
    file.

M	metadata/metatree.c
M	metadata/metatree.h

commit 576f893d4d75900d777f76450ccf5784641908ce
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-23

    Add meta_tree_remove and meta_tree_copy

M	metadata/metatree.c
M	metadata/metatree.h

commit c8551bb6755c19c9ab254d9c647e393561ec4aef
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-22

    Fix metadata file rotation

    Ensure we open in read/write mode
    Use mmap to set the rotated flag to avoid any confusion with mixing
    write and mmap updates.

M	metadata/metabuilder.c

commit 589ad8dc3f3bb6b13402170fdf765fba6e2c73d0
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-22

    Add workaround for ESTALE on NFS for metadata files

M	configure.ac
M	metadata/metatree.c

commit 14f92f57f36e5a5b245e747b5fe0840936137c3d
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-22

    Implement unset key in MetaTree

M	metadata/metatree.c

commit 57e0344d2e0d406dde842c0031c77ad0eddc43b3
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-22

    Implement setting stringv in MetaTree

M	metadata/metatree.c
M	metadata/metatree.h

commit 86952f9372709c264a0f273022920af039902d56
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-22

    Finish mtime reading support in MetaTree

M	metadata/metatree.c

commit dca2435679ca45199379867d1ec28f3bdfdeb1c8
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-22

    Finish the TODOs in the journal apply code

M	metadata/metatree.c

commit b51d263264abde22d038936cd443b6c8c7c04ac6
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-22

    Add some required MetaBuilder functions

    meta_builder_remove removes paths (recursively)
    meta_builder_copy copies paths (recursively)
    metafile_set_mtime sets mtime

M	metadata/metabuilder.c
M	metadata/metabuilder.h

commit 967734f6c2f96be84e1cfcabb7c35b7ca5478ce6
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-22

    Add stringv reading support to MetaTree

M	metadata/metatree.c

commit 1ca409e4431e7bbc323af4fd5daf68d22133b351
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-22

    Add metafile_key_list_set to clear and set a key as a list

M	metadata/metabuilder.c
M	metadata/metabuilder.h

commit b24304be071da894c0e6e30e3efbeaa16202357d
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-22

    Add string list support to treebuilder.c

M	metadata/metabuilder.c

commit aa9ddac43dde6b17bec09a5490d698960290101c
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-22

    Add metafile_key_unset

M	metadata/metabuilder.c
M	metadata/metabuilder.h

commit 29311f8169487f9549945157fe056e789c30e9a2
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-22

    Implement metadata journal rollover

M	metadata/metatree.c

commit 63d43af73738e1f2622b8c52c75727d90bbd9ba2
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-21

    Add getter for filename

M	metadata/metatree.c
M	metadata/metatree.h

commit 2a1d36f0eb0dd0009a95bbf0583628e4ec2250e3
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-21

    Make MetaTree threadsafe

M	metadata/metatree.c
M	metadata/metatree.h

commit 81332679aad651f6319913ebf39253aecb2f8403
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-20

    Handle looking up MetaTree for /

    The assert failed because / is special cased in expand_parents,
    special case it in find_mountpoint_for too.

M	metadata/metatree.c

commit 8c539a40fd2d758c29125b02e2dd260b10e9067f
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-18

    Cache extra_prefix calculation too

M	metadata/metatree.c

commit 4e0d8b97655f7c78b7da642351bc919f1f5b2f5c
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-18

    Create directory and empty tree when opening nonexistant tree
    for write

M	metadata/metatree.c

commit dfa3f13abb7d34aa62e2c817b1ddabb448b969f9
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-18

    Add metabuilder_free

M	metadata/metabuilder.c
M	metadata/metabuilder.h

commit 9a185243a13620b860ba1ed3601a16a6d2f7c3a1
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-22

    Add MetaTree lookup by name

M	metadata/metatree.c
M	metadata/metatree.h

commit 66fb95bc205528a4ed3e0238e4b826027bd33a66
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-18

    Add refcounting for MetaTree

M	metadata/metatree.c
M	metadata/metatree.h

commit 40955d7bc0102e4193b9eca6b509903f56f17351
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-18

    Clean up mountpoint lookup code

M	metadata/metatree.c

commit 8843c54fd8402721d743a255b20d86a55ff3018c
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-22

    Initial work on libudev based tree lookup

M	configure.ac
M	metadata/Makefile.am
M	metadata/metatree.c
M	metadata/metatree.h

commit 74ea19992c60e0bd2e9f1a9e925b349909f1bdd8
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-18

    Cache mountinfo lookups

M	metadata/metatree.c

commit 7e9a03103145fbfdbab2d29767321f5362d7ac31
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-17

    Add mountinfo parsing code

M	metadata/metatree.c

commit 2e7bd465331d73e575f845768815582fde143262
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-17

    Add MetaLookupCache and initial work on meta_lookup_cache_lookup

M	metadata/metatree.c
M	metadata/metatree.h

commit c97601731a5dbc9d34e8c4c208e993a3723deec5
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-22

    Initial code for metadata store

    This adds a mmap based metadata store for NFS-safe highly
    efficient desktop-wide metadata lookup and store.

M	Makefile.am
M	configure.ac
A	metadata/.gitignore
A	metadata/Makefile.am
A	metadata/crc32.c
A	metadata/crc32.h
A	metadata/file-format.txt
A	metadata/metabuilder.c
A	metadata/metabuilder.h
A	metadata/metadata-nautilus.c
A	metadata/metatree.c
A	metadata/metatree.h

commit a8d6c3db07ad5d9dc75b94eb95492b03bc20e788
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-23

    Add gvfs-set-attribute program

M	programs/.gitignore
M	programs/Makefile.am
A	programs/gvfs-set-attribute.c

commit 4974ee6f62fa8905f70460f45f09e3784770e717
Author: Jorge Gonzalez <jorgegonz@svn.gnome.org>
Date:	2009-06-21

    Updated Spanish translation

M	po/es.po

commit d0e7de96180991cfb96f88bb15ff59bebecb45fb
Author: Claude Paroz <claude@2xlibre.net>
Date:	2009-06-18

    Fix volume prefixes in French (Bug #586280)

M	po/fr.po

commit 4053577a19585c63e23e6c6e85011e2df9910745
Author: David Zeuthen <davidz@redhat.com>
Date:	2009-06-17

    Bug 585591 – Starting/stopping drives

    This is the GVfs implementation for the new GIO API for
    starting/stopping drives. See

    http://bugzilla.gnome.org/show_bug.cgi?id=585591

    for details.

M	client/gdaemonfile.c
M	client/gvfsdaemondbus.c
M	common/gmountoperationdbus.c
M	common/gmountsource.c
M	common/gvfsdaemonprotocol.h
M	daemon/Makefile.am
M	daemon/gvfsbackend.c
M	daemon/gvfsbackend.h
M	daemon/gvfsbackendcomputer.c
A	daemon/gvfsjobstartmountable.c
A	daemon/gvfsjobstartmountable.h
A	daemon/gvfsjobstopmountable.c
A	daemon/gvfsjobstopmountable.h
M	monitor/gdu/ggdudrive.c
M	monitor/gdu/ggduvolumemonitor.c
M	monitor/proxy/gproxydrive.c
M	monitor/proxy/gproxydrive.h
M	monitor/proxy/gproxyvolume.c
M	monitor/proxy/gproxyvolumemonitor.c
M	monitor/proxy/gproxyvolumemonitor.h
M	monitor/proxy/gvfsproxyvolumemonitordaemon.c
M	programs/gvfs-mount.c

commit 8a72222d454bdf12e88402b2f012667e7c8e9754
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-06-17

    [PROGRAMS] add a -n option to gvfs-ls for nofollow-symlinks

M	programs/gvfs-ls.c

commit 056cfe684e3db4f83c176bb723c264ecfe60837f
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-06-17

    [FTP] remove EPSV as default feature

    now that we try EPSV anyway, we can omit assuming it exists and
    try PASV
    first.

M	daemon/gvfsbackendftp.h

commit acb3f8029d9f9a7054e3f138fd978e24233573a3
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-06-17

    [FTP] use the EPRT feature response for EPRT support, not EPSV

M	daemon/gvfsbackendftp.c
M	daemon/gvfsbackendftp.h
M	daemon/gvfsftptask.c

commit c6405c6653c27b247f1fbb59c01b95938fb6b2d8
Author: David Zeuthen <davidz@redhat.com>
Date:	2009-06-16

    Better handling of PC floppy drives

    PC Floppy Drives are handled in a special way since we don't poll for
    media (it would make a lot of noise). Specifically we never probe for
    the filesystem type. So if encountering a PC Floppy Drive, just always
    show all volumes from it. Since we already have working support for
    g_drive_poll_for_media() in Nautilus, things Just Work(tm)

    http://people.freedesktop.org/~david/dkd-gnome-floppy-welcome-to-the-1980s.png

    E.g. you can use the "Rescan" menu option to force media detection.

    Welcome to the 1980s.

M	monitor/gdu/ggdudrive.c
M	monitor/gdu/ggduvolume.c
M	monitor/gdu/ggduvolumemonitor.c
M	monitor/gdu/ggduvolumemonitor.h

commit 5d3ab40b5b0a574f207e7177d2f4c3bd329458a4
Author: David Zeuthen <davidz@redhat.com>
Date:	2009-06-16

    Bug 582772 – gvfsd-computer crashes with SEGSEV in recompute_files

    Never use blank/empty drive names.

M	monitor/gdu/ggdudrive.c

commit 19a6bf345fdb8d445e4c3683e4ca0af0a0031f0b
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-06-16

    [FTP] add EPRT support

    The code does not support some corner cases that are listed in the RFC
    (see inline comments), but I suspect those will never be hit. We
    can add
    those when they are hit.

M	daemon/gvfsftptask.c

commit 81fb75b2dc11a969d890f58bc3255ceae3f7bfde
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-06-16

    [FTP] add the error code for EPRT's 522 error

M	daemon/gvfsftptask.c

commit 3431510c410c4c97c372ac797c0507d1c7eb69bf
Author: David Zeuthen <davidz@redhat.com>
Date:	2009-06-15

    Bug 585853 – video file previews

    Also set preview::icon for video files.

M	daemon/gvfsbackendgphoto2.c

commit 2839922c259b848d7689d245a055c628754dc116
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-06-15

    [FTP] Bug 516704 – Be able to connect to an Active FTP Site

    Add initial support for the PORT command. Support for EPRT and a
    non-ugly API are still missing.

M	daemon/gvfsftpconnection.c
M	daemon/gvfsftpconnection.h
M	daemon/gvfsftptask.c
M	daemon/gvfsftptask.h

commit 7f2ac23d150aa779310a37534fc8564bbfc93b86
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-06-15

    [FTP] prepare the code for active FTP support

    adds a bunch of new APIs necessary for supporting active FTP. These
    APIs
    don't do anything yet, as active FTP is still unsupported, it's just
    refactoring of code.

M	daemon/gvfsbackendftp.c
M	daemon/gvfsftpdircache.c
M	daemon/gvfsftptask.c
M	daemon/gvfsftptask.h

commit 53f29945c6f8473324ea354fb38db8d90f2fe8cc
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-15

    Post release version bump

M	configure.ac

commit 256bf8c6928f2accfdc1a767806ff94b4d2892f0
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-06-15

    Update NEWS for release

M	NEWS

commit eb47de12f37e6c026881e94ed44db30dc767d9cc
Author: Daniel Nylander <po@danielnylander.se>
Date:	2009-06-13

    Updated sv translation (Daniel Nylander)

M	po/sv.po

commit 58adb82001be26c72ff216506fc87fcf1c3ed7a0
Author: David Zeuthen <davidz@redhat.com>
Date:	2009-06-12

    Bug 583494 – Audio CD isn't automounting when inserted

M	monitor/gdu/ggduvolumemonitor.c

commit e93df0133f5c6068a0d319cdbc2d9068fa21b02f
Author: David Zeuthen <davidz@redhat.com>
Date:	2009-06-12

    Make gvfs-mount print should_automount for GVolume objects

M	programs/gvfs-mount.c

commit b18516a92cb5306b6f73de83e74a9af7ddd781c0
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-06-12

    [FTP] rework data connection code

    The new code doesn't rely on funny workaround flags anymore and also
    doesn't set workaround flags unconditionally after any failure.
    It now works like this:
    1) if a default method exists, try the default method.
    2) if the default method failed, try all methods in order until
    one succeeds.
    3) if any method succeeded, make it the new default method.
    This way, we take the proper method by default, and have a proper
    fallback mechanism for flaky connections/servers that sometimes
    fail to
    connect properly.

    Also, it's much easier to add new methods (like active FTP) later.

M	daemon/gvfsbackendftp.c
M	daemon/gvfsbackendftp.h
M	daemon/gvfsftptask.c

commit 1ef4f0d82da583c97c93052b6e4ccc632351746d
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-06-12

    [FTP] indentation fixes

M	daemon/gvfsbackendftp.h

commit 3175d847032e3105c4ade67ba0ab032c859b2b2c
Author: Ivar Smolin <okul@linux.ee>
Date:	2009-06-12

    Updating Estonian translation

M	po/et.po

commit 883ebd74c283d873cb383709d50e1b4faf60e0f1
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-06-11

    [FTP] get rid of connection read/write functions

    use get_data_stream() instead and call read/write on that manually.
    Reduces the number of API.

M	daemon/gvfsbackendftp.c
M	daemon/gvfsftpconnection.c
M	daemon/gvfsftpconnection.h

commit b07c3a9b238f03b203c09adbb764e88b585cfdc6
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-06-11

    [FTP] simplify debug id API

    Add a separate function for requesting the debug id

M	daemon/gvfsbackendftp.c
M	daemon/gvfsftpconnection.c
M	daemon/gvfsftpconnection.h
M	daemon/gvfsftpdircache.c

commit 1f97543c162244e85b08de190a38f92b4338312b
Author: Jorge Gonzalez <jorgegonz@svn.gnome.org>
Date:	2009-06-11

    Updated Spanish translation

M	po/es.po

commit a1fdb3ff05aa8731d82f82f8bb508c533dd6049e
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-06-11

    [FTP] improve error handling for opening files

    permission handler now sets EPERM when file exists and ENOENT when it
    doesn't.

M	daemon/gvfsbackendftp.c

commit b6637656b002baed39647d6b7c66d79d6bae4ed5
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-06-11

    [FTP] close data connection before invoking error handlers

    Some ftp commands like RETR require an open data connection, but
    if they
    fail, we want to invoke error handlers. To allow those handlers
    to open
    data connections themselves, we close any potentially open ones beofre
    invoking them.

M	daemon/gvfsftptask.c

commit 61fcfbd9fb9e7505f9917cc2db5665b46a90e005
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-06-11

    [FTP] Bug 522208 - display not available error when ...

    Try to return EPERM when there's a permission problem instead of
    returning the default error code "Operation failed".

M	daemon/gvfsbackendftp.c

commit 36bd5e3846effed5fe8252ece85c93f00c3a0761
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-06-11

    [FTP] use directory cache for error handling

    Fix FIXME that complained about not having access to the cache from
    error handlers.
    Now that we have access, we can use it to check if a file exists
    and/or
    is a directory instead of issuing some commands manually.

M	daemon/gvfsbackendftp.c

commit f9940f8318eb0835fb793557dbd914b856cbabf9
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-06-09

    [FTP] rework handling of uncached files

    The directory cache needs a callback to lookup uncachable files.
    Uncachaable files are files that can be accessed but where the parent
    directory cannot be listed.
    This has to go into the directory cache, as the directory cache
    performs
    symlink resolving and looking up symlinks may encounter such files.

    Fixes a testcase in Andreas' test collection.

M	daemon/gvfsbackendftp.c
M	daemon/gvfsftpdircache.c
M	daemon/gvfsftpdircache.h

commit 9d7a1de3017e240b0af23d2a51237d75fb14ae09
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-06-09

    [FTP] reuse cancellable instead of creating a new one

    Now that a corner case in glib was fixed, it's possible to use
    g_cancellable_reset() and reuse the cancellable after timeouts instead
    of creating a new one.

    If you want to avoid random hangs and g_critical()s when transferring
    files, you need glib commit ced88fd0de4aedb537552561582875b427081eeb
    I've update the glib requirements accordingly.

M	configure.ac
M	daemon/gvfsbackendftp.c

commit 1b49b7c775bfadbea13651c7406e8b12dfb42ad1
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-06-08

    [FTP] fix EISDIR function

    I'm not sure why the function claimed 550 answers to CWD commands
    would
    indicate that the path is a directory, but /dev/null certainly is
    not a
    directory.

M	daemon/gvfsbackendftp.c

commit e3288d2f30f592695f3df30b60f21d37f5a64e8a
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-06-08

    [FTP] make the pull callback emit progress callbacks

    The progress callbacks are throttled to at most once per second to not
    overload dbus for very fast connections. This is implemented somewhat
    ugly using a cancellable that interrupts once per second to ensure
    progress updates are sent.
    If someone knows a saner approach, please tell me (or better:
    provide a
    patch).

M	daemon/gvfsbackendftp.c

commit 47e7ba99968d2ee481782e6fe61fb3ccb0eb8606
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-06-08

    [FTP] almost implement pull vfunc

    Progress updates are not sent yet.

M	daemon/gvfsbackendftp.c
M	daemon/gvfsbackendftp.h

commit dd02f8de178ce85d09b3fc1ed31626fb19dfcb44
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-06-05

    [FTP] use an empty username if none was given

    fixes an assertion

M	daemon/gvfsbackendftp.c

commit d94f06322c52eaed1d7732419c6120556613f3d6
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-06-05

    [FTP] handle error cases when opening/closing data connection

    There were a few conditions that were checked using return_if_fail()
    that were valid.

M	daemon/gvfsftptask.c
M	daemon/gvfsftptask.h

commit 4cebb73a48341b3695bc34750eab7290dc44b629
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-06-05

    [FTP] keep list of busy connections

    A busy connection is a connection that is currently used as a
    handle for
    a file transfer (upload or download). If all connections are busy, we
    can just return EBUSY instead of waiting for 30 seconds for a
    connection
    to become available.

    This is mostly useful for performance when there is a maximum of 1
    connection to the server and this connection is busy transferring a
    file. Even gio functions like g_file_copy() sometimes do additional
    operations while transferring files. (It does a query_info for the
    progress callback.)

M	daemon/gvfsbackendftp.h
M	daemon/gvfsftptask.c

commit 7428ea86b4c1f04ca6530d8eff4ca60cc8894f7e
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-06-05

    [FTP] don't free nonexisting entry

M	daemon/gvfsftpdircache.c

commit 8207ca57b8d0bb24ca29d1bae696a892f7962295
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-06-05

    [FTP] compute the ftp path for the ftp_path variable

M	daemon/gvfsftpfile.c

commit b4e9f6a3241f072f6275a0a50b6909b8d1a6474b
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-06-04

    [FTP] whitespace changes

    - replace tabs with 8 spaces
    - remove spaces at end of line

M	daemon/gvfsbackendftp.c
M	daemon/gvfsbackendftp.h
M	daemon/gvfsftpconnection.c
M	daemon/gvfsftpconnection.h
M	daemon/gvfsftpdircache.c
M	daemon/gvfsftpdircache.h
M	daemon/gvfsftpfile.c
M	daemon/gvfsftpfile.h
M	daemon/gvfsftptask.c
M	daemon/gvfsftptask.h

commit 099ec12159453b224957f36bef4271bfd9c326b3
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-06-04

    [FTP] improve debugging

    - print LIST replies again
    - make connections have a debug id and use it for debugging prints

M	daemon/gvfsbackendftp.c
M	daemon/gvfsftpconnection.c
M	daemon/gvfsftpconnection.h
M	daemon/gvfsftpdircache.c
M	daemon/gvfsftpdircache.h
M	daemon/gvfsftptask.c

commit 5bca61ba06c374b5d4ef197e4805074880ddee20
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-06-04

    [FTP] rework cache handling

    The cache handling has been split into a separate file and structure
    now. While the API still isn't perfect, it's much clearer than before.
    It's also faster when looking up lots of symlinks.

M	daemon/Makefile.am
M	daemon/gvfsbackendftp.c
M	daemon/gvfsbackendftp.h
M	daemon/gvfsftpconnection.c
M	daemon/gvfsftpconnection.h
A	daemon/gvfsftpdircache.c
A	daemon/gvfsftpdircache.h
M	daemon/gvfsftpfile.c
M	daemon/gvfsftpfile.h

commit 5e3ce10bd814834731ac70e584a90b64ab2860fe
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-06-04

    [FTP] do not add double slashes when constructing relative to root

M	daemon/gvfsftpfile.c

commit 06e0e082a174b9fd4405af93ca66e8bfc9b888b9
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-06-04

    [FTP] properly reduce connection count when freeing connection

M	daemon/gvfsftptask.c

commit e62142b001e218d268a85f2f90993cdf42148fae
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-06-02

    [FTP] introduce GVfsFtpTask

    split out the old FtpConnection struct into a separate GVfsFtpTask
    structure that acts as a one-stop solution to vfuncs. It keeps
    track of
    all important structures:
    - the backend
    - the current job
    - the potential connection to the server
    - the error state
    during the lifetime of a backend vfunc and supplies convenience
    functions to ease implementing these vfuncs. The API of gvfsftptask.h
    is
    documented.

M	daemon/Makefile.am
M	daemon/gvfsbackendftp.c
M	daemon/gvfsbackendftp.h
M	daemon/gvfsftpconnection.c
M	daemon/gvfsftpconnection.h
A	daemon/gvfsftptask.c
A	daemon/gvfsftptask.h

commit 2f5c4dcfd579f9b9cceb8eb08b71d4318e9c03b6
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-06-03

    [FTP] split out file code

    Next step in cleaning up the ftp backend: Split out FtpFile, which is
    used for the proper translation between FTP paths and gvfs paths.

M	daemon/Makefile.am
M	daemon/gvfsbackendftp.c
A	daemon/gvfsftpfile.c
A	daemon/gvfsftpfile.h

commit 9bc35b2b30b3f43ae7385b078c0b2fdfbdd30b1e
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-05-28

    [FTP] split out connection code

    the current FtpConnection object is not flexible enough. It is
    doing too
    many things at once, namely:
    1) handling a physical connection to the ftp server
    2) handling a GVfsJob's lifetime
    Also, the file gvfsbackendftp.c is too big, counting >2000 lines.

    This is the first step in an attempt to separate these two things. It
    splits out the physical connection into different files and makes the
    old FtpConnection code use this instead.
    A side effect of this is that it includes a change so that reading
    lines
    is now done with a GDataInputStream instead of manually, as
    suggested by
    Alex.

M	daemon/Makefile.am
M	daemon/gvfsbackendftp.c
A	daemon/gvfsftpconnection.c
A	daemon/gvfsftpconnection.h

commit fd13a19ac747c5f79b32e47724e0ee1cfa36a58f
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-06-10

    [TRASH] pass cancellables to GFile operations

    No operations in the trash backend passed the job's cancellable
    on. This
    patch fixes this.
    It also passes on the progress callback in trash_backend_pull

M	daemon/gvfsbackendtrash.c

commit df5339b873f1f1e9dd1c1d9fe113a16b52808213
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-06-10

    signal the need for updates (changes wire protocol and internal API)

    Send a boolean send_progress to the daemon in the case of push/pull
    jobs
    that indicates if progress updates should be sent to the client.
    Oftentimes the daemons can avoid quite a bit of work (like querying
    file
    sizes or setting up and operating machinery required to send progress
    updates) when it's not required.

    Patch also includes fixes to daemons to ensure they don't call a NULL
    progress_callback (previously, NULL was not a possible value).

M	client/gdaemonfile.c
M	daemon/gvfsbackendobexftp.c
M	daemon/gvfsjobpull.c
M	daemon/gvfsjobpull.h
M	daemon/gvfsjobpush.c
M	daemon/gvfsjobpush.h

commit 060d792d9a47009e33ee01aac0706893deb80e9b
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	2009-06-10

    Updated Norwegian bokmål translation.

M	po/nb.po

commit 27b14622b7fcc228ddd617ebd723751ccd8dadaa
Author: David Zeuthen <davidz@redhat.com>
Date:	2009-06-08

    gdu: Use DriveDetach() method to power down hard disk enclosures

    See this commit

    http://cgit.freedesktop.org/DeviceKit/DeviceKit-disks/commit/?id=5b7350df8b63cf4178a2fe69ee740b5222130421

    for details about DriveDetach(). In a nutshell it allows us to offer
    an Eject() option on USB enclosures. Currently we don't do this since
    such devices don't have removable media.

    With this change, we'll set can_eject to TRUE if the device is
    detachable. If the device is both detachable and removable, we prefer
    Eject over Detach() when doing the deed (e.g. consider a USB optical
    drive; it is both detachable and removable).

    To sum up, the net result of this change is that users of Nautilus
    will get an Eject option and the eject icon in Nautilus' sidebar. Upon
    the user pressing Eject in the UI we'll unmount all partitions as
    usual. Then if the device is not removable, we'll invoke
    DriveDetach(). That will make DeviceKit-disks send these two SCSI
    commands

     SYNCHRONIZE CACHE
     STOP

    and then we'll unbind e.g. the usb-storage driver from the USB
    interface of the USB device. The net result is that the device appears
    to be disconnected (ie. we get remove uevents for e.g. /dev/sdb[0..N]
    and /dev/sdb) and also that the device powers down.

    Right now DeviceKit-disks only supports DriveDetach() for USB devices
    but should it gain support for doing the same thing for Firewire,
    eSATA, whatever then we'll get that support for free too.

M	monitor/gdu/ggdudrive.c

commit c16e50b7d91438f6ba5e13d18c5ae90bcdd4a51c
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-06-08

    show speed in progress updates of gvfs-copy

M	programs/gvfs-copy.c

commit c371751552a7ed6ecfd76077e8ec080a61fe6f9b
Author: David Zeuthen <davidz@redhat.com>
Date:	2009-06-05

    gphoto2: Disable debug spew

    This errornously got introduced as part of the last commit.

M	daemon/gvfsbackendgphoto2.c

commit 7cffd6b46384f0290e641784f8c5ecb7946bcff2
Author: David Zeuthen <davidz@redhat.com>
Date:	2009-06-05

    gphoto2: Fix gphoto2 backend to work with Canon EOS 5D

    This bug was introduced during the 2.25 cycle as part of supporting
    multiple storage heads. Previously we didn't use basedir, now we
    do. And we failed to check if the basedir is actually set.

M	daemon/gvfsbackendgphoto2.c
M	monitor/gphoto2/ggphoto2volumemonitor.c

commit 3b64f78030aff331552f420d2e85f1d143edd10b
Author: Erdal Ronahi <erdal.ronahi@gmail.com>
Date:	2009-06-05

    Updated Kurdish translation

M	po/ku.po

commit e646c3d703e74a3cbef5cc7a7a4330a483718d73
Author: Christian Persch <chpe@gnome.org>
Date:	2009-06-04

    Correct "srdcir" typo to "srcdir"

M	Makefile.am

commit ee581405d10eb9ee9b516717e1b2e5bfefee9ab0
Author: Mattias Põldaru <mahfiaz gmail com>
Date:	2009-06-04

    Updating Estonian translation

M	po/et.po

commit 384b3a679e3cf5138ada51338d613df517e0658a
Author: David Zeuthen <davidz@redhat.com>
Date:	2009-06-02

    Bug 583704 – undefined reference to
    `gdu_error_check_polkit_not_authorized'

    With the new polkit 1.0 version that gnome-disk-utility is now using,
    authorizations are obtained out-of-band. So we don't need to handle it
    here.

M	monitor/gdu/Makefile.am
M	monitor/gdu/ggduvolume.c
D	monitor/gdu/polkit.c
D	monitor/gdu/polkit.h

commit 586a4e0a2ca6d3c021e8eaf509fb689e0d398082
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-05-26

    [FTP] clarify code

    Don't use:
      if (error)
	/* error handling */
      else
	/* normal code */;
      return;

    Instead use:
      if (error) {
	/* error handling */
	return;
      }
      /* normal code */
      return;

    This avoids lots of indentation for normal code and clarifies what the
    default flow of the code is.

M	daemon/gvfsbackendftp.c

commit 0891475dd5cd3b6ff639d720f9e4f9d266874eea
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-05-26

    [FTP] ensure the same remote address is used for all connections

    Save the address of the current connection, so that for future
    connections, we are sure to connect to the same machine.
    The idea here is to avoid using mirrors that have a different state,
    which might cause Heisenbugs.

M	daemon/gvfsbackendftp.c

commit 9047c1b587218bcc366b48fa5386b45ce120f53f
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-05-25

    [FTP] make ftp backend use gnio instead of libsoup

    This removes all traces of libsoup and uses gnio replacement functions
    instead. Note that various things have subtle differences, so
    expect new
    bugs.

M	daemon/Makefile.am
M	daemon/gvfsbackendftp.c

commit f5b86958b0706ee3a290cede78483d66607ed212
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-05-25

    require gnio for ftp backend

M	configure.ac

commit 8b1f581fbf7eed686d20cd729cd6620a0eabec01
Author: Jorge Gonzalez <jorgegonz@svn.gnome.org>
Date:	2009-05-26

    Updated Spanish translation

M	po/es.po

commit 7a86c013a21741d61154969872bf8e1cfd1165e6
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-05-26

    [FTP] rework creating the root file info

    There is no need to make the root file info backend specific, as
    it just
    returns a bunch of default values anyway. Also, we want to use
    the host
    display name in there.

M	daemon/gvfsbackendftp.c

commit 4b9af0f85c49d243febddff1f2bdf2409bed9cec
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-05-26

    [FTP] keep the host's display name around

    Previously we used soup_address_get_name() to query the host name on
    demand, but this will not be possible with gnio.

M	daemon/gvfsbackendftp.c

commit 11c321f41cb0b5fa3bab8ec1eb93c20c1b79a6d0
Author: Christian Kellner <gicmo@gnome.org>
Date:	2009-05-26

    [dav] Ensure we have a valid username (#582373)

    If g_mount_source_ask_password didn't fill in a new username fall
    back to the one we pre-filled it with.
    Patch by Frederic Peters <fpeters@0d.be>

M	daemon/gvfsbackenddav.c

commit c8e37497c132722a6d99a8c9511a90e90bcf3da9
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-05-26

    [FTP] rework directory listing

    This is in preparation to both making directory listing caches simpler
    and to prepare for a gnio switch.

    The code gets rid of reading the directory listing line by line and
    instead reads it as one big chunk and splits it into lines upon
    parsing.

M	daemon/gvfsbackendftp.c

commit dfc299b02ae45c6f651bf532e88b56bbcc554ab1
Author: Christian Kellner <gicmo@gnome.org>
Date:	2009-05-26

    Require glib 2.20.1

    Due to the use of g_cancellable_connect/disconnect we need
    glib 2.20.1.

M	configure.ac

commit f2ba1297f17dbbd7dd72e031f347adb0de045fb8
Author: Pavol Šimo <palo.simo@gmail.com>
Date:	2009-05-20

    Updated Slovak translation

M	po/sk.po

commit 5bebce4592fee584bbc6db29a3e62b4005a1a71f
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-05-15

    Use new race-free cancellable signal connect APIs (#572844)

M	client/gdaemonfileenumerator.c
M	common/gdbusutils.c
M	daemon/gvfsbackendftp.c

commit 87741642cd920ef4e48d09755be1cc6db6a0774b
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-05-13

    [ftp] This data connection close isn't needed

    While it oesn't hurt either, I'm removing it because it violates the
    rule that data connections should be closed before receiving the reply
    indicating the transfer is done on the command connection.

M	daemon/gvfsbackendftp.c

commit 5073d2736d6a83de04e749ae5952071da3d1ccbc
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2009-05-12

    CDDA: allow query well-formed filenames only

    This will check for ".wav" suffix as long as sscanf()
    doesn't care of the rest of the formatting string after
    last placeholder. Querying filenames like
    "Track 10.nonsense" will now throw an error.

    Partially fixes https://bugzilla.redhat.com/show_bug.cgi?id=499266

M	daemon/gvfsbackendcdda.c

commit edb7ccb661746fd55ed3b935b44a61d011a0807c
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-05-12

    Ref the infos in next_files_finish (#582195)

    In later glib versions setting the GSimpleAsyncResult gpointer data
    frees the old data using the destroy notify, which can cause crashes
    since we return it. So, just copy+ref the list instead of trying
    to steal
    the asyncresult one.

M	client/gdaemonfileenumerator.c

commit d0a339d10b789c53352b61b291eb55d67f770254
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-05-08

    Emit the new pre-unmount signal on GMounts (#576105)

M	monitor/proxy/gproxyshadowmount.c
M	monitor/proxy/gproxyvolumemonitor.c

commit e4cca36cab78b1951db5e7aa7f590599a5d5c290
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2009-05-07

    FTP: parse file sizes > 4GB correctly

    Use 64-bit strtoull() instead of 32-bit strtoul()
    when converting string to number.

    https://bugzilla.redhat.com/show_bug.cgi?id=499286

M	daemon/gvfsbackendftp.c

commit 59dd3b33a71a930651f23142e2a7d7e57727144f
Author: David Zeuthen <davidz@redhat.com>
Date:	2009-05-01

    Fix bug where drives are not ignored as they ought to be

    This should fix part of

     https://bugzilla.redhat.com/show_bug.cgi?id=498649#c14

    (the other part is fixed in the Fedora livecd scripts)

M	monitor/gdu/ggduvolumemonitor.c

commit 3f3f21fe6e2bdac8fd6acf048da6fb228adde092
Author: David Zeuthen <davidz@redhat.com>
Date:	2009-05-01

    Use new gnome-disk-utility API to figure out when media was inserted

    This fixes a problem with Nautilus automounting newly created volumes
    appearing as a result of formatting/partitioning.

M	monitor/gdu/ggdudrive.c

commit 8488ee446cf2ddb1380065bc0f983dc60682f7fc
Author: David Zeuthen <davidz@redhat.com>
Date:	2009-04-15

    Pass the 'flush' mount option for vfat

    This mount option makes the vfat filesystem driver flush data more
    often. As a consequence

     1. users never get to see the gnome-disk-utility notification daemon
	dialog just added

	 http://people.freedesktop.org/~david/gdu-unmount-busy-1.png

	but that's useful for other filesystems as well.

     2. The Nautilus copy dialog stays up until things are on the disk

    We do this in gvfs rather than DeviceKit-disks because in some
    scenarios 'flush' may be unwanted and there is currently no way to
    turn it off (e.g. no 'noflush' or 'flush=0' option).

    Ideally the kernel would get this kind of thing right by itself.

M	monitor/gdu/ggduvolume.c

commit 1ba5521dc86d7be59fc809bb7c118275fad8e4c8
Author: David Zeuthen <davidz@redhat.com>
Date:	2009-04-15

    Use new gnome-disk-utility API to hide unwanted devices

    This is to resolve bugs like

     https://bugzilla.redhat.com/show_bug.cgi?id=495170

M	monitor/gdu/ggduvolumemonitor.c

commit 4a58fb55b55ad2608121059c86bd338d3db20233
Author: David Zeuthen <davidz@redhat.com>
Date:	2009-04-13

    Bug 576083 – pre-unmount signals not being triggered

    Basically emit GVolumeMonitor::mount-pre-unmount on the volume monitor
    and retry unmount operation a couple of times.

M	monitor/gdu/ggdumount.c

commit 3c1f25749807eeede01068b885b0b618251a225a
Author: David Zeuthen <davidz@redhat.com>
Date:	2009-04-13

    Show user-mountable fstab entries

    Show all entries from /etc/fstab for which

     - the entry is user mountable
     - the mount point is in /media or $HOME
     - if it's a /dev file make sure it exists and is not handled
       by DeviceKit-disks already

    For example this /etc/fstab entry

     "quad.local:/media/FusionMedia /media/FusionMedia nfs defaults,users
     0 0"

    makes Nautilus display this when unmounted

     http://people.freedesktop.org/~david/gvfs-user-mountable-fstab-entries.png

    and these GVolume and GMount objects to appear when mounted

     Volume(0): FusionMedia
       Type: GProxyVolume (GProxyVolumeMonitorGdu)
       themed icons:  [folder-remote]  [folder]
       can_mount=1
       can_eject=0
       Mount(0): FusionMedia -> file:///media/FusionMedia
	 Type: GProxyMount (GProxyVolumeMonitorGdu)
	 themed icons:	[folder-remote]  [folder]
	 can_unmount=1
	 can_eject=0
	 is_shadowed=0

    This should resolve http://bugzilla.gnome.org/show_bug.cgi?id=536292

M	monitor/gdu/ggdumount.c
M	monitor/gdu/ggduvolume.c
M	monitor/gdu/ggduvolume.h
M	monitor/gdu/ggduvolumemonitor.c

commit 6d96b756d39a924d1244388f20d93a0a96d06698
Author: David Zeuthen <davidz@redhat.com>
Date:	2009-04-11

    Never ignore drives without media

M	monitor/gdu/ggduvolumemonitor.c

commit d51ca4c383628ff06fbd37a1a3622d394ddfc0d5
Author: David Zeuthen <davidz@redhat.com>
Date:	2009-04-11

    Ignore drives without volumes

    This fixes a problem on some dmraid setups where we have drives
    without any partitions (the dmraid boot scripts removes all partitions
    (!)). See https://bugzilla.redhat.com/show_bug.cgi?id=495152 for more
    details.

    This fix is also consistent with the policy of ignoring drives where
    all volumes are ignored. E.g. prior to this patch we didn't shown
    neither sdb if sdb1 was a the only unrecognized partition on sdb.. so
    if you delete sdb1, it would be natural to keep hiding sdb (which is
    what this patch does).

M	monitor/gdu/ggduvolumemonitor.c

commit b8f430b51f4071a7c7ba6601caf20f817fda531d
Author: David Zeuthen <davidz@redhat.com>
Date:	2009-04-09

    Bug 576587 – allow eject even on non-ejectable volumes

    This fixes a host of problems with e.g. Kindle or iPod devices
    requiring to be "ejected" to display messages such as

     "If you want to use your Kindle and continue charging, please eject
     your Kindle from your computer."

    to the user.

    Previously we relied on HAL fdi files or similar to tag that such
    devices needed to be ejectable. Now we just set everything as
    ejectable.

    For this to really work well the Nautilus patch in

     http://bugzilla.gnome.org/show_bug.cgi?id=574067

    needs to be reverted.

M	monitor/gdu/ggdudrive.c

commit 39e79a8e40355cd235d56a8695c3b0deae5e76c7
Author: David Zeuthen <davidz@redhat.com>
Date:	2009-04-09

    Ignore drives if all volumes of the drive are ignored

M	monitor/gdu/ggduvolumemonitor.c

commit 965a1d6ca3556e2c93a30f230f7529b7eee8c525
Author: David Zeuthen <davidz@redhat.com>
Date:	2009-04-09

    Don't add a volume if the device is mounted and ignored

    This fixes a problem where e.g. /dev/sdb1 a) is not referenced in
    /etc/fstab; and b) is mounted in an ignored location e.g. /mnt/live.

    Specifically this bug affects the Fedora Live CD, see
    https://bugzilla.redhat.com/show_bug.cgi?id=495033 for details.

M	monitor/gdu/ggduvolumemonitor.c

commit 7d8e6aed725cae07f8e02a4fa6facac356008f8c
Author: David Zeuthen <davidz@redhat.com>
Date:	2009-04-09

    Remove debug spew

M	monitor/gdu/ggduvolume.c

commit f1806a6055af42213362d7d686e6844abf4bf027
Author: David Zeuthen <davidz@redhat.com>
Date:	2009-04-09

    Avoid automounting volumes on virtual and unknown buses

    Basically we want to avoid automounting volumes from

     1. drives on a 'virtual' or unset bus
     2. volumes without a drive

    This is to avoid interference with things like Fedora's livecd-tools
    that use device-mapper to set up images. See

     https://bugzilla.redhat.com/show_bug.cgi?id=494144 for more

    background.

    In the future we might want to relax 1. so automounting things like
    Linux MD and LVM2 devices work.

M	monitor/gdu/ggduvolume.c

commit fff39a618cd0ce467e6629cee461784e404cca83
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:	2009-04-09

    Fix how we determine if a volume is ignored

    This fixes a typo - wrong assignment of device file when testing
    whether the
    volume should be ignored or not. It led to empty GVolume list
    associated to a
    GDrive and thus inability to mount anything via computer://

    Signed-off-by: David Zeuthen <davidz@redhat.com>

M	monitor/gdu/ggduvolumemonitor.c

commit 794ff41937d194287c12ea7b4dbb991a1ea38a41
Author: David Zeuthen <davidz@redhat.com>
Date:	2009-04-09

    Bug 573826 – gdu volume monitor

    Add the GNOME Disk Utility based volume monitor, see

     http://bugzilla.gnome.org/show_bug.cgi?id=573826
     http://mail.gnome.org/archives/gvfs-list/2009-March/msg00002.html

    for details.

M	configure.ac
M	monitor/Makefile.am
A	monitor/gdu/Makefile.am
A	monitor/gdu/gdu-volume-monitor-daemon.c
A	monitor/gdu/gdu.monitor
A	monitor/gdu/ggdudrive.c
A	monitor/gdu/ggdudrive.h
A	monitor/gdu/ggdumount.c
A	monitor/gdu/ggdumount.h
A	monitor/gdu/ggduvolume.c
A	monitor/gdu/ggduvolume.h
A	monitor/gdu/ggduvolumemonitor.c
A	monitor/gdu/ggduvolumemonitor.h
A	monitor/gdu/org.gtk.Private.GduVolumeMonitor.service.in
A	monitor/gdu/polkit.c
A	monitor/gdu/polkit.h

commit 37af452e511ac1698965da70ad4f48c72b2bb42e
Author: Manoj Kumar Giri <mgiri@mgiri.csb>
Date:	2009-04-30

    Updated Oriya Translation.

M	po/or.po

commit 345e4b2d5849294286f6a740ae43f22fb8a09a79
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-04-26

    split create_file_info() function

    The previous function was looking ugly due to early returns.
    This caused leaks and made it hard to read.

M	daemon/gvfsbackendftp.c

commit fa3fa7c8e30d680678c59d5fc60305090fc8661f
Author: Andreas Henriksson <andreas@fatal.se>
Date:	2009-04-26

    ftp: try to find hidden file/dir even when there's nothing to
    enumerate.

    Don't bail out early, always try to find hidden files directories.
    Fixes case when there's a symlink to a subdir of a
    hidden directory which we can't enumerate. (#559142)

M	daemon/gvfsbackendftp.c

commit 22c55fb6df556517cac030fd4fafce46c9aa0342
Author: Benjamin Otte <otte@gnome.org>
Date:	2009-04-26

    Bug 580125 – Logging in to a FTP server only works for the 2nd
    attempt

    Various fixes for sending the OPTS command:
    1) only send it after we're sure we've read the FEAT response (which
       moves it to after the login)
    2) ignore potential errors from the OPTS command

    Also fixes:
    Bug 580124 – Copying from FTP crashes

M	daemon/gvfsbackendftp.c

commit e53be4e80e9194ad4917102e243cecec7bd2a665
Author: Andreas Henriksson <andreas@fatal.se>
Date:	2009-04-26

    use FTP_FEATURES_DEFAULT macro

    the previous code was spelling out the default feature instead

M	daemon/gvfsbackendftp.c

commit 255e56b873c9eebad72ddd5c0e38927ae05d1caa
Author: Andreas Henriksson <andreas@fatal.se>
Date:	2009-04-26

    fix typo in comment

M	daemon/gvfsbackendftp.c

commit c580f3a886d6e4c94bbe12cd508ec78caf74df66
Author: Jordi Mas i Hernandez <jmas@softcatala.org>
Date:	2009-04-22

    Minor fixes to Catalan translation

M	po/ca.po

commit a16dc3208f437d3176f10835dd5ac302189ec947
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-04-20

    Bump master to 1.3.1 post branch

    Further 1.2.x work happens on the gnome-2-26 branch

M	configure.ac

commit c14ba27f69736c8e1f88c7692c81d2473559438c
Author: Funda Wang <fundawang@gmail.com>
Date:	2009-04-17

    Updated zh_CN translation.

M	po/ChangeLog
M	po/zh_CN.po

commit 4e49395240190526efe8833c802ee49de8b3915f
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-04-17

    Don't trust remote permissions mask fully

    We don't actually know what gids we're in, and also there may be other
    things not visible via sftp like ACLs that decide the user
    permissions. So, we only use the permissions for group and other if
    they result in a positive, otherwise we leave the attibute unset
    (meaning "don't know").

M	daemon/gvfsbackendsftp.c

commit e6d9c864f508aebf8e6bb8d67c5978f8f077137d
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-04-17

    Fix up .gitignore files

    Update old ignore files and add new ones as needed

M	.gitignore
M	client/.gitignore
M	daemon/.gitignore
A	monitor/gphoto2/.gitignore
A	monitor/hal/.gitignore
M	po/.gitignore
A	programs/.gitignore

commit a8620dfb94955fd9e6678dc936b7f97d8610df00
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-04-17

    Add rules to autogenerate ChangeLog

M	Makefile.am

commit cd9a1633a35b1243805c0e531a1f7bd75160a7d4
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-04-17

    Mention micro commits in README.commits

M	README.commits

commit 6fa515051dc7f082896151545a41a29853f4a3bc
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-04-17

    Add README.commits and dist it

    Add file explaining how we want commits to look.
    Also dist gvfs.doap and the ChangeLog.pre-1-2

M	Makefile.am
A	README.commits

commit 8cd532cf7715a4791d8156a711ecb7344b27cb46
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-04-17

    Move ChangeLog to ChangeLog.pre-1-2

    We're not using manual ChangeLogs anymore.

R099	ChangeLog	ChangeLog.pre-1-2

commit ec63735ed67da8da1cb80994efed477179c1b8fc
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-04-17

    Add gvfs.doap file

    Add short description for cgit

A	gvfs.doap

commit 5acc130a5a08d54f5701d58309c9b53352859c2d
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-04-16

    Add g_vfs_backend_is_mounted()

    2009-04-16	Alexander Larsson  <alexl@redhat.com>

	* daemon/gvfsbackend.[ch]:
	Add g_vfs_backend_is_mounted()

	* daemon/gvfsdaemon.c:
	(g_vfs_daemon_re_register_job_sources):
	Don't re-register backends that have not finished mounted
	yet. (#578861)



    svn path=/trunk/; revision=2378

M	ChangeLog
M	daemon/gvfsbackend.c
M	daemon/gvfsbackend.h
M	daemon/gvfsdaemon.c

commit 62a573a22dc12f0f6d6afddc41d93059dc19a90e
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-04-16

    Bug 578574 – always show drive names in computer://

    2009-04-16	Alexander Larsson  <alexl@redhat.com>

	Bug 578574 – always show drive names in computer://

	* daemon/gvfsbackendcomputer.c:
	(recompute_files):
	If mount has a drive, use its name as part of the display name.
	Patch from David Zeuthen



    svn path=/trunk/; revision=2377

M	ChangeLog
M	daemon/gvfsbackendcomputer.c

commit ced485ed5cf632e5f48f31546a4c731e8984729d
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-04-16

    Bug 523420 – gvfs-bash-completion.sh has a shebang and is executable

    2009-04-16	Alexander Larsson  <alexl@redhat.com>

	Bug 523420 – gvfs-bash-completion.sh has a shebang and is
	executable

	* programs/Makefile.am:
	Don't install gvfs-bash-completion.sh as executable

	* programs/gvfs-bash-completion.sh:
	Remove shebang



    svn path=/trunk/; revision=2376

M	ChangeLog
M	programs/Makefile.am
M	programs/gvfs-bash-completion.sh

commit ba5f948aad464ceafabc3d2e3d4994ae6867f4da
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-04-13

    Pick up SSH_AUTH_SOCK from gnome-keyring (#578708) Patch from
    Stef Walter.

    2009-04-13	Alexander Larsson  <alexl@redhat.com>

	* daemon/gvfsbackendsftp.c:
	Pick up SSH_AUTH_SOCK from gnome-keyring (#578708)
	Patch from Stef Walter.


    svn path=/trunk/; revision=2375

M	ChangeLog
M	daemon/gvfsbackendsftp.c

commit 975d034c64814608d35bd191fad458d6866f81a9
Author: Alexander Larsson <alexl@redhat.com>
Date:	2009-04-13

    Post release version bump

    2009-04-13	Alexander Larsson  <alexl@redhat.com>

	* configure.ac:
	Post release version bump

    === gvfs 1.2.2 ===

     line, and those below, will be ignored--

    M	 ChangeLog
    M	 configure.ac
    M	 po/ChangeLog

    svn path=/trunk/; revision=2374

M	ChangeLog
M	configure.ac
M	po/ChangeLog
